import{X as L,r as s,j as e,S as H,x as v,A as w}from"./app-rymmp9Z2.js";import{B as $}from"./Breadcrumb-UQWSEtZ7.js";import{M as S}from"./Modal-CpYi76e2.js";import{P as q}from"./Pagination-Cuwr_0ZP.js";import{A as B}from"./AdminLayout-2cr92eTh.js";import{c as m}from"./createLucideIcon-EXafxb0r.js";import{B as F}from"./book-open-CQBDo-jB.js";import{S as E}from"./search-DIT7-NcB.js";import{P as I,T as W}from"./trash-2-6g-p1yRG.js";import"./transition-grQcRSVm.js";import"./with-selector-BPVVjr5S.js";const R=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],O=m("circle-question-mark",R);const V=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],X=m("file-text",V);const Z=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],G=m("pen",Z);const J=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],K=m("refresh-cw",J);function de(){const{quizData:l}=L().props,h=l.data||[],[y,k]=s.useState(""),[p,z]=s.useState(""),[b,r]=s.useState(null),[a,o]=s.useState(null),[n,i]=s.useState(!1),[d,c]=s.useState(!1),[C,x]=s.useState(!1),[M,u]=s.useState(!1),N=h.filter(t=>{const f=t.title.toLowerCase().includes(y.toLowerCase()),j=p?t.status===p:!0;return f&&j}),D=t=>{r(t),x(!0)},P=()=>{b&&(i(!0),w.delete(route("quizzes.destroy",b.id),{onFinish:()=>{i(!1),x(!1),r(null)}}))},T=t=>{o(t),u(!0)},Q=()=>{if(!a)return;c(!0);const t=a.status==="Published"?"Draft":"Published";w.put(route("quizzes.update",a.id),{status:t},{preserveScroll:!0,onFinish:()=>{c(!1),u(!1),o(null)}})},g="Quiz List",A=[{title:"Home",url:"/"},{title:g,url:""}],_=[{label:"Total Quizzes",value:l.total||0,icon:O,color:"text-blue-500",borderColor:"border-blue-100",bgColor:"bg-blue-50",description:"All quizzes in the system"},{label:"Published",value:h.filter(t=>t.status==="Published").length||0,icon:F,color:"text-green-500",borderColor:"border-green-100",bgColor:"bg-green-50",description:"Active and available quizzes"},{label:"Draft",value:h.filter(t=>t.status==="Draft").length||0,icon:X,color:"text-orange-500",borderColor:"border-orange-100",bgColor:"bg-orange-50",description:"Quizzes in draft mode"}];return e.jsxs(B,{breadcrumb:e.jsx($,{header:g,links:A}),children:[e.jsx(H,{title:g}),e.jsx("section",{className:"content",children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:_.map((t,f)=>{const j=t.icon;return e.jsxs("div",{className:`bg-white px-3 pb-2 pt-3 border-l-4 ${t.borderColor} shadow-sm rounded-xl flex flex-col hover:shadow-md transition-all duration-200`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:t.label}),e.jsx("div",{className:`${t.color}`,children:e.jsx(j,{className:"w-7 h-7"})})]}),e.jsxs("div",{className:"",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:t.value}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.description})]})]},f)})}),e.jsxs("div",{className:"bg-white shadow-md rounded-xl overflow-hidden border border-gray-200 mb-12",children:[e.jsxs("div",{className:"px-6 py-4 border-b flex flex-col md:flex-row justify-between items-center gap-3",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Quiz Management"}),e.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[e.jsx("form",{className:"inline-block",onSubmit:t=>t.preventDefault(),children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 rounded-xl border hover:shadow-lg transition text-sm bg-white",children:[e.jsx(E,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search by title...",className:"px-2 outline-none border-none bg-transparent text-sm placeholder-gray-400 w-full min-w-[150px]",value:y,onChange:t=>k(t.target.value)})]})}),e.jsxs("select",{className:"px-3 py-2 rounded-xl border border-gray-300 bg-white hover:shadow-lg transition text-sm font-medium",value:p,onChange:t=>z(t.target.value),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Published",children:"Published"}),e.jsx("option",{value:"Draft",children:"Draft"})]}),e.jsxs(v,{href:route("quizzes.create"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm text-white bg-green-600 hover:bg-green-500 transition",children:[e.jsx(I,{className:"w-4 h-4"}),"Add Quiz"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4",children:"#ID"}),e.jsx("th",{className:"py-3 px-4",children:"Title"}),e.jsx("th",{className:"py-3 px-4",children:"Questions"}),e.jsx("th",{className:"py-3 px-4",children:"Status"}),e.jsx("th",{className:"py-3 px-4 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"text-sm text-gray-700",children:N.length>0?N.map(t=>e.jsxs("tr",{className:"border-t hover:bg-gray-50 transition",children:[e.jsx("td",{className:"py-3 px-4 font-semibold",children:t.id}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("p",{className:"font-medium text-gray-900",children:t.title})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.questions?.length||0})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.status==="Published"?"bg-green-600 text-white":"bg-orange-400 text-white"}`,children:t.status})}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(v,{href:route("quizzes.edit",t.id),className:"inline-flex items-center gap-1.5 px-2 py-2 text-sm font-medium rounded-xl bg-blue-500 text-white hover:bg-blue-600 transition",children:e.jsx(G,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-white text-gray-800 text-xs px-3 py-1 rounded-lg shadow-md border",children:"Edit Quiz"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("button",{onClick:()=>T(t),className:"inline-flex items-center gap-1.5 px-2 py-2 text-sm font-medium rounded-xl bg-purple-500 text-white hover:bg-purple-600 transition",children:e.jsx(K,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-white text-gray-800 text-xs px-3 py-1 rounded-lg shadow-md border",children:"Toggle Status"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("button",{onClick:()=>D(t),className:"inline-flex items-center gap-1.5 px-2 py-2 text-sm font-medium rounded-xl bg-red-500 text-white hover:bg-red-400 transition",children:e.jsx(W,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-white text-gray-800 text-xs px-3 py-1 rounded-lg shadow-md border",children:"Delete Quiz"})]})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"py-8 text-center text-gray-500",children:"No quizzes found"})})})]})}),l.total>10&&e.jsx("div",{className:"px-6 py-3 border-t flex justify-center",children:e.jsx(q,{links:l.links,currentPage:l.current_page,perPage:l.per_page})})]}),e.jsx(S,{show:C,onClose:()=>{x(!1),r(null),i(!1)},maxWidth:"lg",children:e.jsxs("form",{onSubmit:t=>{t.preventDefault(),n||P()},className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Delete Quiz"}),e.jsxs("p",{className:"text-gray-700 mb-4",children:["Are you sure you want to delete ",e.jsxs("span",{className:"font-semibold",children:['"',b?.title,'"']}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{x(!1),r(null),i(!1)},className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-[10px] px-9 py-1 bg-red-600 text-white font-semibold hover:bg-red-700 transition",disabled:n,children:n?"Deleting...":"Delete"})]})]})}),e.jsx(S,{show:M,onClose:()=>{u(!1),o(null),c(!1)},maxWidth:"lg",children:e.jsxs("form",{onSubmit:t=>{t.preventDefault(),d||Q()},className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Change Quiz Status"}),e.jsxs("p",{className:"text-gray-700 mb-4",children:["Are you sure you want to change status of ",e.jsxs("span",{className:"font-semibold",children:['"',a?.title,'"']})," from ",e.jsx("span",{className:"font-semibold",children:a?.status}),"?"]}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{u(!1),o(null),c(!1)},className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:d,children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-[10px] px-9 py-1 bg-purple-600 text-white font-semibold hover:bg-purple-700 transition",disabled:d,children:d?"Processing...":"Confirm"})]})]})})]})})]})}export{de as default};
