import{X as T,r as l,j as e,S as H,x as v,A as w}from"./app-BjqCgIyx.js";import{B as $}from"./Breadcrumb-CypNNXXb.js";import{M as S}from"./Modal-UDtqqqRR.js";import{P as q}from"./Pagination-C62AK7uk.js";import{A as B}from"./AdminLayout-B7XET_EX.js";import{c as p}from"./createLucideIcon-CMyWvhk4.js";import{B as F}from"./book-open-BKo4GB5q.js";import{S as E}from"./search-_AXU55GT.js";import{P as I,T as W}from"./trash-2-Dw_bbY7B.js";import"./transition-02Kcjz_l.js";/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],O=p("circle-question-mark",R);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],X=p("file-text",V);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],G=p("pen",Z);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],K=p("refresh-cw",J);function ie(){const{quizData:a}=T().props,b=a.data||[],[y,k]=l.useState(""),[g,z]=l.useState(""),[o,n]=l.useState(null),[s,i]=l.useState(null),[d,c]=l.useState(!1),[x,u]=l.useState(!1),[C,h]=l.useState(!1),[M,m]=l.useState(!1),N=b.filter(t=>{const r=t.title.toLowerCase().includes(y.toLowerCase()),j=g?t.status===g:!0;return r&&j}),D=t=>{n(t),h(!0)},P=()=>{o&&(c(!0),w.delete(route("quizzes.destroy",o.id),{onFinish:()=>{c(!1),h(!1),n(null)}}))},Q=t=>{i(t),m(!0)},A=()=>{if(!s)return;u(!0);const t=s.status==="Published"?"Draft":"Published";w.put(route("quizzes.update",s.id),{status:t},{preserveScroll:!0,onFinish:()=>{u(!1),m(!1),i(null)}})},f="Quiz List",_=[{title:"Home",url:"/"},{title:f,url:""}],L=[{label:"Total Quizzes",value:a.total||0,icon:O,color:"text-blue-500",borderColor:"border-blue-100",bgColor:"bg-blue-50",description:"All quizzes in the system"},{label:"Published",value:b.filter(t=>t.status==="Published").length||0,icon:F,color:"text-green-500",borderColor:"border-green-100",bgColor:"bg-green-50",description:"Active and available quizzes"},{label:"Draft",value:b.filter(t=>t.status==="Draft").length||0,icon:X,color:"text-orange-500",borderColor:"border-orange-100",bgColor:"bg-orange-50",description:"Quizzes in draft mode"}];return e.jsxs(B,{breadcrumb:e.jsx($,{header:f,links:_}),children:[e.jsx(H,{title:f}),e.jsx("section",{className:"content",children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:L.map((t,r)=>{const j=t.icon;return e.jsxs("div",{className:`bg-white px-3 pb-2 pt-3 border-l-4 ${t.borderColor} shadow-sm rounded-xl flex flex-col hover:shadow-md transition-all duration-200`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:t.label}),e.jsx("div",{className:`${t.color}`,children:e.jsx(j,{className:"w-7 h-7"})})]}),e.jsxs("div",{className:"",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:t.value}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.description})]})]},r)})}),e.jsxs("div",{className:"bg-white shadow-md rounded-xl overflow-hidden border border-gray-200 mb-12",children:[e.jsxs("div",{className:"px-6 py-4 border-b flex flex-col md:flex-row justify-between items-center gap-3",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Quiz Management"}),e.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[e.jsx("form",{className:"inline-block",onSubmit:t=>t.preventDefault(),children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 rounded-xl border hover:shadow-lg transition text-sm bg-white",children:[e.jsx(E,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search by title...",className:"px-2 outline-none border-none bg-transparent text-sm placeholder-gray-400 w-full min-w-[150px]",value:y,onChange:t=>k(t.target.value)})]})}),e.jsxs("select",{className:"px-3 py-2 rounded-xl border border-gray-300 bg-white hover:shadow-lg transition text-sm font-medium",value:g,onChange:t=>z(t.target.value),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Published",children:"Published"}),e.jsx("option",{value:"Draft",children:"Draft"})]}),e.jsxs(v,{href:route("quizzes.create"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm text-white bg-green-600 hover:bg-green-500 transition",children:[e.jsx(I,{className:"w-4 h-4"}),"Add Quiz"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4",children:"#ID"}),e.jsx("th",{className:"py-3 px-4",children:"Title"}),e.jsx("th",{className:"py-3 px-4",children:"Questions"}),e.jsx("th",{className:"py-3 px-4",children:"Status"}),e.jsx("th",{className:"py-3 px-4 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"text-sm text-gray-700",children:N.length>0?N.map(t=>{var r;return e.jsxs("tr",{className:"border-t hover:bg-gray-50 transition",children:[e.jsx("td",{className:"py-3 px-4 font-semibold",children:t.id}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("p",{className:"font-medium text-gray-900",children:t.title})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:((r=t.questions)==null?void 0:r.length)||0})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.status==="Published"?"bg-green-600 text-white":"bg-orange-400 text-white"}`,children:t.status})}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(v,{href:route("quizzes.edit",t.id),className:"inline-flex items-center gap-1.5 px-2 py-2 text-sm font-medium rounded-xl bg-blue-500 text-white hover:bg-blue-600 transition",children:e.jsx(G,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-white text-gray-800 text-xs px-3 py-1 rounded-lg shadow-md border",children:"Edit Quiz"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("button",{onClick:()=>Q(t),className:"inline-flex items-center gap-1.5 px-2 py-2 text-sm font-medium rounded-xl bg-purple-500 text-white hover:bg-purple-600 transition",children:e.jsx(K,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-white text-gray-800 text-xs px-3 py-1 rounded-lg shadow-md border",children:"Toggle Status"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("button",{onClick:()=>D(t),className:"inline-flex items-center gap-1.5 px-2 py-2 text-sm font-medium rounded-xl bg-red-500 text-white hover:bg-red-400 transition",children:e.jsx(W,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-white text-gray-800 text-xs px-3 py-1 rounded-lg shadow-md border",children:"Delete Quiz"})]})]})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"py-8 text-center text-gray-500",children:"No quizzes found"})})})]})}),a.total>10&&e.jsx("div",{className:"px-6 py-3 border-t flex justify-center",children:e.jsx(q,{links:a.links,currentPage:a.current_page,perPage:a.per_page})})]}),e.jsx(S,{show:C,onClose:()=>{h(!1),n(null),c(!1)},maxWidth:"lg",children:e.jsxs("form",{onSubmit:t=>{t.preventDefault(),d||P()},className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Delete Quiz"}),e.jsxs("p",{className:"text-gray-700 mb-4",children:["Are you sure you want to delete ",e.jsxs("span",{className:"font-semibold",children:['"',o==null?void 0:o.title,'"']}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{h(!1),n(null),c(!1)},className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:d,children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-[10px] px-9 py-1 bg-red-600 text-white font-semibold hover:bg-red-700 transition",disabled:d,children:d?"Deleting...":"Delete"})]})]})}),e.jsx(S,{show:M,onClose:()=>{m(!1),i(null),u(!1)},maxWidth:"lg",children:e.jsxs("form",{onSubmit:t=>{t.preventDefault(),x||A()},className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Change Quiz Status"}),e.jsxs("p",{className:"text-gray-700 mb-4",children:["Are you sure you want to change status of ",e.jsxs("span",{className:"font-semibold",children:['"',s==null?void 0:s.title,'"']})," from ",e.jsx("span",{className:"font-semibold",children:s==null?void 0:s.status}),"?"]}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{m(!1),i(null),u(!1)},className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:x,children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-[10px] px-9 py-1 bg-purple-600 text-white font-semibold hover:bg-purple-700 transition",disabled:x,children:x?"Processing...":"Confirm"})]})]})})]})})]})}export{ie as default};
