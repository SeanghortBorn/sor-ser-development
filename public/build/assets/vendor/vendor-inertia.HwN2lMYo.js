import{ak as e,al as t,am as r,an as n,a as s,ao as o,ap as i,aq as a}from"./vendor-common.B_9lrMAm.js";import{r as l,R as c,a as u}from"./vendor-react.CSh4geB6.js";var h=new class{constructor(e){this.config={},this.defaults=e}extend(e){return e&&(this.defaults={...this.defaults,...e}),this}replace(e){this.config=e}get(t){return o(this.config,t)?e(this.config,t):e(this.defaults,t)}set(e,r){"string"==typeof e?t(this.config,e,r):Object.entries(e).forEach(([e,r])=>{t(this.config,e,r)})}}({form:{recentlySuccessfulDuration:2e3,forceIndicesArrayFormatInFormData:!0},future:{preserveEqualProps:!1,useDataInertiaHeadAttribute:!1,useDialogForErrorModal:!1,useScriptElementForInitialPage:!1},prefetch:{cacheFor:3e4,hoverDelay:75}});function d(e,t){let r;return function(...n){clearTimeout(r),r=setTimeout(()=>e.apply(this,n),t)}}function p(e,t){return document.dispatchEvent(new CustomEvent(`inertia:${e}`,t))}var m=e=>p("before",{cancelable:!0,detail:{visit:e}}),f=e=>p("navigate",{detail:{page:e}}),g=class{static set(e,t){"undefined"!=typeof window&&window.sessionStorage.setItem(e,JSON.stringify(t))}static get(e){if("undefined"!=typeof window)return JSON.parse(window.sessionStorage.getItem(e)||"null")}static merge(e,t){const r=this.get(e);null===r?this.set(e,t):this.set(e,{...r,...t})}static remove(e){"undefined"!=typeof window&&window.sessionStorage.removeItem(e)}static removeNested(e,t){const r=this.get(e);null!==r&&(delete r[t],this.set(e,r))}static exists(e){try{return null!==this.get(e)}catch(t){return!1}}static clear(){"undefined"!=typeof window&&window.sessionStorage.clear()}};g.locationVisitKey="inertiaLocationVisit";var v="historyKey",y="historyIv",w=async(e,t,r)=>{if("undefined"==typeof window)throw new Error("Unable to encrypt history");if(void 0===window.crypto.subtle)return Promise.resolve(r);const n=new TextEncoder,s=JSON.stringify(r),o=new Uint8Array(3*s.length),i=n.encodeInto(s,o);return window.crypto.subtle.encrypt({name:"AES-GCM",iv:e},t,o.subarray(0,i.written))},P=async(e,t,r)=>{if(void 0===window.crypto.subtle)return Promise.resolve(r);const n=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,r);return JSON.parse((new TextDecoder).decode(n))},S=()=>{const e=g.get(y);if(e)return new Uint8Array(e);const t=window.crypto.getRandomValues(new Uint8Array(12));return g.set(y,Array.from(t)),t},b=async e=>{if(e)return e;const t=await(async()=>void 0===window.crypto.subtle?Promise.resolve(null):window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))();return t?(await(async e=>{if(void 0===window.crypto.subtle)return Promise.resolve();const t=await window.crypto.subtle.exportKey("raw",e);g.set(v,Array.from(new Uint8Array(t)))})(t),t):null},E=async()=>{const e=g.get(v);if(!e)return null;return await window.crypto.subtle.importKey("raw",new Uint8Array(e),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])},C=(e,t,r)=>{if(e===t)return!0;for(const n in e)if(!r.includes(n)&&e[n]!==t[n]&&!T(e[n],t[n]))return!1;for(const n in t)if(!r.includes(n)&&!(n in e))return!1;return!0},T=(e,t)=>{switch(typeof e){case"object":return C(e,t,[]);case"function":return e.toString()===t.toString();default:return e===t}},k={ms:1,s:1e3,m:6e4,h:36e5,d:864e5},A=e=>{if("number"==typeof e)return e;for(const[t,r]of Object.entries(k))if(e.endsWith(t))return parseFloat(e)*r;return parseInt(e)},x=new class{constructor(){this.cached=[],this.inFlightRequests=[],this.removalTimers=[],this.currentUseId=null}add(e,t,{cacheFor:r,cacheTags:n}){if(this.findInFlight(e))return Promise.resolve();const s=this.findCached(e);if(!e.fresh&&s&&s.staleTimestamp>Date.now())return Promise.resolve();const[o,i]=this.extractStaleValues(r),a=new Promise((r,n)=>{t({...e,onCancel:()=>{this.remove(e),e.onCancel(),n()},onError:t=>{this.remove(e),e.onError(t),n()},onPrefetching(t){e.onPrefetching(t)},onPrefetched(t,r){e.onPrefetched(t,r)},onPrefetchResponse(e){r(e)},onPrefetchError(t){x.removeFromInFlight(e),n(t)}})}).then(t=>{this.remove(e);const r=t.getPageResponse();_.mergeOncePropsIntoResponse(r),this.cached.push({params:{...e},staleTimestamp:Date.now()+o,expiresAt:Date.now()+i,response:a,singleUse:0===i,timestamp:Date.now(),inFlight:!1,tags:Array.isArray(n)?n:[n]});const s=this.getShortestOncePropTtl(r);return this.scheduleForRemoval(e,s?Math.min(i,s):i),this.removeFromInFlight(e),t.handlePrefetch(),t});return this.inFlightRequests.push({params:{...e},response:a,staleTimestamp:null,inFlight:!0}),a}removeAll(){this.cached=[],this.removalTimers.forEach(e=>{clearTimeout(e.timer)}),this.removalTimers=[]}removeByTags(e){this.cached=this.cached.filter(t=>!t.tags.some(t=>e.includes(t)))}remove(e){this.cached=this.cached.filter(t=>!this.paramsAreEqual(t.params,e)),this.clearTimer(e)}removeFromInFlight(e){this.inFlightRequests=this.inFlightRequests.filter(t=>!this.paramsAreEqual(t.params,e))}extractStaleValues(e){const[t,r]=this.cacheForToStaleAndExpires(e);return[A(t),A(r)]}cacheForToStaleAndExpires(e){if(!Array.isArray(e))return[e,e];switch(e.length){case 0:return[0,0];case 1:return[e[0],e[0]];default:return[e[0],e[1]]}}clearTimer(e){const t=this.removalTimers.find(t=>this.paramsAreEqual(t.params,e));t&&(clearTimeout(t.timer),this.removalTimers=this.removalTimers.filter(e=>e!==t))}scheduleForRemoval(e,t){if("undefined"!=typeof window&&(this.clearTimer(e),t>0)){const r=window.setTimeout(()=>this.remove(e),t);this.removalTimers.push({params:e,timer:r})}}get(e){return this.findCached(e)||this.findInFlight(e)}use(e,t){const r=`${t.url.pathname}-${Date.now()}-${Math.random().toString(36).substring(7)}`;return this.currentUseId=r,e.response.then(e=>{if(this.currentUseId===r)return e.mergeParams({...t,onPrefetched:()=>{}}),this.removeSingleUseItems(t),e.handle()})}removeSingleUseItems(e){this.cached=this.cached.filter(t=>!this.paramsAreEqual(t.params,e)||!t.singleUse)}findCached(e){return this.cached.find(t=>this.paramsAreEqual(t.params,e))||null}findInFlight(e){return this.inFlightRequests.find(t=>this.paramsAreEqual(t.params,e))||null}withoutPurposePrefetchHeader(e){const t=r(e);return"prefetch"===t.headers.Purpose&&delete t.headers.Purpose,t}paramsAreEqual(e,t){return C(this.withoutPurposePrefetchHeader(e),this.withoutPurposePrefetchHeader(t),["showProgress","replace","prefetch","preserveScroll","preserveState","onBefore","onBeforeUpdate","onStart","onProgress","onFinish","onCancel","onSuccess","onError","onPrefetched","onCancelToken","onPrefetching","async","viewTransition"])}updateCachedOncePropsFromCurrentPage(){this.cached.forEach(e=>{e.response.then(t=>{const r=t.getPageResponse();_.mergeOncePropsIntoResponse(r,{force:!0});const n=this.getShortestOncePropTtl(r);if(null===n)return;const s=e.expiresAt-Date.now(),o=Math.min(s,n);o>0?this.scheduleForRemoval(e.params,o):this.remove(e.params)})})}getShortestOncePropTtl(e){const t=Object.values(e.onceProps??{}).map(e=>e.expiresAt).filter(e=>!!e);return 0===t.length?null:Math.min(...t)-Date.now()}},q=class{static save(){G.saveScrollPositions(Array.from(this.regions()).map(e=>({top:e.scrollTop,left:e.scrollLeft})))}static regions(){return document.querySelectorAll("[scroll-region]")}static reset(){("undefined"!=typeof window?window.location.hash:null)||window.scrollTo(0,0),this.regions().forEach(e=>{"function"==typeof e.scrollTo?e.scrollTo(0,0):(e.scrollTop=0,e.scrollLeft=0)}),this.save(),this.scrollToAnchor()}static scrollToAnchor(){const e="undefined"!=typeof window?window.location.hash:null;e&&setTimeout(()=>{const t=document.getElementById(e.slice(1));t?t.scrollIntoView():window.scrollTo(0,0)})}static restore(e){"undefined"!=typeof window&&window.requestAnimationFrame(()=>{this.restoreDocument(),this.restoreScrollRegions(e)})}static restoreScrollRegions(e){"undefined"!=typeof window&&this.regions().forEach((t,r)=>{const n=e[r];n&&("function"==typeof t.scrollTo?t.scrollTo(n.left,n.top):(t.scrollTop=n.top,t.scrollLeft=n.left))})}static restoreDocument(){const e=G.getDocumentScrollPosition();window.scrollTo(e.left,e.top)}static onScroll(e){const t=e.target;"function"==typeof t.hasAttribute&&t.hasAttribute("scroll-region")&&this.save()}static onWindowScroll(){G.saveDocumentScrollPosition({top:window.scrollY,left:window.scrollX})}},I=e=>"undefined"!=typeof File&&e instanceof File||e instanceof Blob||"undefined"!=typeof FileList&&e instanceof FileList&&e.length>0;function F(e){return I(e)||e instanceof FormData&&Array.from(e.values()).some(e=>F(e))||"object"==typeof e&&null!==e&&Object.values(e).some(e=>F(e))}var R=e=>e instanceof FormData;function M(e,t=new FormData,r=null,n="brackets"){e=e||{};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&O(t,L(r,s,"indices"),e[s],n);return t}function L(e,t,r){return e?"brackets"===r?`${e}[]`:`${e}[${t}]`:t}function O(e,t,r,n){return Array.isArray(r)?Array.from(r.keys()).forEach(s=>O(e,L(t,s.toString(),n),r[s],n)):r instanceof Date?e.append(t,r.toISOString()):r instanceof File?e.append(t,r,r.name):r instanceof Blob?e.append(t,r):"boolean"==typeof r?e.append(t,r?"1":"0"):"string"==typeof r?e.append(t,r):"number"==typeof r?e.append(t,`${r}`):null==r?e.append(t,""):void M(r,e,t,n)}function N(e){return new URL(e.toString(),"undefined"==typeof window?void 0:window.location.toString())}var D=(e,t,r,n,s)=>{let o="string"==typeof e?N(e):e;if(!F(t)&&!n||R(t)||(h.get("form.forceIndicesArrayFormatInFormData")&&(s="indices"),t=M(t,new FormData,null,s)),R(t))return[o,t];const[i,a]=$(r,o,t,s);return[N(i),a]};function $(e,t,r,n="brackets"){const s="get"===e&&!R(r)&&Object.keys(r).length>0,o=V(t.toString()),a=o||t.toString().startsWith("/")||""===t.toString(),l=!a&&!t.toString().startsWith("#")&&!t.toString().startsWith("?"),c=/^[.]{1,2}([/]|$)/.test(t.toString()),u=t.toString().includes("?")||s,h=t.toString().includes("#"),d=new URL(t.toString(),"undefined"==typeof window?"http://localhost":window.location.toString());if(s){const e={ignoreQueryPrefix:!0,parseArrays:!1};d.search=i.stringify({...i.parse(d.search,e),...r},{encodeValuesOnly:!0,arrayFormat:n})}return[[o?`${d.protocol}//${d.host}`:"",a?d.pathname:"",l?d.pathname.substring(c?0:1):"",u?d.search:"",h?d.hash:""].join(""),s?{}:r]}function U(e){return(e=new URL(e.href)).hash="",e}var B=(e,t)=>{e.hash&&!t.hash&&U(e).href===t.href&&(t.hash=e.hash)},H=(e,t)=>U(e).href===U(t).href;function j(e){return null!==e&&"object"==typeof e&&void 0!==e&&"url"in e&&"method"in e}function V(e){return/^[a-z][a-z0-9+.-]*:\/\//i.test(e)}function W(e,t){const r="string"==typeof e?N(e):e;return t?`${r.protocol}//${r.host}${r.pathname}${r.search}${r.hash}`:`${r.pathname}${r.search}${r.hash}`}var _=new class{constructor(){this.componentId={},this.listeners=[],this.isFirstPageLoad=!0,this.cleared=!1,this.pendingDeferredProps=null}init({initialPage:e,swapComponent:t,resolveComponent:r}){return this.page=e,this.swapComponent=t,this.resolveComponent=r,this}set(e,{replace:t=!1,preserveScroll:r=!1,preserveState:n=!1,viewTransition:s=!1}={}){Object.keys(e.deferredProps||{}).length&&(this.pendingDeferredProps={deferredProps:e.deferredProps,component:e.component,url:e.url}),this.componentId={};const o=this.componentId;return e.clearHistory&&G.clear(),this.resolve(e.component).then(i=>{if(o!==this.componentId)return;e.rememberedState??(e.rememberedState={});const a="undefined"==typeof window,l=a?new URL(e.url):window.location,c=!a&&r?G.getScrollRegions():[];return t=t||H(N(e.url),l),new Promise(r=>{t?G.replaceState(e,()=>r(null)):G.pushState(e,()=>r(null))}).then(()=>{const o=!this.isTheSame(e);return!o&&Object.keys(e.props.errors||{}).length>0&&(s=!1),this.page=e,this.cleared=!1,this.hasOnceProps()&&x.updateCachedOncePropsFromCurrentPage(),o&&this.fireEventsFor("newComponent"),this.isFirstPageLoad&&this.fireEventsFor("firstLoad"),this.isFirstPageLoad=!1,this.swap({component:i,page:e,preserveState:n,viewTransition:s}).then(()=>{r?window.requestAnimationFrame(()=>q.restoreScrollRegions(c)):q.reset(),this.pendingDeferredProps&&this.pendingDeferredProps.component===e.component&&this.pendingDeferredProps.url===e.url&&Q.fireInternalEvent("loadDeferredProps",this.pendingDeferredProps.deferredProps),this.pendingDeferredProps=null,t||f(e)})})})}setQuietly(e,{preserveState:t=!1}={}){return this.resolve(e.component).then(r=>(this.page=e,this.cleared=!1,G.setCurrent(e),this.swap({component:r,page:e,preserveState:t,viewTransition:!1})))}clear(){this.cleared=!0}isCleared(){return this.cleared}get(){return this.page}hasOnceProps(){return Object.keys(this.page.onceProps??{}).length>0}merge(e){this.page={...this.page,...e}}setUrlHash(e){this.page.url.includes(e)||(this.page.url+=e)}remember(e){this.page.rememberedState=e}swap({component:e,page:t,preserveState:r,viewTransition:n}){const s=()=>this.swapComponent({component:e,page:t,preserveState:r});if(!n||!document?.startViewTransition)return s();const o="boolean"==typeof n?()=>null:n;return new Promise(e=>{const t=document.startViewTransition(()=>s().then(e));o(t)})}resolve(e){return Promise.resolve(this.resolveComponent(e))}isTheSame(e){return this.page.component===e.component}on(e,t){return this.listeners.push({event:e,callback:t}),()=>{this.listeners=this.listeners.filter(r=>r.event!==e&&r.callback!==t)}}fireEventsFor(e){this.listeners.filter(t=>t.event===e).forEach(e=>e.callback())}mergeOncePropsIntoResponse(e,{force:t=!1}={}){Object.entries(e.onceProps??{}).forEach(([r,n])=>{const s=this.page.onceProps?.[r];void 0!==s&&(t||void 0===e.props[n.prop])&&(e.props[n.prop]=this.page.props[s.prop],e.onceProps[r].expiresAt=s.expiresAt)})}},J=class{constructor(){this.items=[],this.processingPromise=null}add(e){return this.items.push(e),this.process()}process(){return this.processingPromise??(this.processingPromise=this.processNext().finally(()=>{this.processingPromise=null})),this.processingPromise}processNext(){const e=this.items.shift();return e?Promise.resolve(e()).then(()=>this.processNext()):Promise.resolve()}},K="undefined"==typeof window,X=new J,z=!K&&/CriOS/.test(window.navigator.userAgent);"undefined"!=typeof window&&window.history.scrollRestoration&&(window.history.scrollRestoration="manual");var G=new class{constructor(){this.rememberedState="rememberedState",this.scrollRegions="scrollRegions",this.preserveUrl=!1,this.current={},this.initialState=null}remember(e,t){this.replaceState({..._.get(),rememberedState:{..._.get()?.rememberedState??{},[t]:e}})}restore(e){if(!K)return void 0!==this.current[this.rememberedState]?.[e]?this.current[this.rememberedState]?.[e]:this.initialState?.[this.rememberedState]?.[e]}pushState(e,t=null){K||(this.preserveUrl?t&&t():(this.current=e,X.add(()=>this.getPageData(e).then(r=>{const n=()=>this.doPushState({page:r},e.url).then(()=>t?.());return z?new Promise(e=>{setTimeout(()=>n().then(e))}):n()}))))}clonePageProps(e){try{return structuredClone(e.props),e}catch{return{...e,props:r(e.props)}}}getPageData(e){const t=this.clonePageProps(e);return new Promise(r=>e.encryptHistory?(async e=>{if("undefined"==typeof window)throw new Error("Unable to encrypt history");const t=S(),r=await E(),n=await b(r);if(!n)throw new Error("Unable to encrypt history");return await w(t,n,e)})(t).then(r):r(t))}processQueue(){return X.process()}decrypt(e=null){if(K)return Promise.resolve(e??_.get());const t=e??window.history.state?.page;return this.decryptPageData(t).then(e=>{if(!e)throw new Error("Unable to decrypt history");return null===this.initialState?this.initialState=e??void 0:this.current=e??{},e})}decryptPageData(e){return e instanceof ArrayBuffer?(async e=>{const t=S(),r=await E();if(!r)throw new Error("Unable to decrypt history");return await P(t,r,e)})(e):Promise.resolve(e)}saveScrollPositions(e){X.add(()=>Promise.resolve().then(()=>{if(window.history.state?.page&&!n(this.getScrollRegions(),e))return this.doReplaceState({page:window.history.state.page,scrollRegions:e})}))}saveDocumentScrollPosition(e){X.add(()=>Promise.resolve().then(()=>{if(window.history.state?.page&&!n(this.getDocumentScrollPosition(),e))return this.doReplaceState({page:window.history.state.page,documentScrollPosition:e})}))}getScrollRegions(){return window.history.state?.scrollRegions||[]}getDocumentScrollPosition(){return window.history.state?.documentScrollPosition||{top:0,left:0}}replaceState(e,t=null){_.merge(e),K||(this.preserveUrl?t&&t():(this.current=e,X.add(()=>this.getPageData(e).then(r=>{const n=()=>this.doReplaceState({page:r},e.url).then(()=>t?.());return z?new Promise(e=>{setTimeout(()=>n().then(e))}):n()}))))}doReplaceState(e,t){return Promise.resolve().then(()=>window.history.replaceState({...e,scrollRegions:e.scrollRegions??window.history.state?.scrollRegions,documentScrollPosition:e.documentScrollPosition??window.history.state?.documentScrollPosition},"",t))}doPushState(e,t){return Promise.resolve().then(()=>window.history.pushState(e,"",t))}getState(e,t){return this.current?.[e]??t}deleteState(e){void 0!==this.current[e]&&(delete this.current[e],this.replaceState(this.current))}clearInitialState(e){this.initialState&&void 0!==this.initialState[e]&&delete this.initialState[e]}hasAnyState(){return!!this.getAllState()}clear(){g.remove(v),g.remove(y)}setCurrent(e){this.current=e}isValidState(e){return!!e.page}getAllState(){return this.current}},Q=new class{constructor(){this.internalListeners=[]}init(){"undefined"!=typeof window&&(window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),window.addEventListener("scroll",d(q.onWindowScroll.bind(q),100),!0)),"undefined"!=typeof document&&document.addEventListener("scroll",d(q.onScroll.bind(q),100),!0)}onGlobalEvent(e,t){return this.registerListener(`inertia:${e}`,e=>{const r=t(e);e.cancelable&&!e.defaultPrevented&&!1===r&&e.preventDefault()})}on(e,t){return this.internalListeners.push({event:e,listener:t}),()=>{this.internalListeners=this.internalListeners.filter(e=>e.listener!==t)}}onMissingHistoryItem(){_.clear(),this.fireInternalEvent("missingHistoryItem")}fireInternalEvent(e,...t){this.internalListeners.filter(t=>t.event===e).forEach(e=>e.listener(...t))}registerListener(e,t){return document.addEventListener(e,t),()=>document.removeEventListener(e,t)}handlePopstateEvent(e){const t=e.state||null;if(null===t){const e=N(_.get().url);return e.hash=window.location.hash,G.replaceState({..._.get(),url:e.href}),void q.reset()}if(!G.isValidState(t))return this.onMissingHistoryItem();G.decrypt(t.page).then(e=>{_.get().version===e.version?(st.cancelAll(),_.setQuietly(e,{preserveState:!1}).then(()=>{q.restore(G.getScrollRegions()),f(_.get())})):this.onMissingHistoryItem()}).catch(()=>{this.onMissingHistoryItem()})}},Y=new class{constructor(){this.type=this.resolveType()}resolveType(){return"undefined"==typeof window?"navigate":window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}get(){return this.type}isBackForward(){return"back_forward"===this.type}isReload(){return"reload"===this.type}},Z=class{static handle(){this.clearRememberedStateOnReload();[this.handleBackForward,this.handleLocation,this.handleDefault].find(e=>e.bind(this)())}static clearRememberedStateOnReload(){Y.isReload()&&(G.deleteState(G.rememberedState),G.clearInitialState(G.rememberedState))}static handleBackForward(){if(!Y.isBackForward()||!G.hasAnyState())return!1;const e=G.getScrollRegions();return G.decrypt().then(t=>{_.set(t,{preserveScroll:!0,preserveState:!0}).then(()=>{q.restore(e),f(_.get())})}).catch(()=>{Q.onMissingHistoryItem()}),!0}static handleLocation(){if(!g.exists(g.locationVisitKey))return!1;const e=g.get(g.locationVisitKey)||{};return g.remove(g.locationVisitKey),"undefined"!=typeof window&&_.setUrlHash(window.location.hash),G.decrypt(_.get()).then(()=>{const t=G.getState(G.rememberedState,{}),r=G.getScrollRegions();_.remember(t),_.set(_.get(),{preserveScroll:e.preserveScroll,preserveState:!0}).then(()=>{e.preserveScroll&&q.restore(r),f(_.get())})}).catch(()=>{Q.onMissingHistoryItem()}),!0}static handleDefault(){"undefined"!=typeof window&&_.setUrlHash(window.location.hash),_.set(_.get(),{preserveScroll:!0,preserveState:!0}).then(()=>{Y.isReload()?q.restore(G.getScrollRegions()):q.scrollToAnchor(),f(_.get())})}},ee=class{constructor(e,t,r){this.id=null,this.throttle=!1,this.keepAlive=!1,this.cbCount=0,this.keepAlive=r.keepAlive??!1,this.cb=t,this.interval=e,(r.autoStart??1)&&this.start()}stop(){this.id&&clearInterval(this.id)}start(){"undefined"!=typeof window&&(this.stop(),this.id=window.setInterval(()=>{this.throttle&&this.cbCount%10!=0||this.cb(),this.throttle&&this.cbCount++},this.interval))}isInBackground(e){this.throttle=!this.keepAlive&&e,this.throttle&&(this.cbCount=0)}},te=new class{constructor(){this.polls=[],this.setupVisibilityListener()}add(e,t,r){const n=new ee(e,t,r);return this.polls.push(n),{stop:()=>n.stop(),start:()=>n.start()}}clear(){this.polls.forEach(e=>e.stop()),this.polls=[]}setupVisibilityListener(){"undefined"!=typeof document&&document.addEventListener("visibilitychange",()=>{this.polls.forEach(e=>e.isInBackground(document.hidden))},!1)}},re=class e{constructor(e){if(this.callbacks=[],e.prefetch){const t={onBefore:this.wrapCallback(e,"onBefore"),onBeforeUpdate:this.wrapCallback(e,"onBeforeUpdate"),onStart:this.wrapCallback(e,"onStart"),onProgress:this.wrapCallback(e,"onProgress"),onFinish:this.wrapCallback(e,"onFinish"),onCancel:this.wrapCallback(e,"onCancel"),onSuccess:this.wrapCallback(e,"onSuccess"),onError:this.wrapCallback(e,"onError"),onCancelToken:this.wrapCallback(e,"onCancelToken"),onPrefetched:this.wrapCallback(e,"onPrefetched"),onPrefetching:this.wrapCallback(e,"onPrefetching")};this.params={...e,...t,onPrefetchResponse:e.onPrefetchResponse||(()=>{}),onPrefetchError:e.onPrefetchError||(()=>{})}}else this.params=e}static create(t){return new e(t)}data(){return"get"===this.params.method?null:this.params.data}queryParams(){return"get"===this.params.method?this.params.data:{}}isPartial(){return this.params.only.length>0||this.params.except.length>0||this.params.reset.length>0}isDeferredPropsRequest(){return!0===this.params.deferredProps}onCancelToken(e){this.params.onCancelToken({cancel:e})}markAsFinished(){this.params.completed=!0,this.params.cancelled=!1,this.params.interrupted=!1}markAsCancelled({cancelled:e=!0,interrupted:t=!1}){this.params.onCancel(),this.params.completed=!1,this.params.cancelled=e,this.params.interrupted=t}wasCancelledAtAll(){return this.params.cancelled||this.params.interrupted}onFinish(){this.params.onFinish(this.params)}onStart(){this.params.onStart(this.params)}onPrefetching(){this.params.onPrefetching(this.params)}onPrefetchResponse(e){this.params.onPrefetchResponse&&this.params.onPrefetchResponse(e)}onPrefetchError(e){this.params.onPrefetchError&&this.params.onPrefetchError(e)}all(){return this.params}headers(){const e={...this.params.headers};this.isPartial()&&(e["X-Inertia-Partial-Component"]=_.get().component);const t=this.params.only.concat(this.params.reset);return t.length>0&&(e["X-Inertia-Partial-Data"]=t.join(",")),this.params.except.length>0&&(e["X-Inertia-Partial-Except"]=this.params.except.join(",")),this.params.reset.length>0&&(e["X-Inertia-Reset"]=this.params.reset.join(",")),this.params.errorBag&&this.params.errorBag.length>0&&(e["X-Inertia-Error-Bag"]=this.params.errorBag),e}setPreserveOptions(t){this.params.preserveScroll=e.resolvePreserveOption(this.params.preserveScroll,t),this.params.preserveState=e.resolvePreserveOption(this.params.preserveState,t)}runCallbacks(){this.callbacks.forEach(({name:e,args:t})=>{this.params[e](...t)})}merge(e){this.params={...this.params,...e}}wrapCallback(e,t){return(...r)=>{this.recordCallback(t,r),e[t](...r)}}recordCallback(e,t){this.callbacks.push({name:e,args:t})}static resolvePreserveOption(e,t){return"function"==typeof e?e(t):"errors"===e?Object.keys(t.props.errors||{}).length>0:e}},ne={modal:null,listener:null,createIframeAndPage(e){"object"==typeof e&&(e=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);const t=document.createElement("html");t.innerHTML=e,t.querySelectorAll("a").forEach(e=>e.setAttribute("target","_top"));const r=document.createElement("iframe");return r.style.backgroundColor="white",r.style.borderRadius="5px",r.style.width="100%",r.style.height="100%",{iframe:r,page:t}},show(e){const{iframe:t,page:r}=this.createIframeAndPage(e);if(this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide()),this.modal.appendChild(t),document.body.prepend(this.modal),document.body.style.overflow="hidden",!t.contentWindow)throw new Error("iframe not yet ready.");t.contentWindow.document.open(),t.contentWindow.document.write(r.outerHTML),t.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){27===e.keyCode&&this.hide()}},se={show(e){const{iframe:t,page:r}=ne.createIframeAndPage(e);t.style.boxSizing="border-box",t.style.display="block";const n=document.createElement("dialog");n.id="inertia-error-dialog",Object.assign(n.style,{width:"calc(100vw - 100px)",height:"calc(100vh - 100px)",padding:"0",margin:"auto",border:"none",backgroundColor:"transparent"});const s=document.createElement("style");if(s.textContent="\n      dialog#inertia-error-dialog::backdrop {\n        background-color: rgba(0, 0, 0, 0.6);\n      }\n\n      dialog#inertia-error-dialog:focus {\n        outline: none;\n      }\n    ",document.head.appendChild(s),n.addEventListener("click",e=>{e.target===n&&n.close()}),n.addEventListener("close",()=>{s.remove(),n.remove()}),n.appendChild(t),document.body.prepend(n),n.showModal(),n.focus(),!t.contentWindow)throw new Error("iframe not yet ready.");t.contentWindow.document.open(),t.contentWindow.document.write(r.outerHTML),t.contentWindow.document.close()}},oe=new J,ie=class r{constructor(e,t,r){this.requestParams=e,this.response=t,this.originatingPage=r,this.wasPrefetched=!1}static create(e,t,n){return new r(e,t,n)}async handlePrefetch(){H(this.requestParams.all().url,window.location)&&this.handle()}async handle(){return oe.add(()=>this.process())}async process(){if(this.requestParams.all().prefetch)return this.wasPrefetched=!0,this.requestParams.all().prefetch=!1,this.requestParams.all().onPrefetched(this.response,this.requestParams.all()),e=this.response,t=this.requestParams.all(),p("prefetched",{detail:{fetchedAt:Date.now(),response:e.data,visit:t}}),Promise.resolve();var e,t;if(this.requestParams.runCallbacks(),!this.isInertiaResponse())return this.handleNonInertiaResponse();await G.processQueue(),G.preserveUrl=this.requestParams.all().preserveUrl,await this.setPage();const r=_.get().props.errors||{};if(Object.keys(r).length>0){const e=this.getScopedErrors(r);return(e=>{p("error",{detail:{errors:e}})})(e),this.requestParams.all().onError(e)}st.flushByCacheTags(this.requestParams.all().invalidateCacheTags||[]),this.wasPrefetched||st.flush(_.get().url),p("success",{detail:{page:_.get()}}),await this.requestParams.all().onSuccess(_.get()),G.preserveUrl=!1}mergeParams(e){this.requestParams.merge(e)}getPageResponse(){return this.response.data=this.getDataFromResponse(this.response.data)}async handleNonInertiaResponse(){if(this.isLocationVisit()){const e=N(this.getHeader("x-inertia-location"));return B(this.requestParams.all().url,e),this.locationVisit(e)}const e={...this.response,data:this.getDataFromResponse(this.response.data)};if((e=>p("invalid",{cancelable:!0,detail:{response:e}}))(e))return h.get("future.useDialogForErrorModal")?se.show(e.data):ne.show(e.data)}isInertiaResponse(){return this.hasHeader("x-inertia")}hasStatus(e){return this.response.status===e}getHeader(e){return this.response.headers[e]}hasHeader(e){return void 0!==this.getHeader(e)}isLocationVisit(){return this.hasStatus(409)&&this.hasHeader("x-inertia-location")}locationVisit(e){try{if(g.set(g.locationVisitKey,{preserveScroll:!0===this.requestParams.all().preserveScroll}),"undefined"==typeof window)return;H(window.location,e)?window.location.reload():window.location.href=e.href}catch(t){return!1}}async setPage(){const e=this.getPageResponse();return this.shouldSetPage(e)?(this.mergeProps(e),_.mergeOncePropsIntoResponse(e),this.preserveEqualProps(e),await this.setRememberedState(e),this.requestParams.setPreserveOptions(e),e.url=G.preserveUrl?_.get().url:this.pageUrl(e),this.requestParams.all().onBeforeUpdate(e),p("beforeUpdate",{detail:{page:e}}),_.set(e,{replace:this.requestParams.all().replace,preserveScroll:this.requestParams.all().preserveScroll,preserveState:this.requestParams.all().preserveState,viewTransition:this.requestParams.all().viewTransition})):Promise.resolve()}getDataFromResponse(e){if("string"!=typeof e)return e;try{return JSON.parse(e)}catch(t){return e}}shouldSetPage(e){if(!this.requestParams.all().async)return!0;if(this.originatingPage.component!==e.component)return!0;if(this.originatingPage.component!==_.get().component)return!1;const t=N(this.originatingPage.url),r=N(_.get().url);return t.origin===r.origin&&t.pathname===r.pathname}pageUrl(e){const t=N(e.url);return B(this.requestParams.all().url,t),t.pathname+t.search+t.hash}preserveEqualProps(e){if(e.component!==_.get().component||!0!==h.get("future.preserveEqualProps"))return;const t=_.get().props;Object.entries(e.props).forEach(([r,s])=>{n(s,t[r])&&(e.props[r]=t[r])})}mergeProps(r){if(!this.requestParams.isPartial()||r.component!==_.get().component)return;const n=r.mergeProps||[],s=r.prependProps||[],o=r.deepMergeProps||[],i=r.matchPropsOn||[],a=(n,s)=>{const o=e(_.get().props,n),a=e(r.props,n);if(Array.isArray(a)){const e=this.mergeOrMatchItems(o||[],a,n,i,s);t(r.props,n,e)}else if("object"==typeof a&&null!==a){const e={...o||{},...a};t(r.props,n,e)}};if(n.forEach(e=>a(e,!0)),s.forEach(e=>a(e,!1)),o.forEach(e=>{const t=_.get().props[e],n=r.props[e],s=(e,t,r)=>Array.isArray(t)?this.mergeOrMatchItems(e,t,r,i):"object"==typeof t&&null!==t?Object.keys(t).reduce((n,o)=>(n[o]=s(e?e[o]:void 0,t[o],`${r}.${o}`),n),{...e}):t;r.props[e]=s(t,n,e)}),r.props={..._.get().props,...r.props},this.requestParams.isDeferredPropsRequest()){const e=_.get().props.errors;e&&Object.keys(e).length>0&&(r.props.errors=e)}_.get().scrollProps&&(r.scrollProps={..._.get().scrollProps||{},...r.scrollProps||{}})}mergeOrMatchItems(e,t,r,n,s=!0){const o=Array.isArray(e)?e:[],i=n.find(e=>e.split(".").slice(0,-1).join(".")===r);if(!i)return s?[...o,...t]:[...t,...o];const a=i.split(".").pop()||"",l=new Map;return t.forEach(e=>{this.hasUniqueProperty(e,a)&&l.set(e[a],e)}),s?this.appendWithMatching(o,t,l,a):this.prependWithMatching(o,t,l,a)}appendWithMatching(e,t,r,n){return[...e.map(e=>this.hasUniqueProperty(e,n)&&r.has(e[n])?r.get(e[n]):e),...t.filter(t=>!this.hasUniqueProperty(t,n)||!e.some(e=>this.hasUniqueProperty(e,n)&&e[n]===t[n]))]}prependWithMatching(e,t,r,n){return[...t,...e.filter(e=>!this.hasUniqueProperty(e,n)||!r.has(e[n]))]}hasUniqueProperty(e,t){return e&&"object"==typeof e&&t in e}async setRememberedState(e){const t=await G.getState(G.rememberedState,{});this.requestParams.all().preserveState&&t&&e.component===_.get().component&&(e.rememberedState=t)}getScopedErrors(e){return this.requestParams.all().errorBag?e[this.requestParams.all().errorBag||""]||{}:e}},ae=class e{constructor(e,t){this.page=t,this.requestHasFinished=!1,this.requestParams=re.create(e),this.cancelToken=new AbortController}static create(t,r){return new e(t,r)}async send(){this.requestParams.onCancelToken(()=>this.cancel({cancelled:!0})),p("start",{detail:{visit:this.requestParams.all()}}),this.requestParams.onStart(),this.requestParams.all().prefetch&&(this.requestParams.onPrefetching(),(e=>{p("prefetching",{detail:{visit:e}})})(this.requestParams.all()));const e=this.requestParams.all().prefetch;return s({method:this.requestParams.all().method,url:U(this.requestParams.all().url).href,data:this.requestParams.data(),params:this.requestParams.queryParams(),signal:this.cancelToken.signal,headers:this.getHeaders(),onUploadProgress:this.onProgress.bind(this),responseType:"text"}).then(e=>(this.response=ie.create(this.requestParams,e,this.page),this.response.handle())).catch(e=>e?.response?(this.response=ie.create(this.requestParams,e.response,this.page),this.response.handle()):Promise.reject(e)).catch(t=>{if(!s.isCancel(t))return p("exception",{cancelable:!0,detail:{exception:t}})?(e&&this.requestParams.onPrefetchError(t),Promise.reject(t)):void 0}).finally(()=>{this.finish(),e&&this.response&&this.requestParams.onPrefetchResponse(this.response)})}finish(){this.requestParams.wasCancelledAtAll()||(this.requestParams.markAsFinished(),this.fireFinishEvents())}fireFinishEvents(){this.requestHasFinished||(this.requestHasFinished=!0,p("finish",{detail:{visit:this.requestParams.all()}}),this.requestParams.onFinish())}cancel({cancelled:e=!1,interrupted:t=!1}){this.requestHasFinished||(this.cancelToken.abort(),this.requestParams.markAsCancelled({cancelled:e,interrupted:t}),this.fireFinishEvents())}onProgress(e){this.requestParams.data()instanceof FormData&&(e.percentage=e.progress?Math.round(100*e.progress):0,(e=>{p("progress",{detail:{progress:e}})})(e),this.requestParams.all().onProgress(e))}getHeaders(){const e={...this.requestParams.headers(),Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0},t=_.get();t.version&&(e["X-Inertia-Version"]=t.version);const r=Object.entries(t.onceProps||{}).filter(([,e])=>!e.expiresAt||e.expiresAt>Date.now()).map(([e])=>e);return r.length>0&&(e["X-Inertia-Except-Once-Props"]=r.join(",")),e}},le=class{constructor({maxConcurrent:e,interruptible:t}){this.requests=[],this.maxConcurrent=e,this.interruptible=t}send(e){this.requests.push(e),e.send().then(()=>{this.requests=this.requests.filter(t=>t!==e)})}interruptInFlight(){this.cancel({interrupted:!0},!1)}cancelInFlight(){this.cancel({cancelled:!0},!0)}cancel({cancelled:e=!1,interrupted:t=!1}={},r){if(!this.shouldCancel(r))return;const n=this.requests.shift();n?.cancel({interrupted:t,cancelled:e})}shouldCancel(e){return!!e||this.interruptible&&this.requests.length>=this.maxConcurrent}},ce=e=>{if(null===e.offsetParent)return!1;const t=e.getBoundingClientRect(),r=t.top<window.innerHeight&&t.bottom>=0,n=t.left<window.innerWidth&&t.right>=0;return r&&n},ue=(e,t)=>{if(!t)return e.filter(e=>ce(e));const r=e.indexOf(t),n=[],s=[];for(let o=r;o>=0;o--){const t=e[o];if(!ce(t))break;n.push(t)}for(let o=r+1;o<e.length;o++){const t=e[o];if(!ce(t))break;s.push(t)}return[...n.reverse(),...s]},he=(e,t=1)=>{window.requestAnimationFrame(()=>{t>1?he(e,t-1):e()})};function de(e){if(!e.includes("."))return e;return e.replace(/\\\./g,"__ESCAPED_DOT__").split(/(\[[^\]]*\])/).filter(Boolean).map(e=>e.startsWith("[")&&e.endsWith("]")?e:e.split(".").reduce((e,t,r)=>0===r?t:`${e}[${t}]`)).join("").replace(/__ESCAPED_DOT__/g,".")}function pe(e){const t=[],r=/([^\[\]]+)|\[(\d*)\]/g;let n;for(;null!==(n=r.exec(e));)void 0!==n[1]?t.push(n[1]):void 0!==n[2]&&t.push(""===n[2]?"":Number(n[2]));return t}function me(e,t,r){let n=e;for(let s=0;s<t.length-1;s++)t[s]in n||(n[t[s]]={}),n=n[t[s]];n[t[t.length-1]]=r}function fe(e){if(Array.isArray(e))return e.map(fe);if("object"!=typeof e||null===e||I(e))return e;if(function(e){const t=Object.keys(e),r=t.filter(e=>/^\d+$/.test(e)).map(Number).sort((e,t)=>e-t);return t.length===r.length&&r.length>0&&0===r[0]&&r.every((e,t)=>e===t)}(e)){const t=[];for(let r=0;r<Object.keys(e).length;r++)t[r]=fe(e[r]);return t}const t={};for(const r in e)t[r]=fe(e[r]);return t}function ge(r){const n={};for(const[s,o]of r.entries()){if(o instanceof File&&0===o.size&&""===o.name)continue;const r=pe(de(s));if(""===r[r.length-1]){const s=r.slice(0,-1),i=e(n,s);if(Array.isArray(i))i.push(o);else if(i&&"object"==typeof i&&!I(i)){const e=Object.keys(i).filter(e=>/^\d+$/.test(e)).map(Number).sort((e,t)=>e-t);t(n,s,e.length>0?[...e.map(e=>i[e]),o]:[o])}else t(n,s,[o]);continue}me(n,r.map(String),o)}return fe(n)}var ve={preferredAttribute:()=>h.get("future.useDataInertiaHeadAttribute")?"data-inertia":"inertia",buildDOMElement(e){const t=document.createElement("template");t.innerHTML=e;const r=t.content.firstChild;if(!e.startsWith("<script "))return r;const n=document.createElement("script");return n.innerHTML=r.innerHTML,r.getAttributeNames().forEach(e=>{n.setAttribute(e,r.getAttribute(e)||"")}),n},isInertiaManagedElement(e){return e.nodeType===Node.ELEMENT_NODE&&null!==e.getAttribute(this.preferredAttribute())},findMatchingElementIndex(e,t){const r=this.preferredAttribute(),n=e.getAttribute(r);return null!==n?t.findIndex(e=>e.getAttribute(r)===n):-1},update:d(function(e){const t=e.map(e=>this.buildDOMElement(e));Array.from(document.head.childNodes).filter(e=>this.isInertiaManagedElement(e)).forEach(e=>{const r=this.findMatchingElementIndex(e,t);if(-1===r)return void e?.parentNode?.removeChild(e);const n=t.splice(r,1)[0];n&&!e.isEqualNode(n)&&e?.parentNode?.replaceChild(n,e)}),t.forEach(e=>document.head.appendChild(e))},1)};function ye(e,t,r){const n={};let s=0;function o(){const e=t(""),r=ve.preferredAttribute(),s={...e?{title:`<title ${r}="">${e}</title>`}:{}},o=Object.values(n).reduce((e,t)=>e.concat(t),[]).reduce((e,n)=>{if(-1===n.indexOf("<"))return e;if(0===n.indexOf("<title ")){const r=n.match(/(<title [^>]+>)(.*?)(<\/title>)/);return e.title=r?`${r[1]}${t(r[2])}${r[3]}`:n,e}const s=n.match("inertia"===r?/ inertia="[^"]+"/:/ data-inertia="[^"]+"/);return s?e[s[0]]=n:e[Object.keys(e).length]=n,e},s);return Object.values(o)}function i(){e?r(o()):ve.update(o())}return i(),{forceUpdate:i,createProvider:function(){const e=function(){const e=s+=1;return n[e]=[],e.toString()}();return{preferredAttribute:ve.preferredAttribute,reconnect:()=>function(e){-1===Object.keys(n).indexOf(e)&&(n[e]=[])}(e),update:t=>function(e,t=[]){null!==e&&Object.keys(n).indexOf(e)>-1&&(n[e]=t),i()}(e,t),disconnect:()=>function(e){null!==e&&-1!==Object.keys(n).indexOf(e)&&(delete n[e],i())}(e)}}}}var we,Pe,Se="X-Inertia-Infinite-Scroll-Merge-Intent",be=e=>{const t=()=>{const t=_.get().scrollProps?.[e.getPropName()];if(t)return t;throw new Error(`The page object does not contain a scroll prop named "${e.getPropName()}".`)},r={component:null,loading:!1,previousPage:null,nextPage:null,lastLoadedPage:null,requestCount:0},n=()=>{const e=t();r.component=_.get().component,r.loading=!1,r.previousPage=e.previousPage,r.nextPage=e.nextPage,r.lastLoadedPage=e.currentPage,r.requestCount=0},s=()=>`inertia:infinite-scroll-data:${e.getPropName()}`;if("undefined"!=typeof window){n();const e=st.restore(s());e&&"object"==typeof e&&(r.previousPage=e.previousPage,r.nextPage=e.nextPage,r.lastLoadedPage=e.lastLoadedPage,r.requestCount=e.requestCount||0)}const o=st.on("success",e=>{r.component===e.detail.page.component&&t().reset&&n()}),i=e=>"next"===e?"nextPage":"previousPage",a=()=>t().pageName,l=(n,o={})=>{const l=(e=>{const t=i(e);return r[t]})(n);r.loading||null===l||(r.loading=!0,st.reload({...o,data:{[a()]:l},only:[e.getPropName()],preserveUrl:!0,headers:{[Se]:"previous"===n?"prepend":"append",...o.headers},onBefore:t=>{"next"===n?e.onBeforeNextRequest():e.onBeforePreviousRequest(),o.onBefore?.(t)},onBeforeUpdate:t=>{e.onBeforeUpdate(),o.onBeforeUpdate?.(t)},onSuccess:e=>{(e=>{const n=t(),o=i(e);r.lastLoadedPage=n.currentPage,r[o]=n[o],r.requestCount+=1,st.remember({previousPage:r.previousPage,nextPage:r.nextPage,lastLoadedPage:r.lastLoadedPage,requestCount:r.requestCount},s())})(n),o.onSuccess?.(e)},onFinish:t=>{r.loading=!1,"next"===n?e.onCompleteNextRequest(r.lastLoadedPage):e.onCompletePreviousRequest(r.lastLoadedPage),o.onFinish?.(t)}}))};return{getLastLoadedPage:()=>r.lastLoadedPage,getPageName:a,getRequestCount:()=>r.requestCount,hasPrevious:()=>!!r.previousPage,hasNext:()=>!!r.nextPage,fetchNext:e=>l("next",e),fetchPrevious:e=>l("previous",e),removeEventListener:o}},Ee="infiniteScrollPage",Ce="infiniteScrollIgnore",Te=e=>e.dataset[Ee],ke=e=>{const t=(()=>{const e=[];return{new:(t,r={})=>{const n=new IntersectionObserver(e=>{for(const r of e)r.isIntersecting&&t(r)},r);return e.push(n),n},flushAll:()=>{e.forEach(e=>e.disconnect()),e.length=0}}})();let r,n,s,o,i=!1;const a=()=>{i&&l();const t=e.getStartElement(),r=e.getEndElement();t&&e.shouldFetchPrevious()&&n.observe(t),r&&e.shouldFetchNext()&&s.observe(r),i=!0},l=()=>{i&&(n.disconnect(),s.disconnect(),i=!1)},c=new Set,u=e=>!(Ee in e.dataset)&&!(Ce in e.dataset);let h=!1;const p=()=>`inertia:infinite-scroll-elements:${e.getPropName()}`,m=()=>{const t={},r=e.getItemsElement().childNodes;for(let e=0;e<r.length;e++){const n=r[e];if(n.nodeType!==Node.ELEMENT_NODE)continue;const s=Te(n);void 0!==s&&(s in t?t[s].to=e:t[s]={from:e,to:e})}st.remember(t,p())},f=d(m,250),g=()=>{const t=st.restore(p());if(!t||"object"!=typeof t)return!1;const n=e.getItemsElement().childNodes;for(let e=0;e<n.length;e++){const s=n[e];if(s.nodeType!==Node.ELEMENT_NODE)continue;const o=s;let i;for(const[r,n]of Object.entries(t))if(e>=n.from&&e<=n.to){i=r;break}if(i)o.dataset[Ee]=i;else{if(!u(o))continue;o.dataset[Ce]="true"}r.observe(o)}return!0};return{setupObservers:()=>{o=new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&c.add(e)})}),f()}),o.observe(e.getItemsElement(),{childList:!0}),r=t.new(t=>e.onItemIntersected(t.target));const i={root:e.getScrollableParent(),rootMargin:`${Math.max(1,e.getTriggerMargin())}px`};n=t.new(e.onPreviousTriggered,i),s=t.new(e.onNextTriggered,i)},enableTriggers:a,disableTriggers:l,refreshTriggers:()=>{i&&a()},flushAll:()=>{l(),t.flushAll(),o?.disconnect()},processManuallyAddedElements:()=>{Array.from(c).forEach(e=>{u(e)&&(e.dataset[Ce]="true"),r.observe(e)}),c.clear()},processServerLoadedElements:t=>{var n;!h&&(h=!0,g())||((n=e.getItemsElement(),Array.from(n.querySelectorAll(":scope > *:not([data-infinite-scroll-page]):not([data-infinite-scroll-ignore])"))).forEach(e=>{u(e)&&(e.dataset[Ee]=t?.toString()||"1"),r.observe(e)}),m())}}},Ae=new J,xe=null,qe=e=>{let t=!0;return{onItemIntersected:d(r=>{const n=e.getItemsElement();if(!t||e.shouldPreserveUrl()||!r||!n)return;const s=new Map,o=[...n.children];ue(o,r).forEach(e=>{const t=Te(e)??"1";s.has(t)?s.set(t,s.get(t)+1):s.set(t,1)});const i=Array.from(s.entries()).sort((e,t)=>t[1]-e[1]),a=i[0]?.[0];var l;void 0!==a&&(l=a,Ae.add(()=>new Promise(r=>{if(!t)return we=Pe=null,r();if(!we||!Pe){const e=_.get().url;we=N(e),Pe=N(e),xe=V(e)}const n=e.getPageName(),s=Pe.searchParams;"1"===l?s.delete(n):s.set(n,l),setTimeout(()=>r())})).finally(()=>{t&&we&&Pe&&we.href!==Pe.href&&null!==xe&&st.replace({url:W(Pe,xe),preserveScroll:!0,preserveState:!0}),we=Pe=xe=null}))},250),cancel:()=>t=!1}};function Ie(e){const t=qe({...e,getPageName:()=>s.getPageName()}),r=(e=>({createCallbacks:()=>{let t,r=null,n=0;return{captureScrollPosition:()=>{const s=e.getScrollableParent(),o=e.getItemsElement();t=s?.scrollTop||window.scrollY;const i=ue([...o.children]);if(i.length>0){r=i[0];const e=s?.getBoundingClientRect()||{top:0},t=s?e.top:0,o=r.getBoundingClientRect();n=o.top-t}},restoreScrollPosition:()=>{if(!r)return;let s=0,o=!1;const i=()=>{if(s++,o||s>10)return!1;const a=e.getScrollableParent(),l=a?.getBoundingClientRect()||{top:0},c=a?l.top:0,u=r.getBoundingClientRect().top-c-n;0!==u?(a?a.scrollTo({top:t+u}):window.scrollTo(0,window.scrollY+u),o=!0):window.requestAnimationFrame(i)};window.requestAnimationFrame(i)}}}}))(e),n=ke({...e,onItemIntersected:t.onItemIntersected,onPreviousTriggered:()=>s.fetchPrevious(),onNextTriggered:()=>s.fetchNext()}),s=be({...e,onBeforeUpdate:n.processManuallyAddedElements,onCompletePreviousRequest:t=>{e.onCompletePreviousRequest(),he(()=>{n.processServerLoadedElements(t),n.refreshTriggers()},2)},onCompleteNextRequest:t=>{e.onCompleteNextRequest(),he(()=>{n.processServerLoadedElements(t),n.refreshTriggers()},2)}}),o=e=>{const{captureScrollPosition:t,restoreScrollPosition:n}=r.createCallbacks(),s=e.onBeforeUpdate||(()=>{}),o=e.onSuccess||(()=>{});return e.onBeforeUpdate=e=>{s(e),t()},e.onSuccess=e=>{o(e),n()},e},i=s.fetchNext;s.fetchNext=(t={})=>{e.inReverseMode()&&(t=o(t)),i(t)};const a=s.fetchPrevious;return s.fetchPrevious=(t={})=>{e.inReverseMode()||(t=o(t)),a(t)},{dataManager:s,elementManager:n,flush:()=>{s.removeEventListener(),n.flushAll(),t.cancel()}}}function Fe(e){return e.target instanceof HTMLElement&&e.target.isContentEditable||e.defaultPrevented}function Re(e){const t="a"===e.currentTarget.tagName.toLowerCase();return!(Fe(e)||t&&e.altKey||t&&e.ctrlKey||t&&e.metaKey||t&&e.shiftKey||t&&"button"in e&&0!==e.button)}function Me(e){const t="button"===e.currentTarget.tagName.toLowerCase();return!Fe(e)&&("Enter"===e.key||t&&" "===e.key)}var Le,Oe="nprogress",Ne={minimum:.08,easing:"linear",positionUsing:"translate3d",speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",color:"#29d",includeCSS:!0,template:['<div class="bar" role="bar">','<div class="peg"></div>',"</div>",'<div class="spinner" role="spinner">','<div class="spinner-icon"></div>',"</div>"].join("")},De=null,$e=e=>{const t=Ue();e=Ke(e,Ne.minimum,1),De=1===e?null:e;const r=je(!t),n=r.querySelector(Ne.barSelector),s=Ne.speed,o=Ne.easing;r.offsetWidth,ze(t=>{const i="translate3d"===Ne.positionUsing?{transition:`all ${s}ms ${o}`,transform:`translate3d(${Xe(e)}%,0,0)`}:"translate"===Ne.positionUsing?{transition:`all ${s}ms ${o}`,transform:`translate(${Xe(e)}%,0)`}:{marginLeft:`${Xe(e)}%`};for(const e in i)n.style[e]=i[e];if(1!==e)return setTimeout(t,s);r.style.transition="none",r.style.opacity="1",r.offsetWidth,setTimeout(()=>{r.style.transition=`all ${s}ms linear`,r.style.opacity="0",setTimeout(()=>{We(),r.style.transition="",r.style.opacity="",t()},s)},s)})},Ue=()=>"number"==typeof De,Be=()=>{De||$e(0);const e=function(){setTimeout(function(){De&&(He(),e())},Ne.trickleSpeed)};Ne.trickle&&e()},He=e=>{const t=De;return null===t?Be():t>1?void 0:(e="number"==typeof e?e:(()=>{const e={.1:[0,.2],.04:[.2,.5],.02:[.5,.8],.005:[.8,.99]};for(const r in e)if(t>=e[r][0]&&t<e[r][1])return parseFloat(r);return 0})(),$e(Ke(t+e,0,.994)))},je=e=>{if(_e())return document.getElementById(Oe);document.documentElement.classList.add(`${Oe}-busy`);const t=Le.querySelector(Ne.barSelector),r=e?"-100":Xe(De||0),n=Ve();return t.style.transition="all 0 linear",t.style.transform=`translate3d(${r}%,0,0)`,Ne.showSpinner||Le.querySelector(Ne.spinnerSelector)?.remove(),n!==document.body&&n.classList.add(`${Oe}-custom-parent`),n.appendChild(Le),Le},Ve=()=>Je(Ne.parent)?Ne.parent:document.querySelector(Ne.parent),We=()=>{document.documentElement.classList.remove(`${Oe}-busy`),Ve().classList.remove(`${Oe}-custom-parent`),Le?.remove()},_e=()=>null!==document.getElementById(Oe),Je=e=>"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName;function Ke(e,t,r){return e<t?t:e>r?r:e}var Xe=e=>100*(-1+e),ze=(()=>{const e=[],t=()=>{const r=e.shift();r&&r(t)};return r=>{e.push(r),1===e.length&&t()}})(),Ge=e=>{const t=document.createElement("style");t.textContent=`\n    #${Oe} {\n      pointer-events: none;\n    }\n\n    #${Oe} .bar {\n      background: ${e};\n\n      position: fixed;\n      z-index: 1031;\n      top: 0;\n      left: 0;\n\n      width: 100%;\n      height: 2px;\n    }\n\n    #${Oe} .peg {\n      display: block;\n      position: absolute;\n      right: 0px;\n      width: 100px;\n      height: 100%;\n      box-shadow: 0 0 10px ${e}, 0 0 5px ${e};\n      opacity: 1.0;\n\n      transform: rotate(3deg) translate(0px, -4px);\n    }\n\n    #${Oe} .spinner {\n      display: block;\n      position: fixed;\n      z-index: 1031;\n      top: 15px;\n      right: 15px;\n    }\n\n    #${Oe} .spinner-icon {\n      width: 18px;\n      height: 18px;\n      box-sizing: border-box;\n\n      border: solid 2px transparent;\n      border-top-color: ${e};\n      border-left-color: ${e};\n      border-radius: 50%;\n\n      animation: ${Oe}-spinner 400ms linear infinite;\n    }\n\n    .${Oe}-custom-parent {\n      overflow: hidden;\n      position: relative;\n    }\n\n    .${Oe}-custom-parent #${Oe} .spinner,\n    .${Oe}-custom-parent #${Oe} .bar {\n      position: absolute;\n    }\n\n    @keyframes ${Oe}-spinner {\n      0%   { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n  `,document.head.appendChild(t)},Qe={configure:e=>{Object.assign(Ne,e),Ne.includeCSS&&Ge(Ne.color),(Le=document.createElement("div")).id=Oe,Le.innerHTML=Ne.template},isStarted:Ue,done:e=>{(e||De)&&(He(.3+.5*Math.random()),$e(1))},set:$e,remove:We,start:Be,status:De,show:()=>{Le&&(Le.style.display="")},hide:()=>{Le&&(Le.style.display="none")}},Ye=new class{constructor(){this.hideCount=0}start(){Qe.start()}reveal(e=!1){this.hideCount=Math.max(0,this.hideCount-1),(e||0===this.hideCount)&&Qe.show()}hide(){this.hideCount++,Qe.hide()}set(e){Qe.set(Math.max(0,Math.min(1,e)))}finish(){Qe.done()}reset(){Qe.set(0)}remove(){Qe.done(),Qe.remove()}isStarted(){return Qe.isStarted()}getStatus(){return Qe.status}};function Ze(e){document.addEventListener("inertia:start",t=>function(e,t){e.detail.visit.showProgress||Ye.hide();const r=setTimeout(()=>Ye.start(),t);document.addEventListener("inertia:finish",e=>function(e,t){if(clearTimeout(t),!Ye.isStarted())return;e.detail.visit.completed?Ye.finish():e.detail.visit.interrupted?Ye.reset():e.detail.visit.cancelled&&Ye.remove()}(e,r),{once:!0})}(t,e)),document.addEventListener("inertia:progress",et)}function et(e){Ye.isStarted()&&e.detail.progress?.percentage&&Ye.set(Math.max(Ye.getStatus(),e.detail.progress.percentage/100*.9))}function tt(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement}function rt(e,t){if(e.disabled){if(e instanceof HTMLInputElement){const t=e.value,r=e.checked;switch(e.type.toLowerCase()){case"checkbox":case"radio":return e.checked=e.defaultChecked,e.checked!==r;case"file":return e.value="",""!==t;case"button":case"submit":case"reset":case"image":return!1;default:return e.value=e.defaultValue,e.value!==t}}else{if(e instanceof HTMLSelectElement){const t=Array.from(e.selectedOptions).map(e=>e.value);Array.from(e.options).forEach(e=>{e.selected=e.defaultSelected});const r=Array.from(e.selectedOptions).map(e=>e.value);return JSON.stringify(t.sort())!==JSON.stringify(r.sort())}if(e instanceof HTMLTextAreaElement){const t=e.value;return e.value=e.defaultValue,e.value!==t}}return!1}if(e instanceof HTMLInputElement)return function(e,t){const r=e.value,n=e.checked;switch(e.type.toLowerCase()){case"checkbox":e.checked=t.includes(e.value);break;case"radio":e.checked=t[0]===e.value;break;case"file":e.value="";break;case"button":case"submit":case"reset":case"image":break;default:e.value=null!==t[0]&&void 0!==t[0]?String(t[0]):""}return e.value!==r||e.checked!==n}(e,t);if(e instanceof HTMLSelectElement)return function(e,t){const r=e.value,n=Array.from(e.selectedOptions).map(e=>e.value);if(e.multiple){const r=t.map(e=>String(e));Array.from(e.options).forEach(e=>{e.selected=r.includes(e.value)})}else e.value=void 0!==t[0]?String(t[0]):"";const s=Array.from(e.selectedOptions).map(e=>e.value);return e.multiple?JSON.stringify(n.sort())!==JSON.stringify(s.sort()):e.value!==r}(e,t);if(e instanceof HTMLTextAreaElement){const r=e.value;return e.value=void 0!==t[0]?String(t[0]):"",e.value!==r}return!1}function nt(e,t,r){if(!e)return;if(!r||0===r.length){const n=new FormData(e),s=Array.from(e.elements).map(e=>tt(e)?e.name:"").filter(Boolean);r=[...new Set([...t.keys(),...n.keys(),...s])]}let n=!1;r.forEach(r=>{const s=e.elements.namedItem(r);s&&function(e,t){let r=!1;return e instanceof RadioNodeList||e instanceof HTMLCollection?Array.from(e).forEach((e,n)=>{e instanceof Element&&tt(e)&&(e instanceof HTMLInputElement&&["checkbox","radio"].includes(e.type.toLowerCase())?rt(e,t)&&(r=!0):rt(e,void 0!==t[n]?[t[n]]:[t[0]??null].filter(Boolean))&&(r=!0))}):tt(e)&&(r=rt(e,t)),r}(s,t.getAll(r))&&(n=!0)}),n&&e.dispatchEvent(new Event("reset",{bubbles:!0}))}Ye.reveal,Ye.hide;var st=new class{constructor(){this.syncRequestStream=new le({maxConcurrent:1,interruptible:!0}),this.asyncRequestStream=new le({maxConcurrent:1/0,interruptible:!1}),this.clientVisitQueue=new J}init({initialPage:e,resolveComponent:t,swapComponent:r}){_.init({initialPage:e,resolveComponent:t,swapComponent:r}),Z.handle(),Q.init(),Q.on("missingHistoryItem",()=>{"undefined"!=typeof window&&this.visit(window.location.href,{preserveState:!0,preserveScroll:!0,replace:!0})}),Q.on("loadDeferredProps",e=>{this.loadDeferredProps(e)})}get(e,t={},r={}){return this.visit(e,{...r,method:"get",data:t})}post(e,t={},r={}){return this.visit(e,{preserveState:!0,...r,method:"post",data:t})}put(e,t={},r={}){return this.visit(e,{preserveState:!0,...r,method:"put",data:t})}patch(e,t={},r={}){return this.visit(e,{preserveState:!0,...r,method:"patch",data:t})}delete(e,t={}){return this.visit(e,{preserveState:!0,...t,method:"delete"})}reload(e={}){return this.doReload(e)}doReload(e={}){if("undefined"!=typeof window)return this.visit(window.location.href,{...e,preserveScroll:!0,preserveState:!0,async:!0,headers:{...e.headers||{},"Cache-Control":"no-cache"}})}remember(e,t="default"){G.remember(e,t)}restore(e="default"){return G.restore(e)}on(e,t){return"undefined"==typeof window?()=>{}:Q.onGlobalEvent(e,t)}cancel(){this.syncRequestStream.cancelInFlight()}cancelAll(){this.asyncRequestStream.cancelInFlight(),this.syncRequestStream.cancelInFlight()}poll(e,t={},r={}){return te.add(e,()=>this.reload(t),{autoStart:r.autoStart??!0,keepAlive:r.keepAlive??!1})}visit(e,t={}){const r=this.getPendingVisit(e,{...t,showProgress:t.showProgress??!t.async}),n=this.getVisitEvents(t);if(!1===n.onBefore(r)||!m(r))return;const s=r.async?this.asyncRequestStream:this.syncRequestStream;s.interruptInFlight(),_.isCleared()||r.preserveUrl||q.save();const o={...r,...n},i=x.get(o);i?(Ye.reveal(i.inFlight),x.use(i,o)):(Ye.reveal(!0),s.send(ae.create(o,_.get())))}getCached(e,t={}){return x.findCached(this.getPrefetchParams(e,t))}flush(e,t={}){x.remove(this.getPrefetchParams(e,t))}flushAll(){x.removeAll()}flushByCacheTags(e){x.removeByTags(Array.isArray(e)?e:[e])}getPrefetching(e,t={}){return x.findInFlight(this.getPrefetchParams(e,t))}prefetch(e,t={},r={}){if("get"!==(t.method??(j(e)?e.method:"get")))throw new Error("Prefetch requests must use the GET method");const n=this.getPendingVisit(e,{...t,async:!0,showProgress:!1,prefetch:!0,viewTransition:!1});if(n.url.origin+n.url.pathname+n.url.search===window.location.origin+window.location.pathname+window.location.search)return;const s=this.getVisitEvents(t);if(!1===s.onBefore(n)||!m(n))return;Ye.hide(),this.asyncRequestStream.interruptInFlight();const o={...n,...s};new Promise(e=>{const t=()=>{_.get()?e():setTimeout(t,50)};t()}).then(()=>{x.add(o,e=>{this.asyncRequestStream.send(ae.create(e,_.get()))},{cacheFor:h.get("prefetch.cacheFor"),cacheTags:[],...r})})}clearHistory(){G.clear()}decryptHistory(){return G.decrypt()}resolveComponent(e){return _.resolve(e)}replace(e){this.clientVisit(e,{replace:!0})}replaceProp(n,s,o){this.replace({preserveScroll:!0,preserveState:!0,props(o){const i="function"==typeof s?s(e(o,n),o):s;return t(r(o),n,i)},...o||{}})}appendToProp(e,t,r){this.replaceProp(e,(e,r)=>{const n="function"==typeof t?t(e,r):t;return Array.isArray(e)||(e=void 0!==e?[e]:[]),[...e,n]},r)}prependToProp(e,t,r){this.replaceProp(e,(e,r)=>{const n="function"==typeof t?t(e,r):t;return Array.isArray(e)||(e=void 0!==e?[e]:[]),[n,...e]},r)}push(e){this.clientVisit(e)}clientVisit(e,{replace:t=!1}={}){this.clientVisitQueue.add(()=>this.performClientVisit(e,{replace:t}))}performClientVisit(e,{replace:t=!1}={}){const r=_.get(),n="function"==typeof e.props?e.props(r.props):e.props??r.props,{viewTransition:s,onError:o,onFinish:i,onSuccess:a,...l}=e,c={...r,...l,props:n},u=re.resolvePreserveOption(e.preserveScroll??!1,c),h=re.resolvePreserveOption(e.preserveState??!1,c);return _.set(c,{replace:t,preserveScroll:u,preserveState:h,viewTransition:s}).then(()=>{const t=_.get().props.errors||{};if(0===Object.keys(t).length)return void a?.(_.get());const r=e.errorBag?t[e.errorBag||""]||{}:t;o?.(r)}).finally(()=>i?.(e))}getPrefetchParams(e,t){return{...this.getPendingVisit(e,{...t,async:!0,showProgress:!1,prefetch:!0,viewTransition:!1}),...this.getVisitEvents(t)}}getPendingVisit(e,t,n={}){if(j(e)){const r=e;e=r.url,t.method=t.method??r.method}const s=h.get("visitOptions"),o=s&&s(e.toString(),r(t))||{},i={method:"get",data:{},replace:!1,preserveScroll:!1,preserveState:!1,only:[],except:[],headers:{},errorBag:"",forceFormData:!1,queryStringArrayFormat:"brackets",async:!1,showProgress:!0,fresh:!1,reset:[],preserveUrl:!1,prefetch:!1,invalidateCacheTags:[],viewTransition:!1,...t,...o},[a,l]=D(e,i.data,i.method,i.forceFormData,i.queryStringArrayFormat),c={cancelled:!1,completed:!1,interrupted:!1,...i,...n,url:a,data:l};return c.prefetch&&(c.headers.Purpose="prefetch"),c}getVisitEvents(e){return{onCancelToken:e.onCancelToken||(()=>{}),onBefore:e.onBefore||(()=>{}),onBeforeUpdate:e.onBeforeUpdate||(()=>{}),onStart:e.onStart||(()=>{}),onProgress:e.onProgress||(()=>{}),onFinish:e.onFinish||(()=>{}),onCancel:e.onCancel||(()=>{}),onSuccess:e.onSuccess||(()=>{}),onError:e.onError||(()=>{}),onPrefetched:e.onPrefetched||(()=>{}),onPrefetching:e.onPrefetching||(()=>{})}}loadDeferredProps(e){e&&Object.entries(e).forEach(([e,t])=>{this.doReload({only:t,deferredProps:!0})})}},ot=l.createContext(null);ot.displayName="InertiaHeadContext";var it=ot,at=l.createContext(null);at.displayName="InertiaPageContext";var lt=at,ct=!0,ut=!1,ht=async()=>{ct=!1};function dt({children:e,initialPage:t,initialComponent:r,resolveComponent:n,titleCallback:s,onHeadUpdate:o}){const[i,a]=l.useState({component:r||null,page:t,key:null}),c=l.useMemo(()=>ye("undefined"==typeof window,s||(e=>e),o||(()=>{})),[]);if(ut||(st.init({initialPage:t,resolveComponent:n,swapComponent:async e=>ht(e)}),ut=!0),l.useEffect(()=>{ht=async({component:e,page:t,preserveState:r})=>{ct?ct=!1:u.flushSync(()=>a(n=>({component:e,page:t,key:r?n.key:Date.now()})))},st.on("navigate",()=>c.forceUpdate())},[]),!i.component)return l.createElement(it.Provider,{value:c},l.createElement(lt.Provider,{value:i.page},null));const h=e||(({Component:e,props:t,key:r})=>{const n=l.createElement(e,{key:r,...t});return"function"==typeof e.layout?e.layout(n):Array.isArray(e.layout)?e.layout.concat(n).reverse().reduce((e,r)=>l.createElement(r,{children:e,...t})):n});return l.createElement(it.Provider,{value:c},l.createElement(lt.Provider,{value:i.page},h({Component:i.component,key:i.key,props:i.page.props})))}async function pt({id:e="app",resolve:t,setup:r,title:n,progress:s={},page:o,render:i,defaults:a={}}){Tt.replace(a);const c="undefined"==typeof window,u=Tt.get("future.useScriptElementForInitialPage"),h=o||((e,t=!1)=>{if("undefined"==typeof window)return null;if(!t){const t=document.getElementById(e);if(t?.dataset.page)return JSON.parse(t.dataset.page)}const r=document.querySelector(`script[data-page="${e}"][type="application/json"]`);return r?.textContent?JSON.parse(r.textContent):null})(e,u),d=e=>Promise.resolve(t(e)).then(e=>e.default||e);let p=[];const m=await Promise.all([d(h.component),st.decryptHistory().catch(()=>{})]).then(([t])=>{const s={initialPage:h,initialComponent:t,resolveComponent:d,titleCallback:n};if(c){return r({el:null,App:dt,props:{...s,onHeadUpdate:e=>p=e}})}return r({el:document.getElementById(e),App:dt,props:s})});if(!c&&s&&function({delay:e=250,color:t="#29d",includeCSS:r=!0,showSpinner:n=!1}={}){Ze(e),Qe.configure({showSpinner:n,includeCSS:r,color:t})}(s),c&&i){const t=()=>u?l.createElement(l.Fragment,null,l.createElement("script",{"data-page":e,type:"application/json",dangerouslySetInnerHTML:{__html:JSON.stringify(h)}}),l.createElement("div",{id:e},m)):l.createElement("div",{id:e,"data-page":JSON.stringify(h)},m),r=await i(t());return{head:p,body:r}}}function mt(){const e="function"==typeof c.use?c.use(lt):c.useContext(lt);if(!e)throw new Error("usePage must be used within the Inertia component");return e}function ft(e,t){const[r,n]=l.useState(()=>{const r=st.restore(t);return void 0!==r?r:e});return l.useEffect(()=>{st.remember(r,t)},[r,t]),[r,n]}function gt(s,i){const a=l.useRef(!1),c="string"==typeof s?s:null,[u,h]=l.useState(("string"==typeof s?i:s)||{}),d=l.useRef(null),p=l.useRef(void 0),[m,f]=c?ft(u,`${c}:data`):l.useState(u),[g,v]=c?ft({},`${c}:errors`):l.useState({}),[y,w]=l.useState(!1),[P,S]=l.useState(!1),[b,E]=l.useState(null),[C,T]=l.useState(!1),[k,A]=l.useState(!1),x=l.useRef(e=>e),q=l.useMemo(()=>!n(m,u),[m,u]);l.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[]);const I=l.useRef(!1),F=l.useCallback((...e)=>{const t=null!==e[0]&&"object"==typeof e[0],n=t?e[0].method:e[0],s=t?e[0].url:e[1],o=(t?e[1]:e[2])??{};I.current=!1;const i={...o,onCancelToken:e=>{if(d.current=e,o.onCancelToken)return o.onCancelToken(e)},onBefore:e=>{if(T(!1),A(!1),clearTimeout(p.current),o.onBefore)return o.onBefore(e)},onStart:e=>{if(S(!0),o.onStart)return o.onStart(e)},onProgress:e=>{if(E(e||null),o.onProgress)return o.onProgress(e)},onSuccess:async e=>{a.current&&(S(!1),E(null),v({}),w(!1),T(!0),A(!0),p.current=setTimeout(()=>{a.current&&A(!1)},Tt.get("form.recentlySuccessfulDuration")));const t=o.onSuccess?await o.onSuccess(e):null;return a.current&&!I.current&&f(e=>(h(r(e)),e)),t},onError:e=>{if(a.current&&(S(!1),E(null),v(e),w(!0)),o.onError)return o.onError(e)},onCancel:()=>{if(a.current&&(S(!1),E(null)),o.onCancel)return o.onCancel()},onFinish:e=>{if(a.current&&(S(!1),E(null)),d.current=null,o.onFinish)return o.onFinish(e)}},l=x.current(m);"delete"===n?st.delete(s,{...i,data:l}):st[n](s,l,i)},[m,v,x]),R=l.useCallback((e,n)=>{f("string"==typeof e?s=>t(r(s),e,n):"function"==typeof e?t=>e(t):e)},[f]),[M,L]=l.useState(!1),O=l.useRef(m);l.useEffect(()=>{O.current=m});const N=l.useCallback((e,n)=>{I.current=!0,void 0===e?(h(O.current),L(!0)):h(s=>"string"==typeof e?t(r(s),e,n):Object.assign(r(s),e))},[h]);var D,$;D=()=>{M&&(q&&h(m),L(!1))},$=[M],"undefined"==typeof window?l.useEffect(D,$):l.useLayoutEffect(D,$);const U=l.useCallback((...r)=>{0===r.length?f(u):f(n=>r.filter(e=>o(u,e)).reduce((r,n)=>t(r,n,e(u,n)),{...n}))},[f,u]),B=l.useCallback((e,t)=>{v(r=>{const n={...r,..."string"==typeof e?{[e]:t}:e};return w(Object.keys(n).length>0),n})},[v,w]),H=l.useCallback((...e)=>{v(t=>{const r=Object.keys(t).reduce((r,n)=>({...r,...e.length>0&&!e.includes(n)?{[n]:t[n]}:{}}),{});return w(Object.keys(r).length>0),r})},[v,w]),j=l.useCallback((...e)=>{U(...e),H(...e)},[U,H]),V=e=>(t,r={})=>{F(e,t,r)},W=l.useCallback(V("get"),[F]),_=l.useCallback(V("post"),[F]),J=l.useCallback(V("put"),[F]),K=l.useCallback(V("patch"),[F]),X=l.useCallback(V("delete"),[F]),z=l.useCallback(()=>{d.current&&d.current.cancel()},[]),G=l.useCallback(e=>{x.current=e},[]);return{data:m,setData:R,isDirty:q,errors:g,hasErrors:y,processing:P,progress:b,wasSuccessful:C,recentlySuccessful:k,transform:G,setDefaults:N,reset:U,setError:B,clearErrors:H,resetAndClearErrors:j,submit:F,get:W,post:_,put:J,patch:K,delete:X,cancel:z}}dt.displayName="Inertia";var vt=()=>{};l.forwardRef(({action:e="",method:t="get",headers:r={},queryStringArrayFormat:s="brackets",errorBag:o=null,showProgress:i=!0,transform:a=e=>e,options:u={},onStart:h=vt,onProgress:d=vt,onFinish:p=vt,onBefore:m=vt,onCancel:f=vt,onSuccess:g=vt,onError:v=vt,onCancelToken:y=vt,onSubmitComplete:w=vt,disableWhileProcessing:P=!1,resetOnError:S=!1,resetOnSuccess:b=!1,setDefaultsOnSuccess:E=!1,invalidateCacheTags:C=[],children:T,...k},A)=>{const x=gt({}),q=l.useRef(void 0),I=l.useMemo(()=>j(e)?e.method:t.toLowerCase(),[e,t]),[F,R]=l.useState(!1),M=l.useRef(new FormData),L=()=>new FormData(q.current),O=()=>ge(L()),N=e=>{return t=()=>R("reset"!==e.type&&!n(O(),ge(M.current))),void("function"==typeof c.startTransition?c.startTransition(t):setTimeout(t,0));var t};l.useEffect(()=>{M.current=L();const e=["input","change","reset"];return e.forEach(e=>q.current.addEventListener(e,N)),()=>e.forEach(e=>q.current?.removeEventListener(e,N))},[]);const D=(...e)=>{q.current&&nt(q.current,M.current,e)},U=(...e)=>{x.clearErrors(...e),D(...e)},B=e=>{e&&(!0===e?D():e.length>0&&D(...e))},H=()=>{const[t,n]=$(I,j(e)?e.url:e,O(),s),l={headers:r,queryStringArrayFormat:s,errorBag:o,showProgress:i,invalidateCacheTags:C,onCancelToken:y,onBefore:m,onStart:h,onProgress:d,onFinish:p,onCancel:f,onSuccess:(...e)=>{g(...e),w({reset:D,defaults:V}),B(b),!0===E&&V()},onError(...e){v(...e),B(S)},...u};x.transform(()=>a(n)),x.submit(I,t,l)},V=()=>{M.current=L(),R(!1)},W=()=>({errors:x.errors,hasErrors:x.hasErrors,processing:x.processing,progress:x.progress,wasSuccessful:x.wasSuccessful,recentlySuccessful:x.recentlySuccessful,isDirty:F,clearErrors:x.clearErrors,resetAndClearErrors:U,setError:x.setError,reset:D,submit:H,defaults:V,getData:O,getFormData:L});return l.useImperativeHandle(A,W,[x,F,H]),l.createElement("form",{...k,ref:q,action:j(e)?e.url:e,method:I,onSubmit:e=>{e.preventDefault(),H()},inert:P&&x.processing&&"true"},"function"==typeof T?T(W()):T)}).displayName="InertiaForm";var yt=function({children:e,title:t}){const r=l.useContext(it),n=l.useMemo(()=>r.createProvider(),[r]),s="undefined"==typeof window;function o(e){let t=function(e){const t=Object.keys(e.props).reduce((t,r)=>{if(["head-key","children","dangerouslySetInnerHTML"].includes(r))return t;const n=String(e.props[r]);return""===n?t+` ${r}`:t+` ${r}="${a(n)}"`},"");return`<${String(e.type)}${t}>`}(e);return e.props.children&&(t+=function(e){const{children:t}=e.props;return"string"==typeof t?t:Array.isArray(t)?t.reduce((e,t)=>e+o(t),""):""}(e)),e.props.dangerouslySetInnerHTML&&(t+=e.props.dangerouslySetInnerHTML.__html),function(e){return"string"==typeof e.type&&["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1}(e)||(t+=`</${String(e.type)}>`),t}function i(e){return o(function(e){return c.cloneElement(e,{[n.preferredAttribute()]:void 0!==e.props["head-key"]?e.props["head-key"]:""})}(e))}function u(e){const r=c.Children.toArray(e).filter(e=>e).map(e=>i(e));return t&&!r.find(e=>e.startsWith("<title"))&&r.push(`<title ${n.preferredAttribute()}>${t}</title>`),r}return l.useEffect(()=>(n.reconnect(),n.update(u(e)),()=>{n.disconnect()}),[n,e,t]),s&&n.update(u(e)),null},wt=(e,t)=>e?e&&"object"==typeof e&&"current"in e?e.current:"string"==typeof e?document.querySelector(e):t:t,Pt=(e,t,r=null)=>e?"function"==typeof e?e(t):e:r;l.forwardRef(({data:e,buffer:t=0,as:r="div",manual:n=!1,manualAfter:s=0,preserveUrl:o=!1,reverse:i=!1,autoScroll:a,children:u,startElement:h,endElement:d,itemsElement:p,previous:m,next:f,loading:g,onlyNext:v=!1,onlyPrevious:y=!1,...w},P)=>{const[S,b]=l.useState(null),E=l.useCallback(e=>b(e),[]),[C,T]=l.useState(null),k=l.useCallback(e=>T(e),[]),[A,x]=l.useState(null),q=l.useCallback(e=>x(e),[]),[I,F]=l.useState(!1),[R,M]=l.useState(!1),[L,O]=l.useState(0),[N,D]=l.useState(null),[$,U]=l.useState(null),[B,H]=l.useState(null);l.useEffect(()=>{const e=h?wt(h,S):S;D(e)},[h,S]),l.useEffect(()=>{const e=d?wt(d,C):C;U(e)},[d,C]),l.useEffect(()=>{const e=p?wt(p,A):A;H(e)},[p,A]);const j=l.useMemo(()=>(e=>{const t=e=>{const t=window.getComputedStyle(e);return!!["scroll","overlay"].includes(t.overflowY)||"auto"===t.overflowY&&(!!["visible","clip"].includes(t.overflowX)||n(t.maxHeight,e.style.height))},r=e=>{const t=window.getComputedStyle(e);return!!["scroll","overlay"].includes(t.overflowX)||"auto"===t.overflowX&&(!!["visible","clip"].includes(t.overflowY)||n(t.maxWidth,e.style.width))},n=(e,t)=>!(!e||"none"===e||"0px"===e)||!(!t||"auto"===t||"0"===t);let s=e?.parentElement;for(;s;){const e=t(s)||r(s);if("contents"!==window.getComputedStyle(s).display&&e)return s;s=s.parentElement}return null})(B),[B]),V=l.useRef({buffer:t,onlyNext:v,onlyPrevious:y,reverse:i,preserveUrl:o});V.current={buffer:t,onlyNext:v,onlyPrevious:y,reverse:i,preserveUrl:o};const[W,_]=l.useState(null),J=l.useMemo(()=>W?.dataManager,[W]),K=l.useMemo(()=>W?.elementManager,[W]),X=l.useCallback(()=>{j?j.scrollTo({top:j.scrollHeight,behavior:"instant"}):window.scrollTo({top:document.body.scrollHeight,behavior:"instant"})},[j]);l.useEffect(()=>{if(!B)return;const t=Ie({getPropName:()=>e,inReverseMode:()=>V.current.reverse,shouldFetchNext:()=>!V.current.onlyPrevious,shouldFetchPrevious:()=>!V.current.onlyNext,shouldPreserveUrl:()=>V.current.preserveUrl,getTriggerMargin:()=>V.current.buffer,getStartElement:()=>N,getEndElement:()=>$,getItemsElement:()=>B,getScrollableParent:()=>j,onBeforePreviousRequest:()=>F(!0),onBeforeNextRequest:()=>M(!0),onCompletePreviousRequest:()=>{F(!1),O(t.dataManager.getRequestCount())},onCompleteNextRequest:()=>{M(!1),O(t.dataManager.getRequestCount())}});_(t);const{dataManager:r,elementManager:n}=t;return O(r.getRequestCount()),n.setupObservers(),n.processServerLoadedElements(r.getLastLoadedPage()),G&&n.enableTriggers(),()=>{t.flush(),_(null)}},[e,B,N,$,j]);const z=l.useMemo(()=>n||s>0&&L>=s,[n,s,L]),G=l.useMemo(()=>!z,[z]);l.useEffect(()=>{G?K?.enableTriggers():K?.disableTriggers()},[G,v,y,N,$]),l.useEffect(()=>{(void 0!==a?a:i)&&X()},[j]),l.useImperativeHandle(P,()=>({fetchNext:J?.fetchNext||(()=>{}),fetchPrevious:J?.fetchPrevious||(()=>{}),hasPrevious:J?.hasPrevious||(()=>!1),hasNext:J?.hasNext||(()=>!1)}),[J]);const Q=G&&!v,Y=G&&!y,Z={loadingPrevious:I,loadingNext:R,hasPrevious:J?.hasPrevious()??!1,hasNext:J?.hasNext()??!1},ee={loading:I,fetch:J?.fetchPrevious??(()=>{}),autoMode:Q,manualMode:!Q,hasMore:J?.hasPrevious()??!1,...Z},te={loading:R,fetch:J?.fetchNext??(()=>{}),autoMode:Y,manualMode:!Y,hasMore:J?.hasNext()??!1,...Z},re={loading:I||R,loadingPrevious:I,loadingNext:R},ne=[];return h||ne.push(l.createElement("div",{ref:E},Pt(m,ee,I?Pt(g,ee):null))),ne.push(l.createElement(r,{...w,ref:q},"function"==typeof u?u(re):u)),d||ne.push(l.createElement("div",{ref:k},Pt(f,te,R?Pt(g,te):null))),l.createElement(c.Fragment,{},...i?[...ne].reverse():ne)}).displayName="InertiaInfiniteScroll";var St=()=>{},bt=l.forwardRef(({children:e,as:t="a",data:r={},href:n="",method:s="get",preserveScroll:o=!1,preserveState:i=null,preserveUrl:a=!1,replace:c=!1,only:u=[],except:h=[],headers:d={},queryStringArrayFormat:p="brackets",async:m=!1,onClick:f=St,onCancelToken:g=St,onBefore:v=St,onStart:y=St,onProgress:w=St,onFinish:P=St,onCancel:S=St,onSuccess:b=St,onError:E=St,onPrefetching:C=St,onPrefetched:T=St,prefetch:k=!1,cacheFor:A=0,cacheTags:x=[],viewTransition:q=!1,...I},F)=>{const[R,M]=l.useState(0),L=l.useRef(void 0),O=l.useMemo(()=>j(n)?n.method:s.toLowerCase(),[n,s]),N=l.useMemo(()=>"string"!=typeof t||"a"!==t.toLowerCase()?t:"get"!==O?"button":t.toLowerCase(),[t,O]),D=l.useMemo(()=>$(O,j(n)?n.url:n,r,p),[n,O,r,p]),U=l.useMemo(()=>D[0],[D]),B=l.useMemo(()=>D[1],[D]),H=l.useMemo(()=>({data:B,method:O,preserveScroll:o,preserveState:i??"get"!==O,preserveUrl:a,replace:c,only:u,except:h,headers:d,async:m}),[B,O,o,i,a,c,u,h,d,m]),V=l.useMemo(()=>({...H,viewTransition:q,onCancelToken:g,onBefore:v,onStart(e){M(e=>e+1),y(e)},onProgress:w,onFinish(e){M(e=>e-1),P(e)},onCancel:S,onSuccess:b,onError:E}),[H,q,g,v,y,w,P,S,b,E]),W=l.useMemo(()=>!0===k?["hover"]:!1===k?[]:Array.isArray(k)?k:[k],Array.isArray(k)?k:[k]),_=l.useMemo(()=>0!==A?A:1===W.length&&"click"===W[0]?0:Tt.get("prefetch.cacheFor"),[A,W]),J=l.useMemo(()=>()=>{st.prefetch(U,{...H,onPrefetching:C,onPrefetched:T},{cacheFor:_,cacheTags:x})},[U,H,C,T,_,x]);l.useEffect(()=>()=>{clearTimeout(L.current)},[]),l.useEffect(()=>{W.includes("mount")&&setTimeout(()=>J())},W);const K={onClick:e=>{f(e),Re(e)&&(e.preventDefault(),st.visit(U,V))}},X={onMouseEnter:()=>{L.current=window.setTimeout(()=>{J()},Tt.get("prefetch.hoverDelay"))},onMouseLeave:()=>{clearTimeout(L.current)},onClick:K.onClick},z={onMouseDown:e=>{Re(e)&&(e.preventDefault(),J())},onKeyDown:e=>{Me(e)&&(e.preventDefault(),J())},onMouseUp:e=>{Re(e)&&(e.preventDefault(),st.visit(U,V))},onKeyUp:e=>{Me(e)&&(e.preventDefault(),st.visit(U,V))},onClick:e=>{f(e),Re(e)&&e.preventDefault()}},G=l.useMemo(()=>"button"===N?{type:"button"}:"a"===N||"string"!=typeof N?{href:U}:{},[N,U]);return l.createElement(N,{...I,...G,ref:F,...W.includes("hover")?X:W.includes("click")?z:K,"data-loading":R>0?"":void 0},e)});bt.displayName="InertiaLink";var Et=bt,Ct=st,Tt=h.extend();export{yt as H,Et as L,gt as a,pt as c,Ct as r,mt as u};
