import{X as p,j as e,x as g,r as d}from"./app-B-_bgX9Y.js";function h({label:a,icon:c,children:o,active:s}){const[t,r]=d.useState(s);return d.useEffect(()=>{r(s)},[s]),e.jsxs("div",{className:"mb-2",children:[e.jsxs("button",{onClick:()=>r(n=>!n),className:`flex items-center w-full px-2 py-2.5 rounded-lg font-medium transition-all duration-300 group ${t||s?"bg-blue-100 text-blue-700 border-l-4 border-blue-500":"hover:bg-gray-50 text-gray-700 hover:text-gray-900"}`,children:[e.jsx("span",{className:`mr-3 transition-colors duration-300 ${t||s?"text-blue-600":"text-gray-400 group-hover:text-gray-600"}`,children:c}),e.jsx("span",{className:"flex-1 text-left text-sm font-semibold",children:a}),e.jsx("svg",{className:`w-4 h-4 ml-auto transition-all duration-300 ${t?"rotate-90":""} ${t||s?"text-blue-600":"text-gray-400 group-hover:text-gray-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("div",{className:`transition-all duration-300 overflow-hidden ${t?"max-h-96 opacity-100 mt-2":"max-h-0 opacity-0"}`,children:e.jsx("div",{className:"pl-2 space-y-1",children:o})})]})}function i({href:a,icon:c,label:o,active:s}){return e.jsxs(g,{href:a,className:`flex items-center px-2 py-2.5 rounded-lg font-medium transition-all duration-200 ${s?"bg-blue-100 text-blue-700 border-l-4 border-blue-500":"hover:bg-gray-50 text-gray-700 border-l-4 border-transparent"}`,children:[e.jsx("span",{className:`mr-3 ${s?"text-blue-600":"text-gray-400"}`,children:c}),e.jsx("span",{className:`text-sm transition-colors duration-200 ${s?"text-blue-700":"text-gray-600 group-hover:text-gray-900"}`,children:o})]})}function u(a){try{return route(a),!0}catch{return!1}}function m(a,c={}){try{return route(a,c)}catch{return console.warn(`Route "${a}" not found`),"#"}}function j({lang:a,setLang:c}){const{auth:o}=p().props,s=o?.can??{},t=route().current(),r=(...l)=>l.some(x=>t?.includes(x)),n={dashboard:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[e.jsx("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}),e.jsx("rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}),e.jsx("rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}),e.jsx("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"})]}),user:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e.jsx("path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}),e.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"})]}),role:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user-lock",children:[e.jsx("circle",{cx:"10",cy:"7",r:"4"}),e.jsx("path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2"}),e.jsx("path",{d:"M15 15.5V14a2 2 0 0 1 4 0v1.5"}),e.jsx("rect",{width:"8",height:"5",x:"13",y:"16",rx:".899"})]}),quiz:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-message-circle-question-mark-icon lucide-message-circle-question-mark",children:[e.jsx("path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]}),article:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-clipboard-plus-icon lucide-clipboard-plus",children:[e.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),e.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),e.jsx("path",{d:"M9 14h6"}),e.jsx("path",{d:"M12 17v-6"})]}),homophone:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-book-plus",children:[e.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),e.jsx("path",{d:"M4 4.5A2.5 2.5 0 0 1 6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15z"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),settings:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),progress:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]})};return e.jsxs("aside",{className:"main-sidebar bg-white border-r border-gray-200 w-64 fixed h-full overflow-y-auto pb-4",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-100 mt-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{href:"/",className:"flex items-center gap-2 flex-shrink-0",children:e.jsx("div",{className:"relative -mt-2",children:e.jsx("img",{src:"/images/sor-ser logo.png",alt:"Sor-Ser logo",className:"h-9 w-9",style:{filter:"brightness(0) saturate(100%) invert(21%) sepia(94%) saturate(2783%) hue-rotate(210deg) brightness(96%) contrast(97%)"}})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-base font-semibold text-blue-700 leading-tight",children:"Sor-Ser"}),e.jsx("div",{className:"text-xs text-gray-500 leading-tight",children:"Application"})]})]})}),e.jsx("div",{className:"sidebar",children:e.jsxs("nav",{className:"flex-1 px-2 py-3 space-y-2",children:[e.jsxs(h,{label:"Dashboard",icon:n.dashboard,active:route().current("dashboard")||route().current("student.analytics"),children:[e.jsx(i,{href:route("dashboard"),label:"Dashboard Analytics",active:route().current("dashboard")}),e.jsx(i,{href:route("student.analytics"),label:"Student Analytics",active:route().current("student.analytics")})]}),u("user-progress.index")&&e.jsx(i,{href:m("user-progress.index"),icon:n.progress,label:"My Progress",active:r("user-progress")}),(s["article-list"]||s["article-create"])&&e.jsxs(h,{label:"Articles",icon:n.article,active:r("articles","article-settings"),children:[e.jsx(i,{href:route("articles.index"),label:"Article List",active:t==="articles.index"}),s["article-create"]&&e.jsx(i,{href:route("articles.create"),label:"Create Article",active:t==="articles.create"}),s["article-create"]&&u("article-settings.index")&&e.jsx(i,{href:m("article-settings.index"),label:"Article Settings",active:t==="article-settings.index"||r("article-settings")})]}),(s["homophone-list"]||s["homophone-create"])&&e.jsxs(h,{label:"Homophones",icon:n.homophone,active:r("homophones"),children:[e.jsx(i,{href:route("homophones.index"),label:"Homophone List",active:t==="homophones.index"}),s["homophone-create"]&&e.jsx(i,{href:route("homophones.create"),label:"Create Homophone",active:t==="homophones.create"})]}),(s["quiz-list"]||s["quiz-create"])&&e.jsxs(h,{label:"Quizzes",icon:n.quiz,active:r("quizzes"),children:[e.jsx(i,{href:route("quizzes.index"),label:"Quiz List",active:t==="quizzes.index"}),s["quiz-create"]&&e.jsx(i,{href:route("quizzes.create"),label:"Create Quiz",active:t==="quizzes.create"})]}),(s["role-list"]||s["user-list"])&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-400 mb-2 pt-2 px-2 tracking-wider uppercase",children:"Authentication"}),(s["role-list"]||s["role-create"])&&e.jsxs(h,{label:"Roles",icon:n.role,active:r("roles"),children:[e.jsx(i,{href:route("roles.index"),label:"Roles List",active:t==="roles.index"}),s["role-create"]&&e.jsx(i,{href:route("roles.create"),label:"Create Role",active:t==="roles.create"})]}),(s["user-list"]||s["user-create"])&&e.jsxs(h,{label:"Users",icon:n.user,active:r("users","learn"),children:[e.jsx(i,{href:route("users.index"),label:"User List",active:t==="users.index"}),s["user-create"]&&e.jsx(i,{href:route("users.create"),label:"Create User",active:t==="users.create"}),u("learn.articles.index")&&e.jsx(i,{href:m("learn.articles.index"),label:"User Learning",active:r("learn")})]}),s["settings-edit"]&&u("settings.index")&&e.jsx(i,{href:m("settings.index"),icon:n.settings,label:"Settings",active:t==="settings.index"||r("settings")})]})]})})]})}function v({lang:a,setLang:c}){const[o,s]=d.useState(!1),t=d.useRef(null);d.useEffect(()=>{function l(x){t.current&&!t.current.contains(x.target)&&s(!1)}return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]);const r=l=>l==="en"?e.jsx("span",{className:"fi fi-us",title:"English"}):l==="kh"?e.jsx("span",{className:"fi fi-kh",title:"Khmer"}):null,n=l=>{c(l),localStorage.setItem("lang",l),window.dispatchEvent(new Event("lang-changed")),s(!1)};return e.jsxs("div",{className:"nav-item dropdown position-relative border rounded-[10px] hover:shadow-md",ref:t,children:[e.jsxs("button",{className:"nav-link btn btn-link d-flex align-items-center p-2 bg-transparent",onClick:()=>s(l=>!l),style:{outline:"none",boxShadow:"none"},children:[e.jsxs("span",{className:"mx-1 text-sm font-semibold flex items-center gap-1",children:[e.jsx("span",{children:r(a)}),e.jsx("span",{children:a==="en"?"English":"ភាសាខ្មែរ"})]}),e.jsx("i",{className:`fas fa-chevron-down ml-[0.1rem] transition-transform transform scale-[0.7] ${o?"rotate-180":""}`})]}),o&&e.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white border border-gray-200 rounded-xl shadow-lg z-50",children:e.jsxs("div",{className:"px-2 py-2 space-y-1",children:[e.jsxs("button",{className:`flex items-center gap-2 w-full text-left px-4 py-2 text-sm ${a==="en"?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"} rounded-lg transition`,onClick:()=>n("en"),children:[e.jsx("span",{className:"fi fi-us",title:"English"}),e.jsx("span",{children:"English"})]}),e.jsxs("button",{className:`flex items-center gap-2 w-full text-left px-4 py-2 text-sm ${a==="kh"?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"} rounded-lg transition`,onClick:()=>n("kh"),children:[e.jsx("span",{className:"fi fi-kh",title:"Khmer"}),e.jsx("span",{children:"ភាសាខ្មែរ"})]})]})})]})}const w=({breadcrumb:a,children:c})=>{const{auth:o}=p().props,[s,t]=d.useState(!1),[r,n]=d.useState(()=>localStorage.getItem("lang")||"en"),l=d.useRef(null);o?.can;const x=f=>{l.current&&!l.current.contains(f.target)&&t(!1)};return d.useEffect(()=>{localStorage.setItem("lang",r)},[r]),d.useEffect(()=>(document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}),[]),e.jsxs("div",{className:"wrapper h-screen overflow-hidden flex flex-col",children:[e.jsxs("nav",{className:"main-header py-3 navbar navbar-expand navbar-white navbar-light",children:[e.jsx("ul",{className:"navbar-nav",children:e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link","data-widget":"pushmenu",href:"#",role:"button",children:e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 border px-2 py-2 rounded-lg",children:e.jsx("svg",{className:"block",width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.583252 1C0.583252 0.585788 0.919038 0.25 1.33325 0.25H14.6666C15.0808 0.25 15.4166 0.585786 15.4166 1C15.4166 1.41421 15.0808 1.75 14.6666 1.75L1.33325 1.75C0.919038 1.75 0.583252 1.41422 0.583252 1ZM0.583252 11C0.583252 10.5858 0.919038 10.25 1.33325 10.25L14.6666 10.25C15.0808 10.25 15.4166 10.5858 15.4166 11C15.4166 11.4142 15.0808 11.75 14.6666 11.75L1.33325 11.75C0.919038 11.75 0.583252 11.4142 0.583252 11ZM1.33325 5.25C0.919038 5.25 0.583252 5.58579 0.583252 6C0.583252 6.41421 0.919038 6.75 1.33325 6.75L7.99992 6.75C8.41413 6.75 8.74992 6.41421 8.74992 6C8.74992 5.58579 8.41413 5.25 7.99992 5.25L1.33325 5.25Z",fill:"currentColor"})})})})})}),e.jsxs("ul",{className:"navbar-nav ml-auto mr-2",children:[e.jsx("li",{children:e.jsx(v,{lang:r,setLang:n})}),e.jsxs("li",{className:"nav-item dropdown position-relative",ref:l,children:[e.jsxs("button",{className:"nav-link btn btn-link d-flex align-items-center p-2 border-0 bg-transparent",onClick:()=>t(!s),style:{outline:"none",boxShadow:"none"},children:[e.jsx("img",{src:"/images/person-icon.svg",className:"mr-2 h-8 w-8 overflow-hidden rounded-full",alt:"User avatar"}),e.jsx("span",{className:"text-theme-sm mr-1 block font-medium",children:o?.user?.name}),e.jsx("i",{className:`fas fa-chevron-down ml-[0.1rem] transition-transform transform scale-[0.7] ${s?"rotate-180":""}`})]}),s&&e.jsxs("div",{className:"absolute right-[0.4rem] mt-2 mx-auto max-w-xl bg-white border border-gray-200 rounded-xl shadow-lg z-50",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-gray-800",children:o?.user?.name}),e.jsx("span",{className:"text-sm text-gray-500",children:o?.user?.email})]})})}),e.jsxs("div",{className:"flex flex-col py-2 px-2",children:[e.jsxs(g,{href:route("profile.edit"),onClick:()=>t(!1),className:"flex items-center px-3 py-2 text-sm text-blue-900 hover:bg-gray-100 rounded-lg transition",children:[e.jsx("i",{className:"fas fa-user-circle w-4 mr-3 text-gray-500"}),"My Account"]}),e.jsx("hr",{className:"my-1 border-gray-200"}),e.jsxs(g,{method:"post",href:route("logout"),as:"button",onClick:()=>t(!1),className:"flex items-center w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition",children:[e.jsx("i",{className:"fas fa-sign-out-alt w-4 mr-3 text-red-500"}),"Sign Out"]})]})]})]})]})]}),e.jsx(j,{lang:r,setLang:n}),e.jsxs("div",{className:"content-wrapper flex-1 px-2 overflow-y-auto",children:[a&&a,e.jsx("section",{className:"content px-2",children:c})]})]})};export{w as A};
