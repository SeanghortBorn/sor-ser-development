import{j as e,S as w,x as y}from"./app-CILFAaJc.js";import{A as u}from"./AuthenticatedLayout-BlMoXAwa.js";import{R as r,T as i,L as x}from"./CategoricalChart-Doe4k2Ug.js";import{L as N,C as c,X as n,Y as m,a as b,B as f,b as h}from"./BarChart-BSWsLqvt.js";import{F as _}from"./file-text-CWDNcuYa.js";import"./Dropdown-C7rD1I3A.js";import"./transition-Aw5_rYI_.js";import"./with-selector-Dmzc-9tC.js";import"./defaultLocale-DZ0G4mR_.js";import"./createLucideIcon-B1CUg5AK.js";function B({auth:v,user:a,articlesAttempted:p,accuracyTrends:g,correctionPatterns:j,typingActivity:d,audioBehavior:l,learningMetrics:t}){return e.jsxs(u,{user:v.user,children:[e.jsx(w,{title:`${a.name} - Progress Dashboard`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Progress Dashboard"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Comprehensive learning analytics for ",a.name]})]}),e.jsx(y,{href:route("users.index"),className:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700",children:"â† Back to Users"})]}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"User Profile"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),e.jsx("p",{className:"font-semibold",children:a.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-semibold",children:a.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded ${a.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Roles"}),e.jsx("p",{className:"font-semibold",children:a.roles.length>0?a.roles.join(", "):"No roles"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Registered"}),e.jsx("p",{className:"font-semibold",children:a.created_at})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Checks"}),e.jsx("p",{className:"font-semibold",children:a.total_checks})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Overall Accuracy"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[t.overall_accuracy,"%"]})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Progress Trend"}),e.jsx("p",{className:`text-2xl font-bold ${t.progress_trend==="Improving"?"text-green-600":t.progress_trend==="Declining"?"text-red-600":"text-gray-600"}`,children:t.progress_trend})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Attempts"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.total_attempts})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Improvement Rate"}),e.jsxs("p",{className:`text-2xl font-bold ${t.improvement_rate>0?"text-green-600":"text-red-600"}`,children:[t.improvement_rate>0?"+":"",t.improvement_rate,"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-green-700",children:"Strengths"}),t.strengths.length>0?e.jsx("ul",{className:"space-y-2",children:t.strengths.map((s,o)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s]},o))}):e.jsx("p",{className:"text-gray-500",children:"Not enough data yet"})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-red-700",children:"Areas for Improvement"}),t.weaknesses.length>0?e.jsx("ul",{className:"space-y-2",children:t.weaknesses.map((s,o)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s]},o))}):e.jsx("p",{className:"text-gray-500",children:"Excellent performance across all areas!"})]})})]}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Daily Accuracy Trends (Last 30 Days)"}),g.length>0?e.jsx(r,{width:"100%",height:300,children:e.jsxs(N,{data:g,children:[e.jsx(c,{strokeDasharray:"3 3"}),e.jsx(n,{dataKey:"date"}),e.jsx(m,{domain:[0,100]}),e.jsx(i,{}),e.jsx(x,{}),e.jsx(b,{type:"monotone",dataKey:"accuracy",stroke:"#3B82F6",strokeWidth:2,name:"Accuracy (%)"})]})}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No accuracy data available for the last 30 days"})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Correction Patterns (Accept vs Reject)"}),j.length>0?e.jsx(r,{width:"100%",height:300,children:e.jsxs(f,{data:j,children:[e.jsx(c,{strokeDasharray:"3 3"}),e.jsx(n,{dataKey:"date"}),e.jsx(m,{}),e.jsx(i,{}),e.jsx(x,{}),e.jsx(h,{dataKey:"accepted",fill:"#10B981",name:"Accepted"}),e.jsx(h,{dataKey:"rejected",fill:"#EF4444",name:"Rejected"})]})}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No correction data available"})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Typing Activity"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Characters Typed"}),e.jsx("p",{className:"text-2xl font-bold",children:d.total_characters.toLocaleString()})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Average Per Session"}),e.jsx("p",{className:"text-2xl font-bold",children:d.average_per_session})]})]}),d.daily.length>0?e.jsx(r,{width:"100%",height:250,children:e.jsxs(N,{data:d.daily,children:[e.jsx(c,{strokeDasharray:"3 3"}),e.jsx(n,{dataKey:"date"}),e.jsx(m,{}),e.jsx(i,{}),e.jsx(x,{}),e.jsx(b,{type:"monotone",dataKey:"characters",stroke:"#8B5CF6",strokeWidth:2,name:"Characters Typed"})]})}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No typing data available"})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Audio Listening Behavior"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Plays"}),e.jsx("p",{className:"text-2xl font-bold",children:l.total_plays})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Rewinds"}),e.jsx("p",{className:"text-2xl font-bold",children:l.total_rewinds})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Fast Forwards"}),e.jsx("p",{className:"text-2xl font-bold",children:l.total_forwards})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Position"}),e.jsxs("p",{className:"text-2xl font-bold",children:[l.avg_playback_position,"s"]})]})]}),l.daily.length>0&&e.jsx(r,{width:"100%",height:250,children:e.jsxs(f,{data:l.daily,children:[e.jsx(c,{strokeDasharray:"3 3"}),e.jsx(n,{dataKey:"date"}),e.jsx(m,{}),e.jsx(i,{}),e.jsx(x,{}),e.jsx(h,{dataKey:"plays",fill:"#F59E0B",name:"Audio Plays"})]})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Articles Attempted"}),p.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Article Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attempts"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Best Accuracy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Accuracy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Latest Attempt"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.title}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.attempts}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded ${s.best_accuracy>=80?"bg-green-100 text-green-800":s.best_accuracy>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[s.best_accuracy,"%"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.average_accuracy,"%"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.latest_attempt}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs(y,{href:route("users.articles.details",{userId:a.id,articleId:s.article_id}),className:"inline-flex items-center px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors duration-200 shadow-sm hover:shadow-md",children:[e.jsx(_,{className:"w-4 h-4 mr-1.5"}),"View Details"]})})]},s.article_id))})]})}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No articles attempted yet"})]})})]})})]})}export{B as default};
