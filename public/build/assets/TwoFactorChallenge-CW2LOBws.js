import{r as s,G as f,j as e,S as p}from"./app-KEIty8Lx.js";import{I as d}from"./InputError-KOsGdjMi.js";import{C as h}from"./Checkbox-DCBpynHn.js";import{R as y}from"./WaveBackground-DarQAKgu.js";const N=()=>{const[o,m]=s.useState(!1),c=s.useRef(null),n=s.useRef(null),{data:a,setData:r,post:x,processing:l,errors:i}=f({code:"",recovery_code:"",remember_device:!1}),u=()=>m(t=>!t);s.useEffect(()=>{o?(c.current?.focus(),r("code","")):(n.current?.focus(),r("recovery_code",""))},[o]);const b=t=>{t.preventDefault(),x(route("two-factor.login"))};return e.jsxs(e.Fragment,{children:[e.jsx(p,{title:"Two-factor Confirmation"}),e.jsx(y,{}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-10",children:e.jsxs("div",{className:"relative bg-white rounded-2xl w-full max-w-xl shadow-xl",style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.18)",border:"1px solid #e5e7eb"},children:[e.jsx("button",{type:"button",className:"absolute top-5 right-6 text-gray-400 hover:text-gray-600 text-2xl z-10","aria-label":"Close",onClick:()=>window.history.back(),style:{background:"none",border:"none"},children:"Ã—"}),e.jsxs("div",{className:"px-7 py-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#222a54] mb-1",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-base text-gray-600 mb-3",children:o?"Enter one of your emergency recovery codes.":"Enter the 6-digit code from your authenticator app."}),e.jsxs("form",{onSubmit:b,className:"space-y-5",children:[o?e.jsxs("div",{children:[e.jsx("label",{htmlFor:"recovery_code",className:"block text-base font-semibold text-[#222a54] mb-2",children:"Recovery Code"}),e.jsx("input",{id:"recovery_code",ref:c,type:"text",placeholder:"ABCDEF-GHIJKL",autoComplete:"one-time-code",value:a.recovery_code,onChange:t=>r("recovery_code",t.target.value),className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl transition-colors text-gray-600 focus:ring-3 focus:ring-blue-100 focus:outline-none text-[16px] font-medium placeholder-gray-400",required:!0}),e.jsx(d,{message:i.recovery_code,className:"mt-1"})]}):e.jsxs("div",{children:[e.jsx("label",{htmlFor:"code",className:"block text-base font-semibold text-[#222a54] mb-2",children:"Authentication Code"}),e.jsx("input",{id:"code",ref:n,type:"text",inputMode:"numeric",maxLength:"6",autoComplete:"one-time-code",placeholder:"123456",value:a.code,onChange:t=>r("code",t.target.value.replace(/[^0-9]/g,"").slice(0,6)),className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl transition-colors text-gray-600 focus:ring-3 focus:ring-blue-100 focus:outline-none text-[16px] font-medium placeholder-gray-400",required:!0}),e.jsx(d,{message:i.code,className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{name:"remember_device",checked:a.remember_device,onChange:t=>r("remember_device",t.target.checked)}),e.jsx("span",{className:"ms-2 text-sm text-gray-600",children:"Remember this device for 30 days"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-end sm:items-center gap-3 mt-2 space-x-1",children:[e.jsx("button",{type:"button",onClick:u,className:"text-sm font-semibold text-blue-600 hover:underline",children:o?"Use an authentication code":"Use a recovery code"}),e.jsx("button",{type:"submit",disabled:l,className:"w-1/3 flex items-center justify-center bg-blue-600 text-white font-semibold py-1.5 px-4 rounded-xl hover:bg-blue-500 transition-all duration-200 transform disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:l?"Verifying...":"Log In"})]})]})]})]})})]})};export{N as default};
