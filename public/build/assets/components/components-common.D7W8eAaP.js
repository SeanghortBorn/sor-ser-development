var Ae=Object.defineProperty;var Ce=(r,t,l)=>t in r?Ae(r,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[t]=l;var ee=(r,t,l)=>Ce(r,typeof t!="symbol"?t+"":t,l);import{j as e,C as Se,L as N,H as fe,K as Le,O as me,S as _e,r as x,u as ne,A as Me,m as se,T as $e,R as he,b as Ee,d as Z,a as G,e as ze,f as Te,g as be,B as De,h as le,i as ye,k as je,X as we,Y as ve,l as ie,n as oe,o as ae,P as Pe,q as Fe,s as Re,t as Ie,v as Oe,w as Be,x as We,Z as He,y as Ue,z as Ye,D as Ge}from"../vendor/vendor-common.CH-fBE_6.js";const K={NAME:{SHORT:"Sor-Ser",FULL:"Sor-Ser Application"},TAGLINE:{EN:"Khmer Homophone Learning Platform"},COPYRIGHT:{YEAR:new Date().getFullYear(),TEXT:`© ${new Date().getFullYear()}`,FULL:`© ${new Date().getFullYear()} All rights reserved.`},LOGO:{PATH:"/images/sor-ser logo.png",ALT_TEXT:"Sor-Ser logo"},FILTERS:{BLUE:"brightness(0) saturate(100%) invert(21%) sepia(94%) saturate(2783%) hue-rotate(210deg) brightness(96%) contrast(97%)",WHITE:"invert brightness-0",NONE:"none"}},ue={sm:{width:24,height:24,className:"w-6 h-6"},md:{width:36,height:36,className:"w-9 h-9"},lg:{width:64,height:64,className:"w-16 h-16"},xl:{width:80,height:80,className:"w-20 h-20"}};function Ne({size:r="md",variant:t="blue",width:l,height:a,className:i="",...o}){const g=ue[r]||ue.md,c=K.FILTERS[t.toUpperCase()]||K.FILTERS.BLUE,A=l||g.width,_=a||g.height,v=i||g.className;return e.jsx("img",{src:K.LOGO.PATH,alt:K.LOGO.ALT_TEXT,width:A,height:_,className:v,style:{filter:c==="none"?void 0:c},loading:"lazy",...o})}const te={CONTAINER_WIDTH:{DEFAULT:"max-w-7xl",ADMIN:"max-w-full",NARROW:"max-w-4xl",WIDE:"max-w-screen-2xl"},CONTAINER_PADDING:{DEFAULT:"px-6 sm:px-8 md:px-12 lg:px-16",ADMIN:"px-2 md:px-4 lg:px-6",NONE:"px-0"},ROUNDED:{SMALL:"rounded-lg",MEDIUM:"rounded-xl",LARGE:"rounded-2xl"}};function qe({user:r,className:t="",actions:l=null}){if(!r)return null;const a=r.roles_list&&r.roles_list[0]?.name||r.roles&&r.roles[0]?.name||"User";return e.jsxs("div",{className:`bg-white border border-gray-200 ${te.ROUNDED.LARGE} p-4 text-pretty ${t}`,children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("img",{src:"/images/person-icon.svg",className:"h-12 w-12 rounded-full",alt:"User avatar"}),e.jsxs("div",{className:"flex-1 min-w-0 pr-1",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900 break-words",children:r.name}),e.jsx("div",{className:"text-xs text-gray-600 break-words",children:r.email}),e.jsx("div",{className:"text-xs text-blue-600 font-semibold break-words",children:a})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Age"}),e.jsx("span",{className:"text-xs font-medium text-gray-800 break-words",children:r.age??"N/A"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Education Level"}),e.jsx("span",{className:"text-xs font-medium text-gray-800 break-words",children:r.education_level??"N/A"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Khmer Writing Experience"}),e.jsx("span",{className:"text-xs font-medium text-gray-800 break-words",children:r.khmer_experience??"N/A"})]})]}),l&&e.jsx("div",{className:"mt-4",children:l})]})}function as(r){return e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 px-6 py-4 transition-all duration-200 hover:shadow-md",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:r?.header}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Manage and monitor your ",r?.header?.toLowerCase()]})]}),e.jsx("div",{children:e.jsx("ol",{className:"flex items-center gap-2 text-sm",children:r?.links&&r?.links.map((t,l)=>(r.links.length-1,e.jsxs("li",{className:"flex items-center gap-2",children:[l>0&&e.jsx(Se,{className:"w-4 h-4 text-gray-400"}),t?.url?e.jsxs(N,{href:route("dashboard"),className:"flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium transition-all duration-200 hover:scale-105 active:scale-95",children:[l===0&&e.jsx(fe,{className:"w-4 h-4"}),t?.title]}):e.jsx("span",{className:"text-gray-600 font-semibold",children:t?.title})]},l)))})})]})})}function ns({links:r,currentPage:t,total:l,perPage:a}){if(!r||r.length<=1)return null;const i=Math.ceil(l/a),o=t||1,c=(()=>{const n=[];if(i<=7)for(let M=1;M<=i;M++)n.push(M);else{n.push(1),o>3&&n.push("...");const M=Math.max(2,o-1),D=Math.min(i-1,o+1);for(let b=M;b<=D;b++)n.push(b);o<i-2&&n.push("..."),n.push(i)}return n})(),A=r.find(n=>n.label.includes("Previous")||n.label.includes("&laquo;")),_=r.find(n=>n.label.includes("Next")||n.label.includes("&raquo;")),v="px-4 py-2 font-medium text-sm transition-all duration-200 ease-in-out",j="rounded-2xl";return e.jsxs("nav",{className:"flex items-center justify-center gap-2",children:[A&&(A.url?e.jsx(N,{href:A.url,className:`${v} ${j} bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400 hover:shadow-sm`,children:"← Previous"}):e.jsx("span",{className:`${v} ${j} bg-gray-100 text-gray-400 cursor-not-allowed`,children:"← Previous"})),c.map((n,E)=>{if(n==="...")return e.jsx("span",{className:"px-2 py-2 text-gray-500",children:"..."},`ellipsis-${E}`);const M=n===o,D=r.find(B=>B.label.replace(/&laquo;|&raquo;/g,"").trim()===String(n)),b=M?"bg-blue-600 text-white shadow-sm":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400 hover:shadow-sm";return D&&D.url?e.jsx(N,{href:D.url,className:`${v} ${j} ${b}`,children:n},n):e.jsx("span",{className:`${v} ${j} ${M?"bg-blue-600 text-white shadow-sm":"bg-gray-100 text-gray-400"}`,children:n},n)}),_&&(_.url?e.jsx(N,{href:_.url,className:`${v} ${j} bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400 hover:shadow-sm`,children:"Next →"}):e.jsx("span",{className:`${v} ${j} bg-gray-100 text-gray-400 cursor-not-allowed`,children:"Next →"}))]})}function de({children:r,show:t=!1,maxWidth:l="2xl",closeable:a=!0,onClose:i=()=>{}}){const o=()=>{a&&i()},g={sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"}[l];return e.jsx(Le,{show:t,leave:"duration-200",appear:!0,children:e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center",onClick:c=>{a&&c.target===c.currentTarget&&o()},children:[e.jsx(me,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500/75 pointer-events-none"})}),e.jsx(me,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:e.jsx("div",{className:`relative w-full px-4 py-6 sm:px-0 ${g} pointer-events-auto`,onClick:c=>c.stopPropagation(),children:e.jsx("div",{className:"transform overflow-hidden rounded-xl bg-white shadow-xl transition-all w-full",children:r})})})]})})}function ls({value:r,onChange:t,placeholder:l="Search...",className:a=""}){return e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 rounded-xl border hover:shadow-sm transition text-sm bg-white ${a}`,children:[e.jsx(_e,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",className:"px-2 w-[250px] py-2 rounded-xl border-none border-gray-300 text-sm focus:outline-none focus:ring-0",placeholder:l,value:r,onChange:t})]})}function is({onClick:r,icon:t,tooltip:l,variant:a="blue",disabled:i=!1,className:o=""}){const[g,c]=x.useState(!1),A=()=>{const _={blue:"bg-blue-500 hover:bg-blue-600 hover:scale-105 hover:shadow-sm text-white",green:"bg-green-500 hover:bg-green-600 hover:scale-105 hover:shadow-sm text-white",red:"bg-red-500 hover:bg-red-600 hover:scale-105 hover:shadow-sm text-white",yellow:"bg-yellow-500 hover:bg-yellow-600 hover:scale-105 hover:shadow-sm text-white",gray:"bg-gray-500 hover:bg-gray-600 hover:scale-105 hover:shadow-sm text-white"};return _[a]||_.blue};return e.jsxs("div",{className:"relative group",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e.jsx("button",{onClick:r,disabled:i,className:`inline-flex items-center gap-1.5 px-2 py-2 text-sm font-medium rounded-xl ${A()} transition ${i?"opacity-50 cursor-not-allowed":""} ${o}`,children:t&&e.jsx(t,{className:"w-4 h-4"})}),l&&g&&!i&&e.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-white text-gray-800 text-xs px-3 py-1 rounded-xl shadow-sm border whitespace-nowrap z-10",children:[l,e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1",children:e.jsx("div",{className:"border-4 border-transparent border-t-white"})})]})]})}function os({show:r=!1,onClose:t,onConfirm:l,title:a="Confirm Action",message:i="Are you sure you want to proceed?",confirmText:o="Confirm",confirmStyle:g="danger",processing:c=!1}){const A=()=>{const _="rounded-xl px-9 py-1 font-semibold hover:opacity-90 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95";switch(g){case"danger":return`${_} bg-red-600 text-white`;case"success":return`${_} bg-green-600 text-white`;case"primary":return`${_} bg-blue-600 text-white`;default:return`${_} bg-red-600 text-white`}};return e.jsx(de,{show:r,onClose:t,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:a}),e.jsx("p",{className:"text-gray-600 mb-6",children:i}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:t,className:"rounded-xl border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:c,children:"Cancel"}),e.jsx("button",{type:"button",onClick:l,className:A(),disabled:c,children:c?"Processing...":o})]})]})})}function Xe({message:r,className:t="",...l}){return r?e.jsx("p",{...l,className:"text-sm text-red-600 "+t,children:r}):null}function Ke({value:r,className:t="",children:l,...a}){return e.jsx("label",{...a,className:"block text-sm font-medium text-gray-700 "+t,children:r||l})}function cs({className:r="",disabled:t,children:l,...a}){return e.jsx("button",{...a,className:`inline-flex items-center rounded-xl border border-transparent bg-gray-800 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition-all duration-200 ease-in-out hover:bg-gray-700 hover:scale-105 hover:shadow-sm focus:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 active:bg-gray-900 active:scale-95 ${t&&"opacity-25 cursor-not-allowed hover:scale-100 hover:shadow-none"} `+r,disabled:t,children:l})}const Qe=x.forwardRef(function({type:t="text",className:l="",isFocused:a=!1,...i},o){const g=x.useRef(null);return x.useImperativeHandle(o,()=>({focus:()=>g.current?.focus()})),x.useEffect(()=>{a&&g.current?.focus()},[a]),e.jsx("input",{...i,type:t,className:"rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 "+l,ref:g})});function ds(){const l=x.useMemo(()=>[...Array(300)].map(()=>({left:Math.random()*120-10,width:Math.random()*.3+.1,opacity:Math.random()*.6+.3,duration:Math.random()*1+.5,delay:Math.random()*.2})),[]),a=x.useMemo(()=>[...Array(150)].map(()=>({left:Math.random()*100,size:Math.random()*8+4,opacity:Math.random()*.7+.3,duration:Math.random()*10+5,delay:Math.random()*.2,sway:Math.random()*20-10})),[]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"weather absolute inset-0 w-full h-full overflow-hidden",children:[l.map((i,o)=>e.jsx("div",{className:"rain-drop absolute bg-blue-200",style:{width:`${i.width}vmin`,height:"2vmin",left:`${i.left}vw`,opacity:i.opacity,animation:`rain-fall-${o} ${i.duration}s linear infinite`,animationDelay:`${i.delay}s`}},`rain-${o}`)),a.map((i,o)=>e.jsx("div",{className:"snowflake absolute rounded-full bg-white",style:{width:`${i.size}px`,height:`${i.size}px`,left:`${i.left}%`,opacity:i.opacity,animation:`snow-fall-${o} ${i.duration}s linear infinite`,animationDelay:`${i.delay}s`}},`snow-${o}`))]}),e.jsx("style",{children:`
        body, .weather {
          margin: 0;
          padding: 0;
          width: 100vw;
          height: 100vh;
          overflow: hidden;
          background: linear-gradient(
            180deg,
            #dbeafe 0%,    
            #93c5fd 40%,   
            #3b82f6 100%   
          );
        }

        ${l.map((i,o)=>`
          @keyframes rain-fall-${o} {
            0% { transform: translateY(0); }
            100% { transform: translateY(100vh); }
          }
        `).join(`
`)}

        ${a.map((i,o)=>`
          @keyframes snow-fall-${o} {
            0% { transform: translateY(0) translateX(0); }
            50% { transform: translateY(50vh) translateX(${Math.random()*20-10}px); }
            100% { transform: translateY(100vh) translateX(${Math.random()*20-10}px); }
          }
        `).join(`
`)}
      `})]})}function xs({className:r="",...t}){return e.jsx("input",{...t,type:"checkbox",className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500 "+r})}const ge={sm:"text-sm",md:"text-lg",lg:"text-2xl"},pe={blue:"text-[#0052CC]",white:"text-white",gray:"text-gray-400"};function Ve({variant:r="short",size:t="md",color:l="blue",className:a="",...i}){const o=ge[t]||ge.md,g=pe[l]||pe.blue;let c;switch(r){case"full":c=K.NAME.FULL;break;case"copyright":c=K.COPYRIGHT.TEXT;break;case"short":default:c=K.NAME.SHORT;break}return e.jsx("span",{className:`font-semibold ${o} ${g} ${a}`,...i,children:c})}function Ze({logoSize:r="md",logoVariant:t="blue",textVariant:l="short",textSize:a="md",textColor:i="blue",showText:o=!0,showLogo:g=!0,linkTo:c="/",className:A="",..._}){const v=e.jsxs(e.Fragment,{children:[g&&e.jsx("div",{className:"relative -mt-2",children:e.jsx(Ne,{size:r,variant:t})}),o&&e.jsx(Ve,{variant:l,size:a,color:i})]});return e.jsx(N,{href:c,className:`flex items-center gap-2 flex-shrink-0 ${A}`,..._,children:v})}function ce({width:r="default",padding:t="default",centered:l=!1,className:a="",children:i,...o}){const g=te.CONTAINER_WIDTH[r.toUpperCase()]||te.CONTAINER_WIDTH.DEFAULT,c=te.CONTAINER_PADDING[t.toUpperCase()]||te.CONTAINER_PADDING.DEFAULT,A=l?"flex flex-col items-center":"";return e.jsx("div",{className:`${g} mx-auto ${c} ${A} ${a}`,...o,children:i})}function ms(){return e.jsx("footer",{className:"bg-gradient-to-b from-gray-800 to-gray-900 text-gray-300 pt-12 pb-6 w-full",children:e.jsxs(ce,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-12 pb-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-[16px] font-semibold mb-4 text-gray-400",children:"INFORMATION"}),e.jsx(N,{href:"#",className:"text-gray-300  text-[16px] mb-2",children:"Our Plans"}),e.jsx(N,{href:"#",className:"text-gray-300  text-[16px] mb-2",children:"Help Center"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-[16px] font-semibold mb-4 text-gray-400",children:"LEGAL"}),e.jsx(N,{href:"#",className:"text-gray-300  text-[16px] mb-2",children:"Terms of Use"}),e.jsx(N,{href:"#",className:"text-gray-300  text-[16px] mb-2",children:"Privacy Policy"}),e.jsx("span",{className:"invisible mb-2",children:" "})]}),e.jsx("div",{className:"flex flex-col items-center md:items-end gap-2",children:e.jsx(N,{href:"/",className:"flex items-center gap-2 flex-shrink-0",children:e.jsx(Ne,{size:"xl",variant:"white"})})})]}),e.jsx("hr",{className:"border-gray-700 my-6"}),e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center text-gray-400 text-[16px]",children:e.jsx("span",{children:K.COPYRIGHT.FULL})})]})})}function hs(){const r=ne(),{auth:t}=r.props||{},l=r.url||"",a=x.useRef(null),[i,o]=x.useState(!1),[g,c]=x.useState(!1);x.useEffect(()=>{console.log("HeaderNavbar Debug:",{auth:t,hasUser:!!t?.user,canStudent:t?.can?.student,screenWidth:window.innerWidth,currentUrl:l})},[t,l]),x.useEffect(()=>{const j=n=>{a.current&&!a.current.contains(n.target)&&o(!1),g&&!n.target.closest("#mobile-menu")&&!n.target.closest("#mobile-menu-toggle")&&c(!1)};return(i||g)&&document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[i,g]);const _=(()=>{if(!t?.user)return null;if(Array.isArray(t.user.roles)&&t.user.roles.length>0){const j=t.user.roles[0];return typeof j=="object"?j.name||j.role||"User":j}if(Array.isArray(t.user.roles_list)&&t.user.roles_list.length>0){const j=t.user.roles_list[0];return typeof j=="object"?j.name||j.role||"User":j}return t?.can?.admin||t?.can?.administrator?"Admin":t?.can?.teacher||t?.can?.instructor?"Teacher":t?.can?.student?"Student":t.user.role?typeof t.user.role=="object"?t.user.role.name||t.user.role.role||"User":t.user.role:"User"})(),v=j=>l.startsWith(j)?"text-blue-600 font-semibold":"text-gray-700 ";return e.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white border-b border-gray-200",children:[e.jsx(ce,{children:e.jsxs("nav",{className:"flex items-center justify-between h-16 gap-2",children:[e.jsx("div",{className:"flex items-center flex-shrink-0",children:e.jsx(Ze,{logoSize:"md",logoVariant:"blue",textVariant:"short"})}),e.jsxs("div",{className:"hidden sm:flex items-center gap-1 flex-1 justify-center",style:{display:window.innerWidth>=640?"flex":"none"},children:[e.jsx(N,{href:"/home",className:`px-2 sm:px-3 py-2 rounded-xl font-medium transition-all duration-200 whitespace-nowrap ${v("/home")}`,children:"Home"}),e.jsx(N,{href:"/library",className:`px-2 sm:px-3 py-2 rounded-xl font-medium transition-all duration-200 whitespace-nowrap ${v("/library")}`,children:"Your History"}),e.jsx(N,{href:"/homophone-check",className:`px-2 sm:px-3 py-2 rounded-xl font-medium transition-all duration-200 whitespace-nowrap ${v("/homophone-check")}`,children:"Homophone Check"}),e.jsx(N,{href:"/quiz-practice",className:`px-2 sm:px-3 py-2 rounded-xl font-medium transition-all duration-200 whitespace-nowrap ${v("/quiz-practice")}`,children:"Quiz & Practice"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[t.user?e.jsxs(e.Fragment,{children:[Array.isArray(t.user.roles)&&t.user.roles.length>0||Array.isArray(t.user.roles_list)&&t.user.roles_list.length>0?e.jsxs(N,{href:route("dashboard"),className:"hidden sm:flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-2 px-4 rounded-xl transition shadow-sm hover:shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"Dashboard"]}):e.jsxs(N,{href:"/subscribe",className:"hidden sm:flex items-center gap-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-semibold py-2 px-4 rounded-xl transition shadow-sm hover:shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Upgrade"]}),e.jsxs("div",{className:"relative",ref:a,children:[e.jsxs("button",{onClick:()=>o(!i),className:"flex items-center gap-2 hover:bg-gray-50 hover:shadow-sm rounded-xl py-2 px-2 sm:px-3 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95",children:[e.jsx("img",{src:"/images/person-icon.svg",className:"h-10 w-10 rounded-full",alt:"User avatar"}),e.jsxs("div",{className:"flex flex-col items-start min-w-0",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900 leading-tight break-words",children:t?.user?.name}),e.jsx("span",{className:"text-xs text-gray-500 leading-tight break-words",children:_})]}),e.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform duration-200 ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),e.jsx(Me,{children:i&&e.jsx(se.div,{initial:{opacity:0,y:-6,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-6,scale:.98},transition:{type:"spring",stiffness:260,damping:20},className:"absolute right-0 mt-2 w-[340px] bg-white border border-gray-200 rounded-2xl shadow-lg z-50 overflow-hidden origin-top-right",children:e.jsx(qe,{user:t?.user,className:"border-0 p-4",actions:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(N,{href:route("profile.edit"),onClick:()=>o(!1),className:"flex-1 inline-flex items-center justify-center px-3 py-2 text-sm font-semibold rounded-xl text-gray-700 border border-gray-200 bg-white hover:bg-gray-50 hover:shadow-sm hover:scale-105 active:scale-95 transition-all duration-200 ease-in-out",children:"Profile"}),e.jsx(N,{method:"post",href:route("logout"),as:"button",onClick:()=>o(!1),className:"flex-1 inline-flex items-center justify-center px-3 py-2 text-sm font-semibold rounded-xl text-white bg-red-600 hover:bg-red-700 hover:shadow-sm hover:scale-105 active:scale-95 transition-all duration-200 ease-in-out",children:"Sign Out"})]})})})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{href:route("auth"),className:"hidden sm:inline-block text-gray-700  font-medium px-4 py-2 rounded-xl hover:bg-gray-50 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:"Sign In"}),e.jsx(N,{href:route("auth"),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-2 px-6 rounded-xl transition shadow-sm hover:shadow-sm",children:"Get Started"})]}),e.jsx("button",{className:"sm:hidden p-2 rounded-xl hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",id:"mobile-menu-toggle",onClick:()=>c(!g),children:e.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),g&&e.jsx("div",{id:"mobile-menu",className:"sm:hidden border-t border-gray-200 bg-white shadow-sm",children:e.jsx(ce,{className:"py-4",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(N,{href:"/home",className:`py-3 px-4 rounded-xl font-medium transition-all duration-200 ease-in-out ${v("/home")} hover:bg-gray-50`,onClick:()=>c(!1),children:"Home"}),e.jsx(N,{href:"/library",className:`py-3 px-4 rounded-xl font-medium transition-all duration-200 ease-in-out ${v("/library")} hover:bg-gray-50`,onClick:()=>c(!1),children:"Your History"}),e.jsx(N,{href:"/homophone-check",className:`py-3 px-4 rounded-xl font-medium transition-all duration-200 ease-in-out ${v("/homophone-check")} hover:bg-gray-50`,onClick:()=>c(!1),children:"Homophone Check"}),e.jsx(N,{href:"/quiz-practice",className:`py-3 px-4 rounded-xl font-medium transition-all duration-200 ease-in-out ${v("/quiz-practice")} hover:bg-gray-50`,onClick:()=>c(!1),children:"Quiz & Practice"}),t.user?e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-2 border-gray-200"}),Array.isArray(t.user.roles)&&t.user.roles.length>0||Array.isArray(t.user.roles_list)&&t.user.roles_list.length>0?e.jsx(N,{href:route("dashboard"),className:"py-3 px-4 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold text-center hover:from-blue-700 hover:to-indigo-700 transition-all",onClick:()=>c(!1),children:"Dashboard"}):e.jsx(N,{href:"/subscribe",className:"py-3 px-4 rounded-xl bg-gradient-to-r from-orange-500 to-orange-600 text-white font-semibold text-center hover:from-orange-600 hover:to-orange-700 transition-all",onClick:()=>c(!1),children:"Upgrade"}),e.jsx(N,{href:route("profile.edit"),className:"py-3 px-4 rounded-xl text-gray-700 font-medium hover:bg-gray-50 transition-all duration-200 ease-in-out",onClick:()=>c(!1),children:"My Account"}),e.jsx(N,{method:"post",href:route("logout"),as:"button",className:"py-3 px-4 rounded-xl text-red-600 font-medium text-center hover:bg-red-50 transition-all duration-200 ease-in-out",onClick:()=>c(!1),children:"Sign Out"})]}):e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-2 border-gray-200"}),e.jsx(N,{href:route("auth"),className:"py-3 px-4 rounded-xl text-gray-700 font-medium text-center hover:bg-gray-50 transition-all duration-200 ease-in-out",onClick:()=>c(!1),children:"Sign In"}),e.jsx(N,{href:route("auth"),className:"py-3 px-4 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold text-center hover:from-blue-700 hover:to-indigo-700 transition-all",onClick:()=>c(!1),children:"Get Started"})]})]})})})]})}class us extends x.Component{constructor(l){super(l);ee(this,"logErrorToService",(l,a)=>{console.error("Error logged:",{error:l.toString(),componentStack:a.componentStack,timestamp:new Date().toISOString()})});ee(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});ee(this,"handleReload",()=>{window.location.reload()});ee(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(l){return{hasError:!0}}componentDidCatch(l,a){this.setState(i=>({error:l,errorInfo:a,errorCount:i.errorCount+1})),this.logErrorToService(l,a)}render(){const{hasError:l,error:a,errorInfo:i,errorCount:o}=this.state,{children:g,fallback:c,showDetails:A=!1}=this.props;return l?c?typeof c=="function"?c(a,this.handleReset):c:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxs("div",{className:"max-w-lg w-full bg-white rounded-xl shadow-sm p-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx($e,{className:"text-red-600",size:32})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Oops! Something went wrong"}),e.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["We're sorry for the inconvenience. An unexpected error occurred.",o>1&&e.jsxs("span",{className:"block mt-2 text-sm text-red-600",children:["This error has occurred ",o," times."]})]}),A&&a&&e.jsxs("details",{className:"mb-6 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 mb-2",children:"Error Details"}),e.jsxs("div",{className:"text-xs font-mono text-red-600 mt-2",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{children:"Error:"})," ",a.toString()]}),i&&e.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[e.jsx("strong",{children:"Component Stack:"}),e.jsx("pre",{className:"whitespace-pre-wrap mt-1",children:i.componentStack})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:this.handleReset,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-xl font-medium hover:bg-blue-700 transition-all duration-200 ease-in-out flex items-center justify-center gap-2",children:[e.jsx(he,{size:18}),"Try Again"]}),e.jsxs("button",{onClick:this.handleReload,className:"w-full bg-white text-gray-700 py-3 px-4 rounded-xl font-medium border border-gray-300 hover:bg-gray-50 transition-all duration-200 ease-in-out flex items-center justify-center gap-2",children:[e.jsx(he,{size:18}),"Reload Page"]}),e.jsxs("button",{onClick:this.handleGoHome,className:"w-full bg-white text-gray-700 py-3 px-4 rounded-xl font-medium border border-gray-300 hover:bg-gray-50 transition-all duration-200 ease-in-out flex items-center justify-center gap-2",children:[e.jsx(fe,{size:18}),"Go to Homepage"]})]}),e.jsx("p",{className:"mt-6 text-xs text-gray-500 text-center",children:"If this problem persists, please contact support."})]})}):g}}const Je=({size:r="md",color:t="blue",text:l=""})=>{const a={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"},i={blue:"text-blue-600",gray:"text-gray-600",white:"text-white",green:"text-green-600"};return e.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[e.jsx(Ee,{className:`${a[r]} ${i[t]} animate-spin`}),l&&e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:l})]})},es=({type:r="default"})=>r==="card"?e.jsxs("div",{className:"animate-pulse p-4 border border-gray-200 rounded-xl",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-3"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]}):r==="list"?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(t=>e.jsxs("div",{className:"animate-pulse flex gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},t))}):r==="text"?e.jsxs("div",{className:"animate-pulse space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]}):e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]}),gs=({type:r="spinner",minHeight:t="200px"})=>e.jsx("div",{className:"flex items-center justify-center w-full",style:{minHeight:t},children:r==="spinner"?e.jsx(Je,{size:"lg",color:"blue",text:"Loading component..."}):e.jsx(es,{type:r})});typeof window<"u"&&!window.React&&(window.React=Z);function ss(){const r=ne().props||{},t=r.checkers?.data??r.checkers??r.grammar_checkers??r.grammarCheckers??[],l=r.user_homophone_accuracies??r.userHomophoneAccuracies??[],a=r.auth?.user?.id??r.auth?.id??null;r.checkers?.links;const[i,o]=x.useState(Array.isArray(t)?t:[]),[g,c]=x.useState(l),[A,_]=x.useState(!1),[v,j]=x.useState(!1),[n,E]=x.useState(null),[M,D]=x.useState([]),[b,B]=x.useState(!1),[k,Y]=x.useState(null),[$,F]=x.useState(!1),[w,O]=x.useState([]),[q,J]=x.useState(!1);async function Q(s=null,h=null){B(!0),D([]);const p=typeof sessionStorage<"u"?sessionStorage.getItem("sessionId"):null;try{const u=await G.get("/api/user-comparison-activities",{params:{session_id:p||void 0,grammar_checker_id:s||void 0,article_id:h||void 0,limit:200},headers:{Accept:"application/json"},withCredentials:!0}),L=Array.isArray(u.data)?u.data:u.data?.data??[];D(Array.isArray(L)?L:[])}catch{D([])}finally{B(!1)}}async function V(s=null,h=null){F(!0),Y(null);const p=typeof sessionStorage<"u"?sessionStorage.getItem("sessionId"):null,u=["/api/user-activity-stats","/api/user-activities/stats","/api/track/stats","/user-activity-stats"];for(const L of u)try{const R=await G.get(L,{params:{session_id:p||void 0,grammar_checker_id:s||void 0,article_id:h||void 0},headers:{Accept:"application/json"},withCredentials:!0}),y=R.data?.data??R.data??null;if(y&&typeof y=="object")return Y(y),F(!1),y}catch{}return F(!1),null}async function d(s=null){J(!0),O([]);try{const h=await G.get("/api/user-audio-activities",{params:{grammar_checker_id:s||void 0},headers:{Accept:"application/json"},withCredentials:!0}),p=Array.isArray(h.data)?h.data:h.data?.data??[];O(Array.isArray(p)?p:[])}catch{O([])}finally{J(!1)}}x.useEffect(()=>{if(!v||!n)return;const s=n.raw?.id??n.id,h=n.raw?.article_id??n.raw?.articleId??null;Q(s,h).catch(()=>{}),V(s,h).catch(()=>{}),d(s).catch(()=>{})},[v,n]),x.useEffect(()=>{if(Array.isArray(t)&&t.length>0){o(Array.isArray(t)?t:[]),c(l);return}let h=!1;return _(!0),(async()=>{try{const p=await G.get("/grammar-checkers",{headers:{Accept:"application/json"},withCredentials:!0});if(h)return;const u=p.data,L=Array.isArray(u)?u:u.data??[];Array.isArray(L)&&o(L)}catch(p){p?.response&&[401,403,404].includes(p.response.status)||console.warn("Failed to fetch /grammar-checkers fallback:",p?.message??p)}try{const u=(await G.get("/api/user-homophone-accuracies",{headers:{Accept:"application/json"},withCredentials:!0})).data,L=Array.isArray(u)?u:u.data??[];Array.isArray(L)&&L.length>0&&c(L)}catch(p){p?.response&&[401,403,404].includes(p.response.status)||console.warn("Failed to fetch accuracies:",p?.message??p)}finally{h||_(!1)}})(),()=>{h=!0}},[]),r.article_id??r.articleId;const m=[...i||[]].filter(s=>!a||Number(s.user_id)===Number(a)).sort((s,h)=>Number(h.id)-Number(s.id)).map(s=>{const h=a?(g||[]).find(y=>Number(y.grammar_checker_id)===Number(s.id)&&Number(y.user_id)===Number(a)):null,p=h?.accuracy??null,u=h?.avg_pause_duration??h?.reading_time_seconds??s.reading_time??null;let L="0";const R=s.created_at??s.updated_at??s.date;if(R)try{L=new Date(R).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}catch{L=String(R)}return{id:s.id,title:s.title??`Article ${s.id}`,date:L,accuracy:p!=null?`${Number(p).toFixed(2)}%`:"0%",averagePause:u!=null?`${u}s`:"0s",raw:s,_acc:h??null}}),[C,S]=x.useState(1),P=10,H=Math.max(1,Math.ceil(m.length/P)),X=(C-1)*P,re=m.slice(X,X+P);return x.useEffect(()=>{C>H&&H>0&&S(H)},[H,C]),e.jsxs("div",{className:"mb-8 mt-4",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-4 mt-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Grammar Checks"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Your latest homophone checker history"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"No."}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Title"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Words"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:A?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"Loading..."})}):re.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"No grammar checks found."})}):re.map((s,h)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-200 ease-in-out",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:m.length-(X+h)}),e.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:s.title||"Untitled document"}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:s.date}),e.jsx("td",{className:"px-4 py-3 text-center text-gray-700",children:s.raw?.word_count??0}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("button",{type:"button",onClick:()=>{E(s),j(!0)},className:"rounded-xl border-2 border-blue-500 px-3 py-1 text-blue-700 hover:bg-blue-500  transition font-medium",children:"View"})})]},s.id))})]})})]})}),v&&n&&e.jsx(de,{show:v,onClose:()=>{j(!1),E(null)},maxWidth:"2xl",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Article Name: ",n.title]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Date: ",n.date]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4 text-sm text-gray-700",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-500",children:"Paragraph"}),e.jsx("div",{className:"mt-1 bg-slate-50 p-3 rounded text-sm leading-relaxed whitespace-pre-wrap break-words max-h-60 overflow-auto",children:n.raw?.paragraph??"—"})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"font-medium text-slate-500 mb-2",children:"Recent Events"}),e.jsx("div",{className:"w-full bg-white border rounded-xl",children:b?e.jsx("div",{className:"p-3 text-sm text-gray-500",children:"Loading recent events…"}):M.length===0?e.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No recent events."}):e.jsx("div",{className:"max-h-40 overflow-y-auto hide-scrollbar",children:e.jsxs("table",{className:"w-full text-sm divide-y",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"Type"}),e.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"Action"}),e.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"User word"}),e.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"Article word"})]})}),e.jsx("tbody",{children:M.map(s=>e.jsxs("tr",{className:"odd:bg-white even:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 text-xs text-gray-600",children:s.comparison_type??" "}),e.jsx("td",{className:"px-3 py-2 text-xs",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${s.action==="accept"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.action??" "})}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:s.user_word??" "}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:s.article_word??" "})]},s.id))})]})})}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-slate-600 mt-4",children:[e.jsxs("div",{children:["Replaced:"," ",e.jsx("span",{className:"font-medium text-green-700",children:M.filter(s=>s.comparison_type==="replaced"&&s.action==="accept").length}),e.jsx("span",{className:"text-gray-400",children:" (a) / "}),e.jsx("span",{className:"font-medium text-red-700",children:M.filter(s=>s.comparison_type==="replaced"&&s.action==="dismiss").length}),e.jsx("span",{className:"text-gray-400",children:" (d) "})]}),e.jsxs("div",{children:["Missing:"," ",e.jsx("span",{className:"font-medium text-green-700",children:M.filter(s=>s.comparison_type==="missing"&&s.action==="accept").length}),e.jsx("span",{className:"text-gray-400",children:" (a) / "}),e.jsx("span",{className:"font-medium text-red-700",children:M.filter(s=>s.comparison_type==="missing"&&s.action==="dismiss").length}),e.jsx("span",{className:"text-gray-400",children:" (d) "})]}),e.jsxs("div",{children:["Extra:"," ",e.jsx("span",{className:"font-medium text-green-700",children:M.filter(s=>s.comparison_type==="extra"&&s.action==="accept").length}),e.jsx("span",{className:"text-gray-400",children:" (a) / "}),e.jsx("span",{className:"font-medium text-red-700",children:M.filter(s=>s.comparison_type==="extra"&&s.action==="dismiss").length}),e.jsx("span",{className:"text-gray-400",children:" (d) "})]}),e.jsxs("div",{children:["Accuracy:"," ",e.jsx("span",{className:"font-medium text-gray-800",children:n._acc?.accuracy!=null?`${Number(n._acc.accuracy).toFixed(2)}%`:"—"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-slate-600 mt-4",children:[e.jsxs("div",{children:["Avg Pause (s):"," ",e.jsx("span",{className:"font-medium text-gray-800",children:$?"…":k?.avg_pause_duration!=null?Number(k.avg_pause_duration).toFixed(2):n._acc?.avg_pause_duration!=null?Number(n._acc.avg_pause_duration).toFixed(2):"—"})]}),e.jsxs("div",{children:["Audio Plays:"," ",e.jsx("span",{className:"font-medium text-blue-700",children:q?"…":w.filter(s=>s.activity_type==="audio_play").length||"0"})]}),e.jsxs("div",{children:["Audio Pauses:"," ",e.jsx("span",{className:"font-medium text-orange-700",children:q?"…":w.filter(s=>s.activity_type==="audio_pause").length||"0"})]}),e.jsxs("div",{children:["Reading Time (s):"," ",e.jsx("span",{className:"font-medium text-gray-800",children:n.raw?.reading_time??"0"})]})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{onClick:()=>{j(!1),E(null)},className:"rounded-xl border-2 border-gray-300 px-6 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",children:"Close"})})]})}),e.jsx("div",{className:"mt-4 px-6 py-4 border-t border-gray-100",children:H>1&&e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("button",{className:"px-3 py-1.5 rounded-xl border bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",onClick:()=>S(s=>Math.max(1,s-1)),disabled:C===1,children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:H},(s,h)=>h+1).map(s=>e.jsx("button",{className:`px-3 py-1.5 rounded-xl border transition ${s===C?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 hover:bg-gray-100"}`,onClick:()=>S(s),children:s},s))}),e.jsx("button",{className:"px-3 py-1.5 rounded-xl border bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",onClick:()=>S(s=>Math.min(H,s+1)),disabled:C===H,children:"Next"})]})})]})}typeof window<"u"&&!window.React&&(window.React=Z);function ps(){const{auth:r,quizAnalysis:t}=ne().props,a=r?.user?.id,[i,o]=x.useState(null),[g,c]=x.useState(0),[A,_]=x.useState(!1),[v,j]=x.useState(null),[n,E]=x.useState(0),[M,D]=x.useState(!1),[b,B]=x.useState(null),[k,Y]=x.useState(0),[$,F]=x.useState(null),[w,O]=x.useState(!1),[q,J]=x.useState(!0),[Q,V]=x.useState([]),[d,z]=x.useState([]),[m,C]=x.useState([]);x.useEffect(()=>(G.get("/api/user-homophone-accuracies",{headers:{Accept:"application/json"},withCredentials:!0}).then(s=>{const h=Array.isArray(s.data)?s.data:s.data?.data??[];V(h);const p=new Date,u=p.getMonth(),L=p.getFullYear(),y=h.filter(f=>{const T=new Date(f.created_at);return T.getMonth()===u&&T.getFullYear()===L}).map(f=>f.accuracy===null||f.accuracy===void 0||f.accuracy===""?null:typeof f.accuracy=="number"?f.accuracy:parseFloat(f.accuracy)).filter(f=>f!==null&&!isNaN(f));if(c(y.length),y.length>0){const f=y.reduce((T,W)=>T+W,0)/y.length;o(f)}else o(null)}).catch(()=>{o(null),c(0),V([])}).finally(()=>_(!0)),()=>{}),[]),x.useEffect(()=>{G.get("/api/quiz-attempts",{headers:{Accept:"application/json"},withCredentials:!0}).then(s=>{const h=Array.isArray(s.data)?s.data:s.data?.data??[];z(h);const p=new Date,u=p.getMonth(),L=p.getFullYear(),R=h.filter(f=>!a||f.user_id===a).filter(f=>{const T=new Date(f.created_at);return T.getMonth()===u&&T.getFullYear()===L});E(R.length);const y=R.map(f=>{const T=typeof f.score=="number"?f.score:parseInt(f.score);let W=1;try{const I=JSON.parse(f.answers);Array.isArray(I)&&(W=I.length)}catch{}return W>0&&!isNaN(T)?T/W*100:null}).filter(f=>f!==null&&!isNaN(f));if(y.length>0){const f=y.reduce((T,W)=>T+W,0)/y.length;j(f)}else j(null)}).catch(()=>{j(null),E(0),z([])}).finally(()=>D(!0))},[a]),x.useEffect(()=>{G.get("/api/user-homophone-accuracies",{headers:{Accept:"application/json"},withCredentials:!0}).then(s=>{const h=Array.isArray(s.data)?s.data:s.data?.data??[],p=new Date,u=p.getMonth(),L=p.getFullYear(),y=h.filter(I=>{const U=new Date(I.created_at);return U.getMonth()===u&&U.getFullYear()===L}).filter(I=>I.accuracy!==null&&I.accuracy!==void 0&&I.accuracy!==""&&I.created_at);Y(y.length),y.sort((I,U)=>new Date(I.created_at)-new Date(U.created_at));let f=null,T=null;if(y.length>1){const I=y.slice(0,-1).map(U=>typeof U.accuracy=="number"?U.accuracy:parseFloat(U.accuracy)).filter(U=>!isNaN(U));f=I.length>0?I.reduce((U,ke)=>U+ke,0)/I.length:null,T=typeof y[y.length-1].accuracy=="number"?y[y.length-1].accuracy:parseFloat(y[y.length-1].accuracy)}else y.length===1&&(f=null,T=typeof y[0].accuracy=="number"?y[0].accuracy:parseFloat(y[0].accuracy));let W=null;f!==null&&T!==null&&f!==0?W=(T-f)/Math.abs(f)*100:T!==null&&f===null?W=T:T!==null&&f===0?W=T===0?0:100:W=null,B(W),F(f)}).catch(()=>{B(null),Y(0),F(null)}).finally(()=>O(!0))},[]),x.useEffect(()=>{A&&M&&w&&J(!1)},[A,M,w]);const P=(()=>{const s={},h=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];h.forEach(u=>{s[u]={articles:0,quizzes:0}});const p=u=>{const R=new Date(u).getDay();return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][R]};return Array.isArray(Q)&&Q.filter(u=>!a||u.user_id===a).forEach(u=>{const L=p(u.created_at);s[L]&&(s[L].articles+=1)}),Array.isArray(d)&&d.filter(u=>!a||u.user_id===a).forEach(u=>{const L=p(u.created_at);s[L]&&(s[L].quizzes+=1)}),h.map(u=>({day:u,articles:s[u].articles,quizzes:s[u].quizzes}))})();x.useEffect(()=>{G.get("/api/user-comparison-activities",{headers:{Accept:"application/json"},withCredentials:!0}).then(s=>{const h=Array.isArray(s.data)?s.data:s.data?.data??[],p=new Date,u=p.getMonth(),L=p.getFullYear(),R=(a?h.filter(y=>y.user_id===a):h).filter(y=>{const f=new Date(y.created_at);return f.getMonth()===u&&f.getFullYear()===L});C(R)}).catch(()=>{C([])})},[a]);const X=(()=>{const s={incorrect:0,missing:0,correct:0,extra:0};m.forEach(p=>{p.comparison_type==="replaced"?s.incorrect+=1:p.comparison_type==="missing"?s.missing+=1:p.comparison_type==="extra"&&(s.extra+=1)});const h=m.length;return s.correct=Math.max(0,h-(s.incorrect+s.missing+s.extra)),[{id:"incorrect",label:"Incorrect",value:s.incorrect,color:"hsl(232, 70%, 50%)"},{id:"missing",label:"Missing",value:s.missing,color:"hsl(121, 70%, 50%)"},{id:"correct",label:"Correct",value:s.correct,color:"hsl(245, 70%, 50%)"},{id:"extra",label:"Extra",value:s.extra,color:"hsl(314, 70%, 50%)"}]})(),xe=()=>{const s=m.length;return s===0?"0":(m.filter(u=>u.comparison_type!=="replaced"&&u.comparison_type!=="missing"&&u.comparison_type!=="extra").length/s*100).toFixed(1)},re=m.length>0;return e.jsxs("div",{className:"mb-8 mt-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-sky-100 shadow-sm rounded-xl flex flex-col hover:shadow-sm transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Homophone Accuracy"}),e.jsx("div",{className:"text-blue-500",children:e.jsx(ze,{className:"w-7 h-7"})})]}),q?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),e.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):e.jsxs("div",{children:[e.jsxs("h2",{className:`text-lg font-bold ${i!==null?i<50?"text-red-600":"text-green-600":"text-blue-700"}`,children:[i!==null?i.toFixed(2):"00.00"," %"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g>0?"Average of total articles":"No accuracy data"})]})]}),e.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-amber-100 shadow-sm rounded-xl flex flex-col hover:shadow-sm transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Average Score"}),e.jsx("div",{className:"text-blue-500",children:e.jsx(Te,{className:"w-7 h-7"})})]}),q?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),e.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):e.jsxs("div",{children:[e.jsxs("h2",{className:`text-lg font-bold ${v!==null?v<50?"text-red-600":"text-green-600":"text-gray-900"}`,children:[v!==null?v.toFixed(2):"00.00"," %"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n>0?`${n} quiz${n!==1?"zes":""} completed`:"No quiz attempts"})]})]}),e.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-emerald-100 shadow-sm rounded-xl flex flex-col hover:shadow-sm transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Performance Growth"}),e.jsx("div",{className:"text-blue-500",children:e.jsx(be,{className:"w-7 h-7"})})]}),q?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),e.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):e.jsxs("div",{children:[e.jsxs("h2",{className:`text-lg font-bold ${b!==null?b>=0?"text-green-600":"text-red-600":"text-gray-900"}`,children:[b!==null?b.toFixed(2):"00.00"," %"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Updated Daily"})]})]}),e.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-indigo-300 shadow-sm rounded-xl flex flex-col hover:shadow-sm transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Study Sessions"}),e.jsx("div",{className:"text-blue-500",children:e.jsx(De,{className:"w-7 h-7"})})]}),q?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),e.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-green-600",children:g+n}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total Articles & Quizzes"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"mt-6 mb-4 bg-white rounded-xl shadow-sm border w-full border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Statistics Analytics"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tracking total performance by Daily"})]})}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-blue-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Articles"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-blue-200"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Quizzes"})]})]}),e.jsx("div",{className:"w-full h-[370px]",children:e.jsx(le,{width:"100%",height:"100%",children:e.jsxs(ye,{data:P,children:[e.jsx(je,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),e.jsx(we,{dataKey:"day",tick:{fill:"#6B7280",fontSize:12},axisLine:!1,tickLine:!1}),e.jsx(ve,{tick:{fill:"#9CA3AF",fontSize:12}}),e.jsx(ie,{}),e.jsx(oe,{}),e.jsx(ae,{type:"monotone",dataKey:"articles",stroke:"#3B82F6",strokeWidth:3,name:"Articles",dot:{fill:"#3B82F6"}}),e.jsx(ae,{type:"monotone",dataKey:"quizzes",stroke:"#BFDBFE",strokeWidth:3,name:"Quizzes",dot:{fill:"#BFDBFE"}})]})})})]}),e.jsxs("div",{className:"mt-6 mb-4 bg-white rounded-xl shadow-sm border w-full border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Comparison Accuracy Breakdown"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Distribution of comparison types (this month)"})]})}),re?e.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 relative",children:[e.jsx("div",{className:"w-full h-[400px]",children:e.jsx(le,{width:"100%",height:"100%",children:e.jsxs(Pe,{children:[e.jsx(Fe,{data:X,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,paddingAngle:2,dataKey:"value",label:({label:s,value:h})=>`${s}: ${h}`,children:X.map((s,h)=>e.jsx(Re,{fill:s.color},`cell-${h}`))}),e.jsx(ie,{}),e.jsx(oe,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})}),e.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center justify-center pointer-events-none",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:[xe(),"%"]}),e.jsx("span",{className:"text-xs text-gray-500 font-medium tracking-wide",children:"Overall Accuracy"})]})]}):e.jsxs("div",{className:"w-full h-[400px] flex flex-col items-center justify-center bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"No comparison data available"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Complete some grammar checks to see accuracy breakdown"})]})]})]}),e.jsx(ss,{})]})}function fs({onConfirmed:r,children:t}){const[l,a]=x.useState(!1),i=x.useRef(),[o,g]=x.useState(localStorage.getItem("lang")||"en"),[c,A]=x.useState({}),[_,v]=x.useState(!1);x.useEffect(()=>{const $=()=>{g(localStorage.getItem("lang")||"en")};return window.addEventListener("lang-changed",$),window.addEventListener("storage",$),()=>{window.removeEventListener("lang-changed",$),window.removeEventListener("storage",$)}},[]);const{data:j,setData:n,post:E,processing:M,reset:D,errors:b}=Ie({password:""}),B=()=>{a(!0),setTimeout(()=>i.current?.focus(),250)},k=()=>{a(!1),D(),A({})},Y=$=>{$.preventDefault(),v(!0),G.post(route("password.confirm"),{password:j.password}).then(F=>{k(),D(),A({}),setTimeout(()=>{r()},100)}).catch(F=>{if(F.response&&F.response.data&&F.response.data.errors){const w={};Object.keys(F.response.data.errors).forEach(O=>{w[O]=F.response.data.errors[O][0]}),A(w),n("password","")}i.current?.focus()}).finally(()=>v(!1))};return e.jsxs("span",{children:[e.jsx("span",{onClick:B,children:t}),e.jsx(de,{show:l,onClose:k,maxWidth:"lg",children:e.jsxs("form",{className:"p-6",onSubmit:Y,children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Security Confirmation"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"For your security, please confirm your password to continue."}),e.jsxs("div",{className:"mt-6",children:[e.jsx(Ke,{htmlFor:"password",value:"Enter Password"}),e.jsx(Qe,{id:"password",ref:i,type:"password",name:"password",value:j.password,onChange:$=>n("password",$.target.value),className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm",placeholder:"Enter your Password"}),e.jsx(Xe,{message:c.password,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[e.jsx("button",{type:"button",onClick:k,className:"rounded-xl border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold disabled:opacity-60",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:_,className:"rounded-xl px-9 py-1 bg-blue-600 text-white font-semibold hover:bg-blue-700 transition disabled:opacity-60",children:_?"Confirming...":"Confirm"})]})]})})]})}typeof window<"u"&&!window.React&&(window.React=Z);function bs(){const{auth:r,quizSummary:t,quizDaily:l,recentQuizzes:a,quizChange:i=[]}=ne().props,[o,g]=x.useState(()=>r?.can?.student?!0:typeof window<"u"&&window.__canAccessLibrary!==void 0?window.__canAccessLibrary:null);x.useEffect(()=>{if(o!==null||!r?.user)return;let n=!1;return(async()=>{try{const E=typeof window<"u"&&window.axios,M=E?await window.axios.get("/library",{headers:{"X-Requested-With":"XMLHttpRequest"},validateStatus:()=>!0}):await fetch("/library",{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}}),D=E?M.status===200:M.ok;n||(g(D),typeof window<"u"&&(window.__canAccessLibrary=D))}catch{n||(g(!1),typeof window<"u"&&(window.__canAccessLibrary=!1))}})(),()=>{n=!0}},[r?.user?.id,o]);const c=x.useMemo(()=>(Array.isArray(l)?l:[{day:"Monday",inProgress:80,completed:90},{day:"Tuesday",inProgress:60,completed:45},{day:"Wednesday",inProgress:70,completed:60},{day:"Thursday",inProgress:40,completed:40},{day:"Friday",inProgress:65,completed:80},{day:"Saturday",inProgress:45,completed:65},{day:"Sunday",inProgress:50,completed:70}]).map(E=>({day:E.day,accepts:Number(E.completed??E.accepts??0),ignores:Number(E.inProgress??E.ignores??0),avgScore:Number(E.avgScore??0)})),[l]),A=x.useMemo(()=>c.map(n=>({day:n.day,completed:n.accepts,avgScore:n.avgScore??0})),[c]),_=x.useMemo(()=>Array.isArray(a)&&a.length?a:[{id:"#DF429",date:"April 28, 2016",status:"Complete",color:"green"},{id:"#HTY274",date:"October 30, 2017",status:"Complete",color:"green"},{id:"#LKE600",date:"May 29, 2017",status:"In Progress",color:"yellow"},{id:"#HRP447",date:"May 20, 2015",status:"Cancelled",color:"red"},{id:"#HRP448",date:"May 20, 2015",status:"Cancelled",color:"red"}],[a]),v={green:"bg-green-100 text-green-700",yellow:"bg-yellow-100 text-yellow-700",red:"bg-red-100 text-red-700"},j=[{title:"My Quizzes",subtitle:"Total quizzes",value:Number(t?.total??0),icon:Oe,color:"text-blue-500",borderColor:"border-blue-100",bgColor:"bg-blue-50"},{title:"Quizzes Completed",subtitle:"Completed total quizzes",value:Number(t?.completed??0),icon:Be,color:"text-green-500",borderColor:"border-green-100",bgColor:"bg-green-50"},{title:"Avg Score (7d)",subtitle:"Average score over last 7 days",value:`${Math.round(Number(t?.avgScore7d??0))}%`,icon:be,color:"text-orange-500",borderColor:"border-orange-100",bgColor:"bg-orange-50"}];return e.jsx("div",{className:"max-w-7xl mx-auto px-2 mb-12",children:r.user?e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"space-y-3 mb-9",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-600 text-start",children:"Quiz Practices for Students"}),e.jsx("p",{className:"text-gray-600 text-md text-start",children:"SorSer's Quiz Maker offers students ready-made quizzes designed for exams, lessons, and daily practice."})]}),e.jsxs("section",{className:`${o===!1?"blur-sm pointer-events-none":""}`,children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:j.map((n,E)=>{const M=n.icon;return e.jsxs("div",{className:`bg-white px-3 pb-2 pt-3 border-l-4 ${n.borderColor} shadow-sm rounded-xl flex flex-col hover:shadow-sm transition-all duration-200`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:n.title}),e.jsx("div",{className:n.color,children:e.jsx(M,{className:"w-7 h-7"})})]}),e.jsxs("div",{className:"",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:n.value}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.subtitle})]})]},E)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Completed Quiz Analysis"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tracking total quizzes by Daily"})]})}),e.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Completed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-200"}),e.jsx("span",{className:"text-sm text-gray-600",children:"In Progress"})]})]}),e.jsx("div",{className:"h-[280px]",children:e.jsx(le,{width:"100%",height:"100%",children:e.jsxs(ye,{data:A,children:[e.jsx(je,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),e.jsx(we,{dataKey:"day",tick:{fill:"#6B7280",fontSize:12},axisLine:!1,tickLine:!1}),e.jsx(ve,{tick:{fill:"#9CA3AF",fontSize:12}}),e.jsx(ie,{}),e.jsx(oe,{}),e.jsx(ae,{type:"monotone",dataKey:"completed",stroke:"#3B82F6",strokeWidth:3,name:"Completed",dot:{fill:"#3B82F6"}}),e.jsx(ae,{type:"monotone",dataKey:"avgScore",stroke:"#10B981",strokeWidth:3,name:"Avg Score (%)",dot:{fill:"#10B981"}})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Quizzes"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Your latest quiz history"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Serial No."}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Score"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_.map(n=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-200 ease-in-out",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:n.id}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:n.date}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:n.score??"-"}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded-xl ${v[n.color]}`,title:`Score: ${n.score??"-"}%`,children:n.status})})]},n.id))})]})})]})]})]}),o===!1&&e.jsx("div",{className:"absolute inset-0 bg-opacity-30 flex items-center justify-center z-10 rounded-xl",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 w-full max-w-xl mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"Upgrade to Access Quiz Practices"}),e.jsx("p",{className:"text-gray-600 text-base leading-relaxed mb-6",children:"You need the Student permission to access Quiz Practices. Contact your administrator or upgrade your account."}),e.jsx("div",{className:"space-y-3",children:e.jsx(N,{href:route("profile.edit"),className:"block w-full px-4 py-3 border-2 border-blue-500 rounded-xl text-blue-600 font-medium hover:bg-blue-50 transition-all duration-200 ease-in-out",children:"Go to Profile"})}),e.jsx("div",{className:"mt-6",children:e.jsx(N,{method:"post",href:route("logout"),as:"button",children:e.jsx("span",{className:"text-red-500 font-medium hover:underline",children:"Sign Out"})})})]})})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-semibold text-gray-600",children:["Triple your productivity with the"," ",e.jsx("span",{className:"text-blue-500 font-semibold",children:"Quiz Practices"})]}),e.jsx("p",{className:"text-gray-600 mt-3 max-w-4xl mx-auto leading-relaxed",children:"SorSer's Quiz Maker offers students ready-made quizzes designed for exams, lessons, and daily practice. Each quiz is customized based on the student's role and subject to make learning more effective."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-9",children:[e.jsxs("div",{className:"bg-gray-100 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(We,{className:"text-pink-500",size:28}),e.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Website at Every Step"})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"SorSer's application helps students at every step by providing quizzes made by Teachers. Students can take quizzes, check results, and get instant feedback."}),e.jsxs("div",{className:"bg-white border rounded-xl p-4",children:[e.jsx("p",{className:"text-gray-500 text-sm font-medium mb-2",children:"Quiz Example:"}),e.jsxs("div",{className:"p-3 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"font-medium text-gray-800 mb-2",children:"What key difference distinguishes isotopes?"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[e.jsx("li",{children:e.jsx("span",{className:"underline decoration-red-500 decoration-2 underline-offset-4",children:"Different electrons"})}),e.jsx("li",{children:e.jsx("span",{className:"underline decoration-green-500 decoration-2 underline-offset-4",children:e.jsx("strong",{children:"Different neutrons"})})})]})]})]})]}),e.jsxs("div",{className:"space-y-9",children:[e.jsxs("div",{className:"bg-gray-100 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(He,{className:"text-orange-500",size:28}),e.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Lightning Fast"})]}),e.jsx("p",{className:"text-gray-600",children:"Access quizzes in seconds. No setup needed — just log in and start practicing instantly."})]}),e.jsxs("div",{className:"bg-gray-100 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ue,{className:"text-pink-500",size:28}),e.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Features for Everyone"})]}),e.jsxs("p",{className:"text-gray-600",children:["Teachers can"," ",e.jsx(N,{href:"/quizzes",className:"text-blue-600 hover:underline transition-all duration-200 ease-in-out hover:scale-105",children:"create and manage quizzes"}),", while students review answers and track progress — all in one platform."]})]})]})]})]})})}function ys({currentQuiz:r,currentQuestionIdx:t,userAnswers:l=[],showResult:a,reviewMode:i,score:o,onAnswerChange:g,onNext:c,onPrev:A,onSubmit:_,onRestart:v,onDone:j,onStartAgain:n,setCurrentQuestionIdx:E,setReviewMode:M,setQuizStarted:D}){const[b,B]=Z.useState(!1),[k,Y]=Z.useState(null),[$,F]=Z.useState(!1);if(Z.useEffect(()=>{B(!1),Y(null),F(!1)},[t]),!r)return null;const w=r.questions[t],O=d=>{Y(d)},q=()=>{if(!k)return;g(t,k);let d=!1;if(w.type==="Checkboxes"){const z=Array.isArray(w.correct_answer)?w.correct_answer.sort():[],m=Array.isArray(k)?[...k].sort():[];d=JSON.stringify(z)===JSON.stringify(m)}else if(w.type==="Matching"){const z=w.correct_answer||[],m=k||[];d=z.every(C=>m.find(S=>S.left===C.left&&S.right===C.right))&&m.length===z.length}else d=String(k).trim().toLowerCase()===String(w.correct_answer).trim().toLowerCase();F(d),B(!0)},J=()=>{B(!1),Y(null),t<r.questions.length-1?c():_()},Q=()=>{D(!1)},V=()=>k?Array.isArray(k)?w.type==="Matching"?k.length>0&&k.every(d=>d.right):k.length>0:!0:!1;return e.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col",children:[!a&&e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("button",{onClick:Q,className:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 hover:scale-105 hover:shadow-sm rounded-xl transition-all duration-200 ease-in-out",children:e.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("div",{className:"flex-1 mx-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 h-3 rounded-xl overflow-hidden",children:e.jsx(se.div,{className:"bg-green-500 h-full rounded-xl",initial:{width:0},animate:{width:`${(t+1)/r.questions.length*100}%`},transition:{duration:.3}})}),e.jsxs("span",{className:"text-sm font-semibold text-gray-600 min-w-[40px]",children:[t+1,"/",r.questions.length]})]})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 flex items-center justify-center",children:e.jsx("div",{className:"w-full max-w-2xl",children:w&&e.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:w.text}),w.description&&e.jsx("p",{className:"text-base text-gray-600 mb-2",children:w.description})]}),e.jsxs("div",{className:"space-y-3",children:[w.type==="Multiple Choice"&&w.options.map((d,z)=>{const m=k===d,C=["A","B","C","D","E","F"];return e.jsxs("button",{onClick:()=>!b&&O(d),disabled:b,className:`w-full flex items-center p-4 rounded-xl border-2 transition-all text-left ${b&&m?$?"bg-green-100 border-green-500":"bg-red-100 border-red-500":m?"bg-blue-50 border-blue-500":"bg-white border-gray-300 hover:border-gray-400 hover:bg-gray-50"} ${b?"cursor-not-allowed":"cursor-pointer"}`,children:[e.jsx("span",{className:`w-10 h-10 flex items-center justify-center rounded-xl font-bold text-lg mr-4 ${b&&m?$?"bg-green-500 text-white":"bg-red-500 text-white":m?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:C[z]}),e.jsx("span",{className:"text-lg text-gray-800",children:d})]},z)}),w.type==="True/False"&&["True","False"].map((d,z)=>{const m=k===d;return e.jsxs("button",{onClick:()=>!b&&O(d),disabled:b,className:`w-full flex items-center justify-between p-5 rounded-xl border-3 transition-all ${b&&m?$?"bg-green-100 border-green-500":"bg-red-100 border-red-500":m?"bg-blue-50 border-blue-500 border-3":"bg-white border-2 border-gray-300 hover:border-gray-400 hover:bg-gray-50"} ${b?"cursor-not-allowed":"cursor-pointer"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[d==="True"?e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${b&&m?$?"bg-green-500":"bg-red-500":m?"bg-blue-500":"bg-green-50 border-2 border-green-300"}`,children:e.jsx("svg",{className:`w-7 h-7 ${m||b?"text-white":"text-green-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}):e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${b&&m?$?"bg-green-500":"bg-red-500":m?"bg-blue-500":"bg-red-50 border-2 border-red-300"}`,children:e.jsx("svg",{className:`w-7 h-7 ${m||b?"text-white":"text-red-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"text-xl font-bold text-gray-800",children:d})]}),e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${m?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:m&&e.jsx("div",{className:"w-3 h-3 rounded-full bg-white"})})]},z)}),w.type==="Checkboxes"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-500 mb-2 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Select all that apply"]}),w.options.map((d,z)=>{const m=Array.isArray(k)?k:[],C=m.includes(d);return e.jsxs("button",{onClick:()=>{if(b)return;let S=[...m];C?S=S.filter(P=>P!==d):S.push(d),O(S)},disabled:b,className:`w-full flex items-center gap-4 p-4 rounded-xl border-2 transition-all text-left ${b&&C?"bg-green-50 border-green-500":C?"bg-blue-50 border-blue-500":"bg-white border-gray-300 hover:border-gray-400 hover:bg-gray-50"} ${b?"cursor-not-allowed":"cursor-pointer"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-xl border-2 flex items-center justify-center flex-shrink-0 transition-all ${b&&C?"bg-green-500 border-green-500":C?"bg-blue-500 border-blue-500":"border-gray-400 bg-white"}`,children:C&&e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:"text-lg text-gray-800 flex-1",children:d})]},z)})]}),w.type==="Fill-in-the-blank"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-500 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Type your answer"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:k||"",onChange:d=>O(d.target.value),disabled:b,className:`w-full px-6 py-5 border-2 text-gray-800 text-lg focus:outline-none transition-all rounded-xl ${b?$?"border-green-500 bg-green-50":"border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500 bg-white"} disabled:bg-gray-100`,placeholder:"Type your answer here..."}),k&&!b&&e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})})]})]}),w.type==="Matching"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-500 mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Match each item with its pair"]}),w.options.map((d,z)=>e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 px-5 py-4 bg-gradient-to-r from-blue-50 to-blue-100 text-gray-800 text-base border-2 border-blue-200 rounded-xl font-semibold shadow-sm",children:d.left}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("select",{value:Array.isArray(k)&&k.find(m=>m.left===d.left)?.right||"",onChange:m=>{const S=(Array.isArray(k)?[...k]:[]).filter(P=>P.left!==d.left);m.target.value&&S.push({left:d.left,right:m.target.value}),O(S)},disabled:b,className:`w-full px-5 py-4 border-2 text-gray-800 text-base rounded-xl focus:outline-none transition-all appearance-none cursor-pointer ${b?"bg-gray-100 border-gray-300":Array.isArray(k)&&k.find(m=>m.left===d.left)?.right?"bg-green-50 border-green-500":"bg-white border-gray-300 hover:border-blue-500"} disabled:cursor-not-allowed`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5em 1.5em",paddingRight:"3rem"},children:[e.jsx("option",{value:"",className:"text-gray-400",children:"Select match..."}),w.options.map((m,C)=>e.jsx("option",{value:m.right,children:m.right},C))]})})]})},z))]})]})]})})}),b&&e.jsx(se.div,{initial:{y:100},animate:{y:0},className:`${$?"bg-green-100":"bg-red-100"} border-t-2 ${$?"border-green-500":"border-red-500"}`,children:e.jsxs("div",{className:"max-w-4xl mx-auto p-6 flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center flex-shrink-0 ${$?"bg-green-500":"bg-red-500"}`,children:$?e.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-2xl font-bold ${$?"text-green-800":"text-red-800"}`,children:$?"Correct":"Correct answer:"}),!$&&e.jsx("p",{className:"text-lg text-red-700 mt-1",children:w.type==="Checkboxes"&&Array.isArray(w.correct_answer)?w.correct_answer.join(", "):w.type==="Matching"&&Array.isArray(w.correct_answer)?w.correct_answer.map(d=>`${d.left} = ${d.right}`).join("; "):String(w.correct_answer)})]})]}),e.jsx("button",{onClick:J,className:`px-8 py-3 rounded-full font-bold text-white text-lg flex-shrink-0 ${$?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} transition-all duration-200 ease-in-out`,children:t===r.questions.length-1?"Finish":"Continue"})]})}),!b&&e.jsx("div",{className:"p-6 border-t bg-white",children:e.jsx("div",{className:"max-w-4xl mx-auto flex justify-end",children:e.jsx("button",{onClick:q,disabled:!V(),className:`px-8 py-4 rounded-full font-bold text-white text-lg transition-all ${V()?"bg-green-600 hover:bg-green-700":"bg-gray-300 cursor-not-allowed"}`,children:"Check"})})})]}),a&&!i&&e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-8",children:e.jsxs("div",{className:"w-full max-w-md text-center",children:[e.jsx(se.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"mb-8",children:e.jsx("div",{className:"w-32 h-32 mx-auto rounded-full bg-green-500 flex items-center justify-center",children:e.jsx("svg",{className:"w-20 h-20 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Quiz Complete"}),e.jsxs("p",{className:"text-2xl text-gray-600 mb-12",children:["Your final score is ",o,"/",r.questions.length," (",Math.round(o/r.questions.length*100),"%)"]}),e.jsxs("div",{className:"space-y-3 mb-8",children:[e.jsx("button",{onClick:()=>M(!0),className:"w-full py-4 px-6 rounded-full border-2 border-gray-300 text-gray-700 font-semibold text-lg hover:bg-gray-50 transition-all duration-200 ease-in-out",children:"Review"}),e.jsx("button",{onClick:n,className:"w-full py-4 px-6 rounded-full border-2 border-gray-300 text-gray-700 font-semibold text-lg hover:bg-gray-50 transition-all duration-200 ease-in-out",children:"Restart"})]}),e.jsx("div",{className:"pt-8 border-t",children:e.jsx("button",{onClick:j,className:"text-blue-600 font-semibold hover:underline transition-all duration-200 ease-in-out hover:scale-105",children:"Quit"})})]})}),a&&i&&e.jsxs("div",{className:"min-h-screen bg-white overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b z-10 p-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between",children:[e.jsx("button",{onClick:()=>M(!1),className:"text-gray-600 ",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Answers Review"}),e.jsx("button",{onClick:Q,className:"text-gray-600 ",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"max-w-3xl mx-auto p-6 pb-20 space-y-6",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsxs("p",{className:"text-lg text-gray-600",children:["Score: ",e.jsxs("span",{className:"font-bold text-gray-800",children:[o,"/",r.questions.length]})]})}),r.questions.map((d,z)=>{const m=l[z]||{},C=!!m.isCorrect;return e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:e.jsxs("div",{className:`p-4 ${C?"bg-green-50":"bg-white"}`,children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 ${C?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:C?"✓":"✗"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-gray-500 text-sm font-semibold",children:[z+1,"."]}),e.jsx("span",{className:"text-xs font-semibold text-blue-500 bg-blue-100 px-2 py-0.5 rounded-full",children:d.type})]}),e.jsx("p",{className:"text-gray-800 font-semibold text-base mt-1",children:d.text})]}),C?e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-green-500 text-white",children:"Correct"}):e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-red-500 text-white",children:"Incorrect"})]}),e.jsxs("div",{className:"pl-9 space-y-2 text-sm",children:[d.type==="True/False"&&e.jsxs("div",{children:[e.jsxs("p",{children:["Your answer:"," ",e.jsx("span",{className:`font-semibold ${m.answer===d.correct_answer?"text-green-600":"text-red-600"}`,children:String(m.answer)})]}),e.jsxs("p",{children:["Correct answer:"," ",e.jsx("span",{className:"font-semibold text-green-600",children:String(d.correct_answer)})]})]}),d.type==="Multiple Choice"&&d.options?.map((S,P)=>{const H=m.answer===S,X=d.correct_answer===S;return!H&&!X?null:e.jsx("div",{className:`px-3 py-2 rounded-xl border ${X?"border-green-400 bg-green-50 text-green-700":H?"border-red-400 bg-red-50 text-red-700":"border-gray-200"}`,children:S},P)}),(d.type==="Checkbox"||d.type==="Checkboxes")&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold",children:"Your answer:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(Array.isArray(m.answer)?m.answer:[]).map((S,P)=>e.jsx("span",{className:"px-2 py-1 rounded-xl bg-red-50 border border-red-400 text-red-700",children:S},P)),(!m.answer||m.answer.length===0)&&e.jsx("span",{className:"text-gray-400",children:"—"})]}),e.jsx("p",{className:"font-semibold mt-1",children:"Correct answer:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(Array.isArray(d.correct_answer)?d.correct_answer:[]).map((S,P)=>e.jsx("span",{className:"px-2 py-1 rounded-xl bg-green-50 border border-green-400 text-green-700",children:S},P))})]}),(d.type==="Fill-in"||d.type==="Fill-in-the-blank")&&e.jsxs("div",{children:[e.jsxs("p",{children:["Your answer:"," ",e.jsx("span",{className:`font-semibold ${m.answer?.toLowerCase()===d.correct_answer?.toLowerCase()?"text-green-600":"text-red-600"}`,children:m.answer||"—"})]}),e.jsxs("p",{children:["Correct answer:"," ",e.jsx("span",{className:"font-semibold text-green-600",children:d.correct_answer})]})]}),d.type==="Matching"&&e.jsxs("div",{className:"space-y-2",children:[m.answer&&e.jsxs("div",{className:`p-3 rounded-xl border ${C?"border-green-400 bg-green-50":"border-red-300 bg-red-50"}`,children:[e.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Your answer:"}),Array.isArray(m.answer)&&m.answer.map((S,P)=>e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:S.left}),e.jsxs("span",{children:["= ",S.right]})]},P))]}),e.jsxs("div",{className:"p-3 rounded-xl border border-green-500 bg-green-50",children:[e.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Correct answer:"}),Array.isArray(d.correct_answer)&&d.correct_answer.map((S,P)=>e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:S.left}),e.jsxs("span",{children:["= ",S.right]})]},P))]})]})]})]})},z)})]})]})]})}function js({label:r,value:t,icon:l,color:a="text-blue-500",borderColor:i="border-blue-100",bgColor:o="bg-blue-50",description:g="",className:c=""}){const A=Ye[l]||Ge;return e.jsxs("div",{className:`bg-white px-3 pb-2 pt-3 border-l-4 ${i} shadow-sm rounded-xl flex flex-col hover:shadow-sm transition-all duration-200 ${c}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:r}),e.jsx("div",{className:`${o} p-2 rounded-xl`,children:e.jsx(A,{className:`w-7 h-7 ${a}`})})]}),e.jsx("h2",{className:"text-lg font-bold text-gray-900 mt-1",children:t}),g&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g})]})}export{Ne as A,K as B,os as C,us as E,ms as F,hs as H,Ke as I,te as L,de as M,ce as P,ys as Q,ds as R,ls as S,Qe as T,qe as a,as as b,is as c,ns as d,Xe as e,cs as f,xs as g,Ze as h,gs as i,ps as j,fs as k,bs as l,js as m};
