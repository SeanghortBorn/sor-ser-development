var Le=Object.defineProperty;var Se=(r,s,a)=>s in r?Le(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a;var se=(r,s,a)=>Se(r,typeof s!="symbol"?s+"":s,a);import{j as e,r as o,K as ye,L as b,h as Me,O as ue,z as _e,S as $e,u as ne,T as Ee,R as ge,H as ze,b as De,d as J,a as V,e as Te,C as Fe,f as je,B as Re,g as le,i as we,k as ve,X as Ne,Y as Ce,l as ie,m as oe,n as ae,P as Pe,o as Ie,q as Oe,s as Be,t as He,v as We,w as Ue,Z as Ye,x as Ve,y as re,A as Ge,D as qe}from"../vendor/vendor-common.Cf4BX4gl.js";import"../vendor/vendor-utils.D2KLQA9U.js";const K={NAME:{SHORT:"Sor-Ser",FULL:"Sor-Ser Application"},TAGLINE:{EN:"Khmer Homophone Learning Platform"},COPYRIGHT:{YEAR:new Date().getFullYear(),TEXT:`© ${new Date().getFullYear()}`,FULL:`© ${new Date().getFullYear()} All rights reserved.`},LOGO:{PATH:"/images/sor-ser logo.png",ALT_TEXT:"Sor-Ser logo"},FILTERS:{BLUE:"brightness(0) saturate(100%) invert(21%) sepia(94%) saturate(2783%) hue-rotate(210deg) brightness(96%) contrast(97%)",WHITE:"invert brightness-0",NONE:"none"}};function cs(r){return e.jsx("svg",{...r,viewBox:"0 0 316 316",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M305.8 81.125C305.77 80.995 305.69 80.885 305.65 80.755C305.56 80.525 305.49 80.285 305.37 80.075C305.29 79.935 305.17 79.815 305.07 79.685C304.94 79.515 304.83 79.325 304.68 79.175C304.55 79.045 304.39 78.955 304.25 78.845C304.09 78.715 303.95 78.575 303.77 78.475L251.32 48.275C249.97 47.495 248.31 47.495 246.96 48.275L194.51 78.475C194.33 78.575 194.19 78.725 194.03 78.845C193.89 78.955 193.73 79.045 193.6 79.175C193.45 79.325 193.34 79.515 193.21 79.685C193.11 79.815 192.99 79.935 192.91 80.075C192.79 80.285 192.71 80.525 192.63 80.755C192.58 80.875 192.51 80.995 192.48 81.125C192.38 81.495 192.33 81.875 192.33 82.265V139.625L148.62 164.795V52.575C148.62 52.185 148.57 51.805 148.47 51.435C148.44 51.305 148.36 51.195 148.32 51.065C148.23 50.835 148.16 50.595 148.04 50.385C147.96 50.245 147.84 50.125 147.74 49.995C147.61 49.825 147.5 49.635 147.35 49.485C147.22 49.355 147.06 49.265 146.92 49.155C146.76 49.025 146.62 48.885 146.44 48.785L93.99 18.585C92.64 17.805 90.98 17.805 89.63 18.585L37.18 48.785C37 48.885 36.86 49.035 36.7 49.155C36.56 49.265 36.4 49.355 36.27 49.485C36.12 49.635 36.01 49.825 35.88 49.995C35.78 50.125 35.66 50.245 35.58 50.385C35.46 50.595 35.38 50.835 35.3 51.065C35.25 51.185 35.18 51.305 35.15 51.435C35.05 51.805 35 52.185 35 52.575V232.235C35 233.795 35.84 235.245 37.19 236.025L142.1 296.425C142.33 296.555 142.58 296.635 142.82 296.725C142.93 296.765 143.04 296.835 143.16 296.865C143.53 296.965 143.9 297.015 144.28 297.015C144.66 297.015 145.03 296.965 145.4 296.865C145.5 296.835 145.59 296.775 145.69 296.745C145.95 296.655 146.21 296.565 146.45 296.435L251.36 236.035C252.72 235.255 253.55 233.815 253.55 232.245V174.885L303.81 145.945C305.17 145.165 306 143.725 306 142.155V82.265C305.95 81.875 305.89 81.495 305.8 81.125ZM144.2 227.205L100.57 202.515L146.39 176.135L196.66 147.195L240.33 172.335L208.29 190.625L144.2 227.205ZM244.75 114.995V164.795L226.39 154.225L201.03 139.625V89.825L219.39 100.395L244.75 114.995ZM249.12 57.105L292.81 82.265L249.12 107.425L205.43 82.265L249.12 57.105ZM114.49 184.425L96.13 194.995V85.305L121.49 70.705L139.85 60.135V169.815L114.49 184.425ZM91.76 27.425L135.45 52.585L91.76 77.745L48.07 52.585L91.76 27.425ZM43.67 60.135L62.03 70.705L87.39 85.305V202.545V202.555V202.565C87.39 202.735 87.44 202.895 87.46 203.055C87.49 203.265 87.49 203.485 87.55 203.695V203.705C87.6 203.875 87.69 204.035 87.76 204.195C87.84 204.375 87.89 204.575 87.99 204.745C87.99 204.745 87.99 204.755 88 204.755C88.09 204.905 88.22 205.035 88.33 205.175C88.45 205.335 88.55 205.495 88.69 205.635L88.7 205.645C88.82 205.765 88.98 205.855 89.12 205.965C89.28 206.085 89.42 206.225 89.59 206.325C89.6 206.325 89.6 206.325 89.61 206.335C89.62 206.335 89.62 206.345 89.63 206.345L139.87 234.775V285.065L43.67 229.705V60.135ZM244.75 229.705L148.58 285.075V234.775L219.8 194.115L244.75 179.875V229.705ZM297.2 139.625L253.49 164.795V114.995L278.85 100.395L297.21 89.825V139.625H297.2Z"})})}const de=o.createContext(),xe=({children:r})=>{const[s,a]=o.useState(!1),n=()=>{a(l=>!l)};return e.jsx(de.Provider,{value:{open:s,setOpen:a,toggleOpen:n},children:e.jsx("div",{className:"relative",children:r})})},Xe=({children:r})=>{const{open:s,setOpen:a,toggleOpen:n}=o.useContext(de);return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:n,children:r}),s&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)})]})},Ke=({align:r="right",width:s="48",contentClasses:a="py-1 bg-white",children:n})=>{const{open:l,setOpen:x}=o.useContext(de);let h="origin-top";r==="left"?h="ltr:origin-top-left rtl:origin-top-right start-0":r==="right"&&(h="ltr:origin-top-right rtl:origin-top-left end-0");let i="";return s==="48"&&(i="w-48"),e.jsx(e.Fragment,{children:e.jsx(ye,{show:l,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx("div",{className:`absolute z-50 mt-2 rounded-xl shadow-lg ${h} ${i}`,onClick:()=>x(!1),children:e.jsx("div",{className:"rounded-xl ring-1 ring-black ring-opacity-5 "+a,children:n})})})})},Ze=({className:r="",children:s,...a})=>e.jsx(b,{...a,className:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition-all duration-200 ease-in-out hover:bg-gray-100 hover:scale-105 focus:bg-gray-100 focus:outline-none "+r,children:s});xe.Trigger=Xe;xe.Content=Ke;xe.Link=Ze;function ds({active:r=!1,className:s="",children:a,...n}){return e.jsx(b,{...n,className:"inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium leading-5 transition-all duration-200 ease-in-out hover:scale-105 focus:outline-none "+(r?"border-indigo-400 text-gray-900 focus:border-indigo-700":"border-transparent text-gray-500 hover:border-gray-300  focus:border-gray-300 focus:text-gray-700")+s,children:a})}function xs({active:r=!1,className:s="",children:a,...n}){return e.jsx(b,{...n,className:`flex w-full items-start border-l-4 py-2 pe-4 ps-3 ${r?"border-indigo-400 bg-indigo-50 text-indigo-700 focus:border-indigo-700 focus:bg-indigo-100 focus:text-indigo-800":"border-transparent text-gray-600 hover:border-gray-300 hover:bg-gray-50  focus:border-gray-300 focus:bg-gray-50 focus:text-gray-800"} text-base font-medium transition-all duration-200 ease-in-out hover:scale-105 focus:outline-none ${s}`,children:a})}const pe={sm:{width:24,height:24,className:"w-6 h-6"},md:{width:36,height:36,className:"w-9 h-9"},lg:{width:64,height:64,className:"w-16 h-16"},xl:{width:80,height:80,className:"w-20 h-20"}};function ke({size:r="md",variant:s="blue",width:a,height:n,className:l="",...x}){const h=pe[r]||pe.md,i=K.FILTERS[s.toUpperCase()]||K.FILTERS.BLUE,S=a||h.width,M=n||h.height,N=l||h.className;return e.jsx("img",{src:K.LOGO.PATH,alt:K.LOGO.ALT_TEXT,width:S,height:M,className:N,style:{filter:i==="none"?void 0:i},loading:"lazy",...x})}function ms({lang:r,setLang:s}){const[a,n]=o.useState(!1),l=o.useRef(null);o.useEffect(()=>{function i(S){l.current&&!l.current.contains(S.target)&&n(!1)}return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[]);const x=i=>i==="en"?e.jsx("span",{className:"fi fi-us",title:"English"}):i==="kh"?e.jsx("span",{className:"fi fi-kh",title:"Khmer"}):null,h=i=>{s(i),localStorage.setItem("lang",i),window.dispatchEvent(new Event("lang-changed")),n(!1)};return e.jsxs("div",{className:"nav-item dropdown position-relative border rounded-xl hover:shadow-md",ref:l,children:[e.jsxs("button",{className:"nav-link btn btn-link d-flex align-items-center p-2 bg-transparent",onClick:()=>n(i=>!i),style:{outline:"none",boxShadow:"none"},children:[e.jsxs("span",{className:"mx-1 text-sm font-semibold flex items-center gap-1",children:[e.jsx("span",{children:x(r)}),e.jsx("span",{children:r==="en"?"English":"ភាសាខ្មែរ"})]}),e.jsx("i",{className:`fas fa-chevron-down ml-[0.1rem] transition-transform transform scale-[0.7] ${a?"rotate-180":""}`})]}),a&&e.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white border border-gray-200 rounded-xl shadow-lg z-50",children:e.jsxs("div",{className:"px-2 py-2 space-y-1",children:[e.jsxs("button",{className:`flex items-center gap-2 w-full text-left px-4 py-2 text-sm ${r==="en"?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"} rounded-xl transition`,onClick:()=>h("en"),children:[e.jsx("span",{className:"fi fi-us",title:"English"}),e.jsx("span",{children:"English"})]}),e.jsxs("button",{className:`flex items-center gap-2 w-full text-left px-4 py-2 text-sm ${r==="kh"?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"} rounded-xl transition`,onClick:()=>h("kh"),children:[e.jsx("span",{className:"fi fi-kh",title:"Khmer"}),e.jsx("span",{children:"ភាសាខ្មែរ"})]})]})})]})}function hs(r){return e.jsx("section",{className:"content-header",children:e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"row mb-2",children:[e.jsx("div",{className:"col-sm-6",children:e.jsx("h1",{children:r?.header})}),e.jsx("div",{className:"col-sm-6",children:e.jsx("ol",{className:"breadcrumb float-sm-right",children:r?.links&&r?.links.map((s,a)=>s?.url?e.jsx("li",{className:"breadcrumb-item",children:e.jsx(b,{href:route("dashboard"),children:s?.title},a)},a):e.jsx("li",{className:"breadcrumb-item active",children:s?.title},a))})})]})})})}function us({links:r}){return r?.length>1?e.jsx("ul",{className:"pagination pagination-sm m-0 float-right",children:r.map((s,a)=>e.jsx("li",{className:`page-item ${s.active?"active":""} ${s.url===null?"disabled":""}`,children:s.url?e.jsx(b,{className:"page-link",href:s.url,dangerouslySetInnerHTML:{__html:s.label}}):e.jsx("span",{className:"page-link",dangerouslySetInnerHTML:{__html:s.label}})},a))}):null}function me({children:r,show:s=!1,maxWidth:a="2xl",closeable:n=!0,onClose:l=()=>{}}){const x=()=>{n&&l()},h={sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"}[a];return e.jsx(ye,{show:s,leave:"duration-200",children:e.jsxs(Me,{as:"div",id:"modal",className:"fixed inset-0 z-50 flex transform items-center overflow-y-auto px-4 py-6 transition-all sm:px-0",onClose:x,children:[e.jsx(ue,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500/75"})}),e.jsx(ue,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:e.jsx(_e,{className:`mb-6 transform overflow-hidden rounded-xl bg-white shadow-xl transition-all sm:mx-auto sm:w-full ${h}`,children:r})})]})})}function gs({value:r,onChange:s,placeholder:a="Search...",className:n=""}){return e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 rounded-xl border hover:shadow-lg transition text-sm bg-white ${n}`,children:[e.jsx($e,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",className:"px-2 w-[250px] py-2 rounded-xl border-none border-gray-300 text-sm focus:outline-none focus:ring-0",placeholder:a,value:r,onChange:s})]})}function ps({onClick:r,icon:s,tooltip:a,variant:n="blue",disabled:l=!1,className:x=""}){const[h,i]=o.useState(!1),S=()=>{const M={blue:"bg-blue-500 hover:bg-blue-600 hover:scale-105 hover:shadow-lg text-white",green:"bg-green-500 hover:bg-green-600 hover:scale-105 hover:shadow-lg text-white",red:"bg-red-500 hover:bg-red-600 hover:scale-105 hover:shadow-lg text-white",yellow:"bg-yellow-500 hover:bg-yellow-600 hover:scale-105 hover:shadow-lg text-white",gray:"bg-gray-500 hover:bg-gray-600 hover:scale-105 hover:shadow-lg text-white"};return M[n]||M.blue};return e.jsxs("div",{className:"relative group",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[e.jsx("button",{onClick:r,disabled:l,className:`inline-flex items-center gap-1.5 px-2 py-2 text-sm font-medium rounded-xl ${S()} transition ${l?"opacity-50 cursor-not-allowed":""} ${x}`,children:s&&e.jsx(s,{className:"w-4 h-4"})}),a&&h&&!l&&e.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-white text-gray-800 text-xs px-3 py-1 rounded-xl shadow-md border whitespace-nowrap z-10",children:[a,e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1",children:e.jsx("div",{className:"border-4 border-transparent border-t-white"})})]})]})}function fs({show:r=!1,onClose:s,onConfirm:a,title:n="Confirm Action",message:l="Are you sure you want to proceed?",confirmText:x="Confirm",confirmStyle:h="danger",processing:i=!1}){const S=()=>{const M="rounded-xl px-9 py-1 font-semibold hover:opacity-90 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95";switch(h){case"danger":return`${M} bg-red-600 text-white`;case"success":return`${M} bg-green-600 text-white`;case"primary":return`${M} bg-blue-600 text-white`;default:return`${M} bg-red-600 text-white`}};return e.jsx(me,{show:r,onClose:s,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:n}),e.jsx("p",{className:"text-gray-600 mb-6",children:l}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:s,className:"rounded-xl border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:i,children:"Cancel"}),e.jsx("button",{type:"button",onClick:a,className:S(),disabled:i,children:i?"Processing...":x})]})]})})}function Qe({message:r,className:s="",...a}){return r?e.jsx("p",{...a,className:"text-sm text-red-600 "+s,children:r}):null}function Je({value:r,className:s="",children:a,...n}){return e.jsx("label",{...n,className:"block text-sm font-medium text-gray-700 "+s,children:r||a})}function bs({className:r="",disabled:s,children:a,...n}){return e.jsx("button",{...n,className:`inline-flex items-center rounded-xl border border-transparent bg-gray-800 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition-all duration-200 ease-in-out hover:bg-gray-700 hover:scale-105 hover:shadow-lg focus:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 active:bg-gray-900 active:scale-95 ${s&&"opacity-25 cursor-not-allowed hover:scale-100 hover:shadow-none"} `+r,disabled:s,children:a})}const es=o.forwardRef(function({type:s="text",className:a="",isFocused:n=!1,...l},x){const h=o.useRef(null);return o.useImperativeHandle(x,()=>({focus:()=>h.current?.focus()})),o.useEffect(()=>{n&&h.current?.focus()},[n]),e.jsx("input",{...l,type:s,className:"rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 "+a,ref:h})});function ys(){const a=o.useMemo(()=>[...Array(300)].map(()=>({left:Math.random()*120-10,width:Math.random()*.3+.1,opacity:Math.random()*.6+.3,duration:Math.random()*1+.5,delay:Math.random()*.2})),[]),n=o.useMemo(()=>[...Array(150)].map(()=>({left:Math.random()*100,size:Math.random()*8+4,opacity:Math.random()*.7+.3,duration:Math.random()*10+5,delay:Math.random()*.2,sway:Math.random()*20-10})),[]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"weather absolute inset-0 w-full h-full overflow-hidden",children:[a.map((l,x)=>e.jsx("div",{className:"rain-drop absolute bg-blue-200",style:{width:`${l.width}vmin`,height:"2vmin",left:`${l.left}vw`,opacity:l.opacity,animation:`rain-fall-${x} ${l.duration}s linear infinite`,animationDelay:`${l.delay}s`}},`rain-${x}`)),n.map((l,x)=>e.jsx("div",{className:"snowflake absolute rounded-full bg-white",style:{width:`${l.size}px`,height:`${l.size}px`,left:`${l.left}%`,opacity:l.opacity,animation:`snow-fall-${x} ${l.duration}s linear infinite`,animationDelay:`${l.delay}s`}},`snow-${x}`))]}),e.jsx("style",{children:`
        body, .weather {
          margin: 0;
          padding: 0;
          width: 100vw;
          height: 100vh;
          overflow: hidden;
          background: linear-gradient(
            180deg,
            #dbeafe 0%,    
            #93c5fd 40%,   
            #3b82f6 100%   
          );
        }

        ${a.map((l,x)=>`
          @keyframes rain-fall-${x} {
            0% { transform: translateY(0); }
            100% { transform: translateY(100vh); }
          }
        `).join(`
`)}

        ${n.map((l,x)=>`
          @keyframes snow-fall-${x} {
            0% { transform: translateY(0) translateX(0); }
            50% { transform: translateY(50vh) translateX(${Math.random()*20-10}px); }
            100% { transform: translateY(100vh) translateX(${Math.random()*20-10}px); }
          }
        `).join(`
`)}
      `})]})}function js({className:r="",...s}){return e.jsx("input",{...s,type:"checkbox",className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500 "+r})}const fe={sm:"text-sm",md:"text-lg",lg:"text-2xl"},be={blue:"text-[#0052CC]",white:"text-white",gray:"text-gray-400"};function ss({variant:r="short",size:s="md",color:a="blue",className:n="",...l}){const x=fe[s]||fe.md,h=be[a]||be.blue;let i;switch(r){case"full":i=K.NAME.FULL;break;case"copyright":i=K.COPYRIGHT.TEXT;break;case"short":default:i=K.NAME.SHORT;break}return e.jsx("span",{className:`font-semibold ${x} ${h} ${n}`,...l,children:i})}function ts({logoSize:r="md",logoVariant:s="blue",textVariant:a="short",textSize:n="md",textColor:l="blue",showText:x=!0,showLogo:h=!0,linkTo:i="/",className:S="",...M}){const N=e.jsxs(e.Fragment,{children:[h&&e.jsx("div",{className:"relative -mt-2",children:e.jsx(ke,{size:r,variant:s})}),x&&e.jsx(ss,{variant:a,size:n,color:l})]});return e.jsx(b,{href:i,className:`flex items-center gap-2 flex-shrink-0 ${S}`,...M,children:N})}const X={CONTAINER_WIDTH:{DEFAULT:"max-w-7xl",ADMIN:"max-w-full",NARROW:"max-w-4xl",WIDE:"max-w-screen-2xl"},CONTAINER_PADDING:{DEFAULT:"px-6 sm:px-8 md:px-12 lg:px-16",ADMIN:"px-2 md:px-4 lg:px-6",NONE:"px-0"},ROUNDED:{SMALL:"rounded-lg",MEDIUM:"rounded-xl",LARGE:"rounded-2xl",FULL:"rounded-full"}};function ws({className:r="",disabled:s,children:a,...n}){return e.jsx("button",{...n,className:`inline-flex items-center rounded-xl border border-transparent bg-red-600 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition-all duration-200 ease-in-out hover:bg-red-500 hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 active:bg-red-700 active:scale-95 ${s&&"opacity-25 cursor-not-allowed hover:scale-100 hover:shadow-none"} `+r,disabled:s,children:a})}function vs({type:r="button",className:s="",disabled:a,children:n,...l}){return e.jsx("button",{...l,type:r,className:`inline-flex items-center rounded-xl border border-gray-300 bg-white px-4 py-2 text-xs font-semibold uppercase tracking-widest text-gray-700 shadow-sm transition-all duration-200 ease-in-out hover:bg-gray-50 hover:scale-105 hover:shadow-lg hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 active:scale-95 disabled:opacity-25 ${a&&"opacity-25 cursor-not-allowed hover:scale-100 hover:shadow-sm"} `+s,disabled:a,children:n})}function ce({width:r="default",padding:s="default",centered:a=!1,className:n="",children:l,...x}){const h=X.CONTAINER_WIDTH[r.toUpperCase()]||X.CONTAINER_WIDTH.DEFAULT,i=X.CONTAINER_PADDING[s.toUpperCase()]||X.CONTAINER_PADDING.DEFAULT,S=a?"flex flex-col items-center":"";return e.jsx("div",{className:`${h} mx-auto ${i} ${S} ${n}`,...x,children:l})}function Ns(){return e.jsx("footer",{className:"bg-gradient-to-b from-gray-800 to-gray-900 text-gray-300 pt-12 pb-6 w-full",children:e.jsxs(ce,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-12 pb-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-[16px] font-semibold mb-4 text-gray-400",children:"INFORMATION"}),e.jsx(b,{href:"#",className:"text-gray-300  text-[16px] mb-2",children:"Our Plans"}),e.jsx(b,{href:"#",className:"text-gray-300  text-[16px] mb-2",children:"Help Center"}),e.jsx(b,{href:"#",className:"text-gray-300  text-[16px]",children:"Contact"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-[16px] font-semibold mb-4 text-gray-400",children:"LEGAL"}),e.jsx(b,{href:"#",className:"text-gray-300  text-[16px] mb-2",children:"Terms of Use"}),e.jsx(b,{href:"#",className:"text-gray-300  text-[16px] mb-2",children:"Privacy Policy"}),e.jsx("span",{className:"invisible mb-2",children:" "})]}),e.jsx("div",{className:"flex flex-col items-center md:items-end gap-2",children:e.jsx(b,{href:"/",className:"flex items-center gap-2 flex-shrink-0",children:e.jsx(ke,{size:"xl",variant:"white"})})})]}),e.jsx("hr",{className:"border-gray-700 my-6"}),e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center text-gray-400 text-[16px]",children:e.jsx("span",{children:K.COPYRIGHT.FULL})})]})})}function Cs(){const r=ne(),{auth:s}=r.props||{},a=r.url||"",n=o.useRef(null),[l,x]=o.useState(!1),[h,i]=o.useState(!1);o.useEffect(()=>{console.log("HeaderNavbar Debug:",{auth:s,hasUser:!!s?.user,canStudent:s?.can?.student,screenWidth:window.innerWidth,currentUrl:a})},[s,a]),o.useEffect(()=>{const L=m=>{n.current&&!n.current.contains(m.target)&&x(!1),h&&!m.target.closest("#mobile-menu")&&!m.target.closest("#mobile-menu-toggle")&&i(!1)};return(l||h)&&document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[l,h]);const M=(()=>{if(!s?.user)return null;if(Array.isArray(s.user.roles)&&s.user.roles.length>0){const L=s.user.roles[0];return typeof L=="object"?L.name||L.role||"User":L}if(Array.isArray(s.user.roles_list)&&s.user.roles_list.length>0){const L=s.user.roles_list[0];return typeof L=="object"?L.name||L.role||"User":L}return s?.can?.admin||s?.can?.administrator?"Admin":s?.can?.teacher||s?.can?.instructor?"Teacher":s?.can?.student?"Student":s.user.role?typeof s.user.role=="object"?s.user.role.name||s.user.role.role||"User":s.user.role:"User"})(),N=L=>a.startsWith(L)?"text-blue-600 font-semibold":"text-gray-700 ";return e.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white border-b border-gray-200",children:[e.jsx(ce,{children:e.jsxs("nav",{className:"flex items-center justify-between h-16 gap-2",children:[e.jsx("div",{className:"flex items-center flex-shrink-0",children:e.jsx(ts,{logoSize:"md",logoVariant:"blue",textVariant:"short"})}),e.jsxs("div",{className:"hidden sm:flex items-center gap-1 flex-1 justify-center",style:{display:window.innerWidth>=640?"flex":"none"},children:[e.jsx(b,{href:"/home",className:`px-2 sm:px-3 py-2 rounded-xl font-medium transition-all duration-200 whitespace-nowrap ${N("/home")}`,children:"Home"}),e.jsx(b,{href:"/library",className:`px-2 sm:px-3 py-2 rounded-xl font-medium transition-all duration-200 whitespace-nowrap ${N("/library")}`,children:"Your History"}),e.jsx(b,{href:"/homophone-check",className:`px-2 sm:px-3 py-2 rounded-xl font-medium transition-all duration-200 whitespace-nowrap ${N("/homophone-check")}`,children:"Homophone Check"}),e.jsx(b,{href:"/quiz-practice",className:`px-2 sm:px-3 py-2 rounded-xl font-medium transition-all duration-200 whitespace-nowrap ${N("/quiz-practice")}`,children:"Quiz & Practice"}),e.jsx(b,{href:"/contacts",className:`px-2 sm:px-3 py-2 rounded-xl font-medium transition-all duration-200 whitespace-nowrap ${N("/contacts")}`,children:"Contacts"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.user?e.jsxs(e.Fragment,{children:[Array.isArray(s.user.roles)&&s.user.roles.length>0||Array.isArray(s.user.roles_list)&&s.user.roles_list.length>0?e.jsxs(b,{href:route("dashboard"),className:"hidden sm:flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-2 px-4 rounded-xl transition shadow-sm hover:shadow-md",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"Dashboard"]}):e.jsxs(b,{href:"/subscribe",className:"hidden sm:flex items-center gap-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-semibold py-2 px-4 rounded-xl transition shadow-sm hover:shadow-md",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Upgrade"]}),e.jsxs("div",{className:"relative",ref:n,children:[e.jsxs("button",{onClick:()=>x(!l),className:"flex items-center gap-2 hover:bg-gray-50 hover:scale-105 hover:shadow-lg rounded-xl py-2 px-2 sm:px-3 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95",children:[e.jsx("img",{src:"/images/person-icon.svg",className:"h-9 w-9 sm:h-10 sm:w-10 rounded-full",alt:"User avatar"}),e.jsxs("div",{className:"hidden sm:flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900 leading-tight",children:s?.user?.name}),e.jsx("span",{className:"text-xs text-gray-500 leading-tight",children:M})]}),e.jsx("svg",{className:`hidden sm:block w-4 h-4 text-gray-500 transition-transform duration-200 ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),l&&e.jsxs("div",{className:`absolute right-0 mt-2 w-72 bg-white border border-gray-200 ${X.ROUNDED.LARGE} shadow-lg z-50 overflow-hidden`,children:[e.jsx("div",{className:"px-4 py-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"/images/person-icon.svg",className:`h-12 w-12 ${X.ROUNDED.FULL} shadow-sm flex-shrink-0`,alt:"User avatar"}),e.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900 truncate",children:s?.user?.name}),e.jsx("span",{className:"text-xs text-blue-600 font-medium truncate",children:M}),e.jsxs("div",{className:"flex items-center gap-1 mt-1 flex-wrap",children:[e.jsx("span",{className:"text-xs text-gray-600 truncate",children:s?.user?.email}),s?.user?.email_verified_at?e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-[10px] font-semibold bg-green-100 text-green-800 border border-green-200 ${X.ROUNDED.SMALL} flex-shrink-0`,children:"✓ Verified"}):e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-[10px] font-semibold bg-yellow-100 text-yellow-800 border border-yellow-200 ${X.ROUNDED.SMALL} flex-shrink-0`,children:"Unverified"})]})]})]})}),!s?.user?.email_verified_at&&e.jsxs("div",{className:"px-4 py-3 bg-yellow-50 border-b border-yellow-100",children:[e.jsx("p",{className:"text-xs text-yellow-800 mb-2",children:"Please verify your email address"}),e.jsx(b,{href:route("verification.send.otp"),method:"post",as:"button",className:`w-full text-xs bg-yellow-600 hover:bg-yellow-700 hover:scale-105 hover:shadow-lg text-white font-semibold py-1.5 px-3 ${X.ROUNDED.SMALL} transition`,children:"Verify Email"})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs(b,{href:route("profile.edit"),onClick:()=>x(!1),className:"flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"My Account"]}),e.jsx("hr",{className:"my-1 border-gray-200"}),e.jsxs(b,{method:"post",href:route("logout"),as:"button",onClick:()=>x(!1),className:"flex items-center gap-3 w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition",children:[e.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{href:route("auth"),className:"hidden sm:inline-block text-gray-700  font-medium px-4 py-2 rounded-xl hover:bg-gray-50 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95",children:"Sign In"}),e.jsx(b,{href:route("auth"),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-2 px-6 rounded-xl transition shadow-sm hover:shadow-md",children:"Get Started"})]}),e.jsx("button",{className:"sm:hidden p-2 rounded-xl hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95",id:"mobile-menu-toggle",onClick:()=>i(!h),children:e.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),h&&e.jsx("div",{id:"mobile-menu",className:"sm:hidden border-t border-gray-200 bg-white shadow-lg",children:e.jsx(ce,{className:"py-4",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(b,{href:"/home",className:`py-3 px-4 rounded-xl font-medium transition-all duration-200 ease-in-out ${N("/home")} hover:bg-gray-50`,onClick:()=>i(!1),children:"Home"}),e.jsx(b,{href:"/library",className:`py-3 px-4 rounded-xl font-medium transition-all duration-200 ease-in-out ${N("/library")} hover:bg-gray-50`,onClick:()=>i(!1),children:"Your History"}),e.jsx(b,{href:"/homophone-check",className:`py-3 px-4 rounded-xl font-medium transition-all duration-200 ease-in-out ${N("/homophone-check")} hover:bg-gray-50`,onClick:()=>i(!1),children:"Homophone Check"}),e.jsx(b,{href:"/quiz-practice",className:`py-3 px-4 rounded-xl font-medium transition-all duration-200 ease-in-out ${N("/quiz-practice")} hover:bg-gray-50`,onClick:()=>i(!1),children:"Quiz & Practice"}),e.jsx(b,{href:"/contacts",className:`py-3 px-4 rounded-xl font-medium transition-all duration-200 ease-in-out ${N("/contacts")} hover:bg-gray-50`,onClick:()=>i(!1),children:"Contacts"}),s.user?e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-2 border-gray-200"}),Array.isArray(s.user.roles)&&s.user.roles.length>0||Array.isArray(s.user.roles_list)&&s.user.roles_list.length>0?e.jsx(b,{href:route("dashboard"),className:"py-3 px-4 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold text-center hover:from-blue-700 hover:to-indigo-700 transition-all",onClick:()=>i(!1),children:"Dashboard"}):e.jsx(b,{href:"/subscribe",className:"py-3 px-4 rounded-xl bg-gradient-to-r from-orange-500 to-orange-600 text-white font-semibold text-center hover:from-orange-600 hover:to-orange-700 transition-all",onClick:()=>i(!1),children:"Upgrade"}),e.jsx(b,{href:route("profile.edit"),className:"py-3 px-4 rounded-xl text-gray-700 font-medium hover:bg-gray-50 transition-all duration-200 ease-in-out",onClick:()=>i(!1),children:"My Account"}),e.jsx(b,{method:"post",href:route("logout"),as:"button",className:"py-3 px-4 rounded-xl text-red-600 font-medium text-center hover:bg-red-50 transition-all duration-200 ease-in-out",onClick:()=>i(!1),children:"Sign Out"})]}):e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-2 border-gray-200"}),e.jsx(b,{href:route("auth"),className:"py-3 px-4 rounded-xl text-gray-700 font-medium text-center hover:bg-gray-50 transition-all duration-200 ease-in-out",onClick:()=>i(!1),children:"Sign In"}),e.jsx(b,{href:route("auth"),className:"py-3 px-4 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold text-center hover:from-blue-700 hover:to-indigo-700 transition-all",onClick:()=>i(!1),children:"Get Started"})]})]})})})]})}class ks extends o.Component{constructor(a){super(a);se(this,"logErrorToService",(a,n)=>{console.error("Error logged:",{error:a.toString(),componentStack:n.componentStack,timestamp:new Date().toISOString()})});se(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});se(this,"handleReload",()=>{window.location.reload()});se(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(a){return{hasError:!0}}componentDidCatch(a,n){this.setState(l=>({error:a,errorInfo:n,errorCount:l.errorCount+1})),this.logErrorToService(a,n)}render(){const{hasError:a,error:n,errorInfo:l,errorCount:x}=this.state,{children:h,fallback:i,showDetails:S=!1}=this.props;return a?i?typeof i=="function"?i(n,this.handleReset):i:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxs("div",{className:"max-w-lg w-full bg-white rounded-xl shadow-lg p-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Ee,{className:"text-red-600",size:32})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Oops! Something went wrong"}),e.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["We're sorry for the inconvenience. An unexpected error occurred.",x>1&&e.jsxs("span",{className:"block mt-2 text-sm text-red-600",children:["This error has occurred ",x," times."]})]}),S&&n&&e.jsxs("details",{className:"mb-6 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 mb-2",children:"Error Details"}),e.jsxs("div",{className:"text-xs font-mono text-red-600 mt-2",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{children:"Error:"})," ",n.toString()]}),l&&e.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[e.jsx("strong",{children:"Component Stack:"}),e.jsx("pre",{className:"whitespace-pre-wrap mt-1",children:l.componentStack})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:this.handleReset,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-xl font-medium hover:bg-blue-700 transition-all duration-200 ease-in-out flex items-center justify-center gap-2",children:[e.jsx(ge,{size:18}),"Try Again"]}),e.jsxs("button",{onClick:this.handleReload,className:"w-full bg-white text-gray-700 py-3 px-4 rounded-xl font-medium border border-gray-300 hover:bg-gray-50 transition-all duration-200 ease-in-out flex items-center justify-center gap-2",children:[e.jsx(ge,{size:18}),"Reload Page"]}),e.jsxs("button",{onClick:this.handleGoHome,className:"w-full bg-white text-gray-700 py-3 px-4 rounded-xl font-medium border border-gray-300 hover:bg-gray-50 transition-all duration-200 ease-in-out flex items-center justify-center gap-2",children:[e.jsx(ze,{size:18}),"Go to Homepage"]})]}),e.jsx("p",{className:"mt-6 text-xs text-gray-500 text-center",children:"If this problem persists, please contact support."})]})}):h}}const rs=({size:r="md",color:s="blue",text:a=""})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"},l={blue:"text-blue-600",gray:"text-gray-600",white:"text-white",green:"text-green-600"};return e.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[e.jsx(De,{className:`${n[r]} ${l[s]} animate-spin`}),a&&e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:a})]})},as=({type:r="default"})=>r==="card"?e.jsxs("div",{className:"animate-pulse p-4 border border-gray-200 rounded-xl",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-3"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]}):r==="list"?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(s=>e.jsxs("div",{className:"animate-pulse flex gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},s))}):r==="text"?e.jsxs("div",{className:"animate-pulse space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]}):e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]}),As=({type:r="spinner",minHeight:s="200px"})=>e.jsx("div",{className:"flex items-center justify-center w-full",style:{minHeight:s},children:r==="spinner"?e.jsx(rs,{size:"lg",color:"blue",text:"Loading component..."}):e.jsx(as,{type:r})});typeof window<"u"&&!window.React&&(window.React=J);function ns(){const r=ne().props||{},s=r.checkers?.data??r.checkers??r.grammar_checkers??r.grammarCheckers??[],a=r.user_homophone_accuracies??r.userHomophoneAccuracies??[],n=r.auth?.user?.id??r.auth?.id??null;r.checkers?.links;const[l,x]=o.useState(Array.isArray(s)?s:[]),[h,i]=o.useState(a),[S,M]=o.useState(!1),[N,L]=o.useState(!1),[m,z]=o.useState(null),[D,O]=o.useState([]),[w,U]=o.useState(!1),[v,Y]=o.useState(null),[_,F]=o.useState(!1),[j,I]=o.useState([]),[G,ee]=o.useState(!1);async function Z(t=null,u=null){U(!0),O([]);const p=typeof sessionStorage<"u"?sessionStorage.getItem("sessionId"):null;try{const g=await V.get("/api/user-comparison-activities",{params:{session_id:p||void 0,grammar_checker_id:t||void 0,article_id:u||void 0,limit:200},headers:{Accept:"application/json"},withCredentials:!0}),A=Array.isArray(g.data)?g.data:g.data?.data??[];O(Array.isArray(A)?A:[])}catch{O([])}finally{U(!1)}}async function Q(t=null,u=null){F(!0),Y(null);const p=typeof sessionStorage<"u"?sessionStorage.getItem("sessionId"):null,g=["/api/user-activity-stats","/api/user-activities/stats","/api/track/stats","/user-activity-stats"];for(const A of g)try{const R=await V.get(A,{params:{session_id:p||void 0,grammar_checker_id:t||void 0,article_id:u||void 0},headers:{Accept:"application/json"},withCredentials:!0}),y=R.data?.data??R.data??null;if(y&&typeof y=="object")return Y(y),F(!1),y}catch{}return F(!1),null}async function c(t=null){ee(!0),I([]);try{const u=await V.get("/api/user-audio-activities",{params:{grammar_checker_id:t||void 0},headers:{Accept:"application/json"},withCredentials:!0}),p=Array.isArray(u.data)?u.data:u.data?.data??[];I(Array.isArray(p)?p:[])}catch{I([])}finally{ee(!1)}}o.useEffect(()=>{if(!N||!m)return;const t=m.raw?.id??m.id,u=m.raw?.article_id??m.raw?.articleId??null;Z(t,u).catch(()=>{}),Q(t,u).catch(()=>{}),c(t).catch(()=>{})},[N,m]),o.useEffect(()=>{if(Array.isArray(s)&&s.length>0){x(Array.isArray(s)?s:[]),i(a);return}let u=!1;return M(!0),(async()=>{try{const p=await V.get("/grammar-checkers",{headers:{Accept:"application/json"},withCredentials:!0});if(u)return;const g=p.data,A=Array.isArray(g)?g:g.data??[];Array.isArray(A)&&x(A)}catch(p){p?.response&&[401,403,404].includes(p.response.status)||console.warn("Failed to fetch /grammar-checkers fallback:",p?.message??p)}try{const g=(await V.get("/api/user-homophone-accuracies",{headers:{Accept:"application/json"},withCredentials:!0})).data,A=Array.isArray(g)?g:g.data??[];Array.isArray(A)&&A.length>0&&i(A)}catch(p){p?.response&&[401,403,404].includes(p.response.status)||console.warn("Failed to fetch accuracies:",p?.message??p)}finally{u||M(!1)}})(),()=>{u=!0}},[]),r.article_id??r.articleId;const d=[...l||[]].filter(t=>!n||Number(t.user_id)===Number(n)).sort((t,u)=>Number(u.id)-Number(t.id)).map(t=>{const u=n?(h||[]).find(y=>Number(y.grammar_checker_id)===Number(t.id)&&Number(y.user_id)===Number(n)):null,p=u?.accuracy??null,g=u?.avg_pause_duration??u?.reading_time_seconds??t.reading_time??null;let A="0";const R=t.created_at??t.updated_at??t.date;if(R)try{A=new Date(R).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}catch{A=String(R)}return{id:t.id,title:t.title??`Article ${t.id}`,date:A,accuracy:p!=null?`${Number(p).toFixed(2)}%`:"0%",averagePause:g!=null?`${g}s`:"0s",raw:t,_acc:u??null}}),[C,k]=o.useState(1),T=10,H=Math.max(1,Math.ceil(d.length/T)),q=(C-1)*T,te=d.slice(q,q+T);return o.useEffect(()=>{C>H&&H>0&&k(H)},[H,C]),e.jsxs("div",{className:"mb-8 mt-4",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-4 mt-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Grammar Checks"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Your latest homophone checker history"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"No."}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Title"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Words"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:S?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"Loading..."})}):te.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"No grammar checks found."})}):te.map((t,u)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-200 ease-in-out",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:d.length-(q+u)}),e.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:t.title||"Untitled document"}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:t.date}),e.jsx("td",{className:"px-4 py-3 text-center text-gray-700",children:t.raw?.word_count??0}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("button",{type:"button",onClick:()=>{z(t),L(!0)},className:"rounded-xl border-2 border-blue-500 px-3 py-1 text-blue-700 hover:bg-blue-500  transition font-medium",children:"View"})})]},t.id))})]})})]})}),N&&m&&e.jsx(me,{show:N,onClose:()=>{L(!1),z(null)},maxWidth:"2xl",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Article Name: ",m.title]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Date: ",m.date]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4 text-sm text-gray-700",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-500",children:"Paragraph"}),e.jsx("div",{className:"mt-1 bg-slate-50 p-3 rounded text-sm leading-relaxed whitespace-pre-wrap break-words max-h-60 overflow-auto",children:m.raw?.paragraph??"—"})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"font-medium text-slate-500 mb-2",children:"Recent Events"}),e.jsx("div",{className:"w-full bg-white border rounded-xl",children:w?e.jsx("div",{className:"p-3 text-sm text-gray-500",children:"Loading recent events…"}):D.length===0?e.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No recent events."}):e.jsx("div",{className:"max-h-40 overflow-y-auto hide-scrollbar",children:e.jsxs("table",{className:"w-full text-sm divide-y",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"Type"}),e.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"Action"}),e.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"User word"}),e.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"Article word"})]})}),e.jsx("tbody",{children:D.map(t=>e.jsxs("tr",{className:"odd:bg-white even:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 text-xs text-gray-600",children:t.comparison_type??" "}),e.jsx("td",{className:"px-3 py-2 text-xs",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${t.action==="accept"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.action??" "})}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:t.user_word??" "}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:t.article_word??" "})]},t.id))})]})})}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-slate-600 mt-4",children:[e.jsxs("div",{children:["Replaced:"," ",e.jsx("span",{className:"font-medium text-green-700",children:D.filter(t=>t.comparison_type==="replaced"&&t.action==="accept").length}),e.jsx("span",{className:"text-gray-400",children:" (a) / "}),e.jsx("span",{className:"font-medium text-red-700",children:D.filter(t=>t.comparison_type==="replaced"&&t.action==="dismiss").length}),e.jsx("span",{className:"text-gray-400",children:" (d) "})]}),e.jsxs("div",{children:["Missing:"," ",e.jsx("span",{className:"font-medium text-green-700",children:D.filter(t=>t.comparison_type==="missing"&&t.action==="accept").length}),e.jsx("span",{className:"text-gray-400",children:" (a) / "}),e.jsx("span",{className:"font-medium text-red-700",children:D.filter(t=>t.comparison_type==="missing"&&t.action==="dismiss").length}),e.jsx("span",{className:"text-gray-400",children:" (d) "})]}),e.jsxs("div",{children:["Extra:"," ",e.jsx("span",{className:"font-medium text-green-700",children:D.filter(t=>t.comparison_type==="extra"&&t.action==="accept").length}),e.jsx("span",{className:"text-gray-400",children:" (a) / "}),e.jsx("span",{className:"font-medium text-red-700",children:D.filter(t=>t.comparison_type==="extra"&&t.action==="dismiss").length}),e.jsx("span",{className:"text-gray-400",children:" (d) "})]}),e.jsxs("div",{children:["Accuracy:"," ",e.jsx("span",{className:"font-medium text-gray-800",children:m._acc?.accuracy!=null?`${Number(m._acc.accuracy).toFixed(2)}%`:"—"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-slate-600 mt-4",children:[e.jsxs("div",{children:["Avg Pause (s):"," ",e.jsx("span",{className:"font-medium text-gray-800",children:_?"…":v?.avg_pause_duration!=null?Number(v.avg_pause_duration).toFixed(2):m._acc?.avg_pause_duration!=null?Number(m._acc.avg_pause_duration).toFixed(2):"—"})]}),e.jsxs("div",{children:["Audio Plays:"," ",e.jsx("span",{className:"font-medium text-blue-700",children:G?"…":j.filter(t=>t.activity_type==="audio_play").length||"0"})]}),e.jsxs("div",{children:["Audio Pauses:"," ",e.jsx("span",{className:"font-medium text-orange-700",children:G?"…":j.filter(t=>t.activity_type==="audio_pause").length||"0"})]}),e.jsxs("div",{children:["Reading Time (s):"," ",e.jsx("span",{className:"font-medium text-gray-800",children:m.raw?.reading_time??"0"})]})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{onClick:()=>{L(!1),z(null)},className:"rounded-xl border-2 border-gray-300 px-6 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",children:"Close"})})]})}),e.jsx("div",{className:"mt-4 px-6 py-4 border-t border-gray-100",children:H>1&&e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("button",{className:"px-3 py-1.5 rounded-xl border bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95",onClick:()=>k(t=>Math.max(1,t-1)),disabled:C===1,children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:H},(t,u)=>u+1).map(t=>e.jsx("button",{className:`px-3 py-1.5 rounded-xl border transition ${t===C?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 hover:bg-gray-100"}`,onClick:()=>k(t),children:t},t))}),e.jsx("button",{className:"px-3 py-1.5 rounded-xl border bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95",onClick:()=>k(t=>Math.min(H,t+1)),disabled:C===H,children:"Next"})]})})]})}typeof window<"u"&&!window.React&&(window.React=J);function Ls(){const{auth:r,quizAnalysis:s}=ne().props,n=r?.user?.id,[l,x]=o.useState(null),[h,i]=o.useState(0),[S,M]=o.useState(!1),[N,L]=o.useState(null),[m,z]=o.useState(0),[D,O]=o.useState(!1),[w,U]=o.useState(null),[v,Y]=o.useState(0),[_,F]=o.useState(null),[j,I]=o.useState(!1),[G,ee]=o.useState(!0),[Z,Q]=o.useState([]),[c,$]=o.useState([]),[d,C]=o.useState([]);o.useEffect(()=>(V.get("/api/user-homophone-accuracies",{headers:{Accept:"application/json"},withCredentials:!0}).then(t=>{const u=Array.isArray(t.data)?t.data:t.data?.data??[];Q(u);const p=new Date,g=p.getMonth(),A=p.getFullYear(),y=u.filter(f=>{const E=new Date(f.created_at);return E.getMonth()===g&&E.getFullYear()===A}).map(f=>f.accuracy===null||f.accuracy===void 0||f.accuracy===""?null:typeof f.accuracy=="number"?f.accuracy:parseFloat(f.accuracy)).filter(f=>f!==null&&!isNaN(f));if(i(y.length),y.length>0){const f=y.reduce((E,B)=>E+B,0)/y.length;x(f)}else x(null)}).catch(()=>{x(null),i(0),Q([])}).finally(()=>M(!0)),()=>{}),[]),o.useEffect(()=>{V.get("/api/quiz-attempts",{headers:{Accept:"application/json"},withCredentials:!0}).then(t=>{const u=Array.isArray(t.data)?t.data:t.data?.data??[];$(u);const p=new Date,g=p.getMonth(),A=p.getFullYear(),R=u.filter(f=>!n||f.user_id===n).filter(f=>{const E=new Date(f.created_at);return E.getMonth()===g&&E.getFullYear()===A});z(R.length);const y=R.map(f=>{const E=typeof f.score=="number"?f.score:parseInt(f.score);let B=1;try{const P=JSON.parse(f.answers);Array.isArray(P)&&(B=P.length)}catch{}return B>0&&!isNaN(E)?E/B*100:null}).filter(f=>f!==null&&!isNaN(f));if(y.length>0){const f=y.reduce((E,B)=>E+B,0)/y.length;L(f)}else L(null)}).catch(()=>{L(null),z(0),$([])}).finally(()=>O(!0))},[n]),o.useEffect(()=>{V.get("/api/user-homophone-accuracies",{headers:{Accept:"application/json"},withCredentials:!0}).then(t=>{const u=Array.isArray(t.data)?t.data:t.data?.data??[],p=new Date,g=p.getMonth(),A=p.getFullYear(),y=u.filter(P=>{const W=new Date(P.created_at);return W.getMonth()===g&&W.getFullYear()===A}).filter(P=>P.accuracy!==null&&P.accuracy!==void 0&&P.accuracy!==""&&P.created_at);Y(y.length),y.sort((P,W)=>new Date(P.created_at)-new Date(W.created_at));let f=null,E=null;if(y.length>1){const P=y.slice(0,-1).map(W=>typeof W.accuracy=="number"?W.accuracy:parseFloat(W.accuracy)).filter(W=>!isNaN(W));f=P.length>0?P.reduce((W,Ae)=>W+Ae,0)/P.length:null,E=typeof y[y.length-1].accuracy=="number"?y[y.length-1].accuracy:parseFloat(y[y.length-1].accuracy)}else y.length===1&&(f=null,E=typeof y[0].accuracy=="number"?y[0].accuracy:parseFloat(y[0].accuracy));let B=null;f!==null&&E!==null&&f!==0?B=(E-f)/Math.abs(f)*100:E!==null&&f===null?B=E:E!==null&&f===0?B=E===0?0:100:B=null,U(B),F(f)}).catch(()=>{U(null),Y(0),F(null)}).finally(()=>I(!0))},[]),o.useEffect(()=>{S&&D&&j&&ee(!1)},[S,D,j]);const T=(()=>{const t={},u=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];u.forEach(g=>{t[g]={articles:0,quizzes:0}});const p=g=>{const R=new Date(g).getDay();return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][R]};return Array.isArray(Z)&&Z.filter(g=>!n||g.user_id===n).forEach(g=>{const A=p(g.created_at);t[A]&&(t[A].articles+=1)}),Array.isArray(c)&&c.filter(g=>!n||g.user_id===n).forEach(g=>{const A=p(g.created_at);t[A]&&(t[A].quizzes+=1)}),u.map(g=>({day:g,articles:t[g].articles,quizzes:t[g].quizzes}))})();o.useEffect(()=>{V.get("/api/user-comparison-activities",{headers:{Accept:"application/json"},withCredentials:!0}).then(t=>{const u=Array.isArray(t.data)?t.data:t.data?.data??[],p=new Date,g=p.getMonth(),A=p.getFullYear(),R=(n?u.filter(y=>y.user_id===n):u).filter(y=>{const f=new Date(y.created_at);return f.getMonth()===g&&f.getFullYear()===A});C(R)}).catch(()=>{C([])})},[n]);const q=(()=>{const t={incorrect:0,missing:0,correct:0,extra:0};d.forEach(p=>{p.comparison_type==="replaced"?t.incorrect+=1:p.comparison_type==="missing"?t.missing+=1:p.comparison_type==="extra"&&(t.extra+=1)});const u=d.length;return t.correct=Math.max(0,u-(t.incorrect+t.missing+t.extra)),[{id:"incorrect",label:"Incorrect",value:t.incorrect,color:"hsl(232, 70%, 50%)"},{id:"missing",label:"Missing",value:t.missing,color:"hsl(121, 70%, 50%)"},{id:"correct",label:"Correct",value:t.correct,color:"hsl(245, 70%, 50%)"},{id:"extra",label:"Extra",value:t.extra,color:"hsl(314, 70%, 50%)"}]})(),he=()=>{const t=d.length;return t===0?"0":(d.filter(g=>g.comparison_type!=="replaced"&&g.comparison_type!=="missing"&&g.comparison_type!=="extra").length/t*100).toFixed(1)},te=d.length>0;return e.jsxs("div",{className:"mb-8 mt-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-sky-100 shadow-sm rounded-xl flex flex-col hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Homophone Accuracy"}),e.jsx("div",{className:"text-blue-500",children:e.jsx(Te,{className:"w-7 h-7"})})]}),G?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),e.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):e.jsxs("div",{children:[e.jsxs("h2",{className:`text-lg font-bold ${l!==null?l<50?"text-red-600":"text-green-600":"text-blue-700"}`,children:[l!==null?l.toFixed(2):"00.00"," %"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h>0?"Average of total articles":"No accuracy data"})]})]}),e.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-amber-100 shadow-sm rounded-xl flex flex-col hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Average Score"}),e.jsx("div",{className:"text-blue-500",children:e.jsx(Fe,{className:"w-7 h-7"})})]}),G?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),e.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):e.jsxs("div",{children:[e.jsxs("h2",{className:`text-lg font-bold ${N!==null?N<50?"text-red-600":"text-green-600":"text-gray-900"}`,children:[N!==null?N.toFixed(2):"00.00"," %"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m>0?`${m} quiz${m!==1?"zes":""} completed`:"No quiz attempts"})]})]}),e.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-emerald-100 shadow-sm rounded-xl flex flex-col hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Performance Growth"}),e.jsx("div",{className:"text-blue-500",children:e.jsx(je,{className:"w-7 h-7"})})]}),G?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),e.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):e.jsxs("div",{children:[e.jsxs("h2",{className:`text-lg font-bold ${w!==null?w>=0?"text-green-600":"text-red-600":"text-gray-900"}`,children:[w!==null?w.toFixed(2):"00.00"," %"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Updated Daily"})]})]}),e.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-indigo-300 shadow-sm rounded-xl flex flex-col hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Study Sessions"}),e.jsx("div",{className:"text-blue-500",children:e.jsx(Re,{className:"w-7 h-7"})})]}),G?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),e.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-green-600",children:h+m}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total Articles & Quizzes"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"mt-6 mb-4 bg-white rounded-xl shadow-sm border w-full border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Statistics Analytics"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tracking total performance by Daily"})]})}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-blue-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Articles"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-blue-200"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Quizzes"})]})]}),e.jsx("div",{className:"w-full h-[370px]",children:e.jsx(le,{width:"100%",height:"100%",children:e.jsxs(we,{data:T,children:[e.jsx(ve,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),e.jsx(Ne,{dataKey:"day",tick:{fill:"#6B7280",fontSize:12},axisLine:!1,tickLine:!1}),e.jsx(Ce,{tick:{fill:"#9CA3AF",fontSize:12}}),e.jsx(ie,{}),e.jsx(oe,{}),e.jsx(ae,{type:"monotone",dataKey:"articles",stroke:"#3B82F6",strokeWidth:3,name:"Articles",dot:{fill:"#3B82F6"}}),e.jsx(ae,{type:"monotone",dataKey:"quizzes",stroke:"#BFDBFE",strokeWidth:3,name:"Quizzes",dot:{fill:"#BFDBFE"}})]})})})]}),e.jsxs("div",{className:"mt-6 mb-4 bg-white rounded-xl shadow-sm border w-full border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Comparison Accuracy Breakdown"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Distribution of comparison types (this month)"})]})}),te?e.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 relative",children:[e.jsx("div",{className:"w-full h-[400px]",children:e.jsx(le,{width:"100%",height:"100%",children:e.jsxs(Pe,{children:[e.jsx(Ie,{data:q,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,paddingAngle:2,dataKey:"value",label:({label:t,value:u})=>`${t}: ${u}`,children:q.map((t,u)=>e.jsx(Oe,{fill:t.color},`cell-${u}`))}),e.jsx(ie,{}),e.jsx(oe,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})}),e.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center justify-center pointer-events-none",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:[he(),"%"]}),e.jsx("span",{className:"text-xs text-gray-500 font-medium tracking-wide",children:"Overall Accuracy"})]})]}):e.jsxs("div",{className:"w-full h-[400px] flex flex-col items-center justify-center bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"No comparison data available"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Complete some grammar checks to see accuracy breakdown"})]})]})]}),e.jsx(ns,{})]})}function Ss({onConfirmed:r,children:s}){const[a,n]=o.useState(!1),l=o.useRef(),[x,h]=o.useState(localStorage.getItem("lang")||"en"),[i,S]=o.useState({}),[M,N]=o.useState(!1);o.useEffect(()=>{const _=()=>{h(localStorage.getItem("lang")||"en")};return window.addEventListener("lang-changed",_),window.addEventListener("storage",_),()=>{window.removeEventListener("lang-changed",_),window.removeEventListener("storage",_)}},[]);const{data:L,setData:m,post:z,processing:D,reset:O,errors:w}=Be({password:""}),U=()=>{n(!0),setTimeout(()=>l.current?.focus(),250)},v=()=>{n(!1),O(),S({})},Y=_=>{_.preventDefault(),N(!0),V.post(route("password.confirm"),{password:L.password}).then(F=>{v(),O(),S({}),setTimeout(()=>{r()},100)}).catch(F=>{if(F.response&&F.response.data&&F.response.data.errors){const j={};Object.keys(F.response.data.errors).forEach(I=>{j[I]=F.response.data.errors[I][0]}),S(j),m("password","")}l.current?.focus()}).finally(()=>N(!1))};return e.jsxs("span",{children:[e.jsx("span",{onClick:U,children:s}),e.jsx(me,{show:a,onClose:v,maxWidth:"lg",children:e.jsxs("form",{className:"p-6",onSubmit:Y,children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Security Confirmation"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"For your security, please confirm your password to continue."}),e.jsxs("div",{className:"mt-6",children:[e.jsx(Je,{htmlFor:"password",value:"Enter Password"}),e.jsx(es,{id:"password",ref:l,type:"password",name:"password",value:L.password,onChange:_=>m("password",_.target.value),className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm",placeholder:"Enter your Password"}),e.jsx(Qe,{message:i.password,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[e.jsx("button",{type:"button",onClick:v,className:"rounded-xl border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold disabled:opacity-60",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:M,className:"rounded-xl px-9 py-1 bg-blue-600 text-white font-semibold hover:bg-blue-700 transition disabled:opacity-60",children:M?"Confirming...":"Confirm"})]})]})})]})}typeof window<"u"&&!window.React&&(window.React=J);function Ms(){const{auth:r,quizSummary:s,quizDaily:a,recentQuizzes:n,quizChange:l=[]}=ne().props,[x,h]=o.useState(()=>r?.can?.student?!0:typeof window<"u"&&window.__canAccessLibrary!==void 0?window.__canAccessLibrary:null);o.useEffect(()=>{if(x!==null||!r?.user)return;let m=!1;return(async()=>{try{const z=typeof window<"u"&&window.axios,D=z?await window.axios.get("/library",{headers:{"X-Requested-With":"XMLHttpRequest"},validateStatus:()=>!0}):await fetch("/library",{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}}),O=z?D.status===200:D.ok;m||(h(O),typeof window<"u"&&(window.__canAccessLibrary=O))}catch{m||(h(!1),typeof window<"u"&&(window.__canAccessLibrary=!1))}})(),()=>{m=!0}},[r?.user?.id,x]);const i=o.useMemo(()=>(Array.isArray(a)?a:[{day:"Monday",inProgress:80,completed:90},{day:"Tuesday",inProgress:60,completed:45},{day:"Wednesday",inProgress:70,completed:60},{day:"Thursday",inProgress:40,completed:40},{day:"Friday",inProgress:65,completed:80},{day:"Saturday",inProgress:45,completed:65},{day:"Sunday",inProgress:50,completed:70}]).map(z=>({day:z.day,accepts:Number(z.completed??z.accepts??0),ignores:Number(z.inProgress??z.ignores??0),avgScore:Number(z.avgScore??0)})),[a]),S=o.useMemo(()=>i.map(m=>({day:m.day,completed:m.accepts,avgScore:m.avgScore??0})),[i]),M=o.useMemo(()=>Array.isArray(n)&&n.length?n:[{id:"#DF429",date:"April 28, 2016",status:"Complete",color:"green"},{id:"#HTY274",date:"October 30, 2017",status:"Complete",color:"green"},{id:"#LKE600",date:"May 29, 2017",status:"In Progress",color:"yellow"},{id:"#HRP447",date:"May 20, 2015",status:"Cancelled",color:"red"},{id:"#HRP448",date:"May 20, 2015",status:"Cancelled",color:"red"}],[n]),N={green:"bg-green-100 text-green-700",yellow:"bg-yellow-100 text-yellow-700",red:"bg-red-100 text-red-700"},L=[{title:"My Quizzes",subtitle:"Total quizzes",value:Number(s?.total??0),icon:He,color:"text-blue-500",borderColor:"border-blue-100",bgColor:"bg-blue-50"},{title:"Quizzes Completed",subtitle:"Completed total quizzes",value:Number(s?.completed??0),icon:We,color:"text-green-500",borderColor:"border-green-100",bgColor:"bg-green-50"},{title:"Avg Score (7d)",subtitle:"Average score over last 7 days",value:`${Math.round(Number(s?.avgScore7d??0))}%`,icon:je,color:"text-orange-500",borderColor:"border-orange-100",bgColor:"bg-orange-50"}];return e.jsx("div",{className:"max-w-7xl mx-auto px-2 mb-12",children:r.user?e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"space-y-3 mb-9",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-600 text-start",children:"Quiz Practices for Students"}),e.jsx("p",{className:"text-gray-600 text-md text-start",children:"SorSer's Quiz Maker offers students ready-made quizzes designed for exams, lessons, and daily practice."})]}),e.jsxs("section",{className:`${x===!1?"blur-sm pointer-events-none":""}`,children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:L.map((m,z)=>{const D=m.icon;return e.jsxs("div",{className:`bg-white px-3 pb-2 pt-3 border-l-4 ${m.borderColor} shadow-sm rounded-xl flex flex-col hover:shadow-md transition-all duration-200`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:m.title}),e.jsx("div",{className:m.color,children:e.jsx(D,{className:"w-7 h-7"})})]}),e.jsxs("div",{className:"",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:m.value}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m.subtitle})]})]},z)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Completed Quiz Analysis"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tracking total quizzes by Daily"})]})}),e.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Completed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-200"}),e.jsx("span",{className:"text-sm text-gray-600",children:"In Progress"})]})]}),e.jsx("div",{className:"h-[280px]",children:e.jsx(le,{width:"100%",height:"100%",children:e.jsxs(we,{data:S,children:[e.jsx(ve,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),e.jsx(Ne,{dataKey:"day",tick:{fill:"#6B7280",fontSize:12},axisLine:!1,tickLine:!1}),e.jsx(Ce,{tick:{fill:"#9CA3AF",fontSize:12}}),e.jsx(ie,{}),e.jsx(oe,{}),e.jsx(ae,{type:"monotone",dataKey:"completed",stroke:"#3B82F6",strokeWidth:3,name:"Completed",dot:{fill:"#3B82F6"}}),e.jsx(ae,{type:"monotone",dataKey:"avgScore",stroke:"#10B981",strokeWidth:3,name:"Avg Score (%)",dot:{fill:"#10B981"}})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Quizzes"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Your latest quiz history"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Serial No."}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Score"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:M.map(m=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-200 ease-in-out",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:m.id}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:m.date}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:m.score??"-"}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded-full ${N[m.color]}`,title:`Score: ${m.score??"-"}%`,children:m.status})})]},m.id))})]})})]})]})]}),x===!1&&e.jsx("div",{className:"absolute inset-0 bg-opacity-30 flex items-center justify-center z-10 rounded-xl",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl border border-gray-200 p-8 w-full max-w-xl mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"Upgrade to Access Quiz Practices"}),e.jsx("p",{className:"text-gray-600 text-base leading-relaxed mb-6",children:"You need the Student permission to access Quiz Practices. Contact your administrator or upgrade your account."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(b,{href:route("profile.edit"),className:"block w-full px-4 py-3 border-2 border-blue-500 rounded-xl text-blue-600 font-medium hover:bg-blue-50 transition-all duration-200 ease-in-out",children:"Go to Profile"}),e.jsx(b,{href:route("contacts"),className:"block w-full px-4 py-3 border-2 border-gray-300 rounded-xl text-gray-700 font-medium hover:bg-gray-50 transition-all duration-200 ease-in-out",children:"Contact Support"})]}),e.jsx("div",{className:"mt-6",children:e.jsx(b,{method:"post",href:route("logout"),as:"button",children:e.jsx("span",{className:"text-red-500 font-medium hover:underline",children:"Sign Out"})})})]})})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-semibold text-gray-600",children:["Triple your productivity with the"," ",e.jsx("span",{className:"text-blue-500 font-semibold",children:"Quiz Practices"})]}),e.jsx("p",{className:"text-gray-600 mt-3 max-w-4xl mx-auto leading-relaxed",children:"SorSer's Quiz Maker offers students ready-made quizzes designed for exams, lessons, and daily practice. Each quiz is customized based on the student's role and subject to make learning more effective."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-9",children:[e.jsxs("div",{className:"bg-gray-100 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Ue,{className:"text-pink-500",size:28}),e.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Website at Every Step"})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"SorSer's application helps students at every step by providing quizzes made by Teachers. Students can take quizzes, check results, and get instant feedback."}),e.jsxs("div",{className:"bg-white border rounded-xl p-4",children:[e.jsx("p",{className:"text-gray-500 text-sm font-medium mb-2",children:"Quiz Example:"}),e.jsxs("div",{className:"p-3 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"font-medium text-gray-800 mb-2",children:"What key difference distinguishes isotopes?"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[e.jsx("li",{children:e.jsx("span",{className:"underline decoration-red-500 decoration-2 underline-offset-4",children:"Different electrons"})}),e.jsx("li",{children:e.jsx("span",{className:"underline decoration-green-500 decoration-2 underline-offset-4",children:e.jsx("strong",{children:"Different neutrons"})})})]})]})]})]}),e.jsxs("div",{className:"space-y-9",children:[e.jsxs("div",{className:"bg-gray-100 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ye,{className:"text-orange-500",size:28}),e.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Lightning Fast"})]}),e.jsx("p",{className:"text-gray-600",children:"Access quizzes in seconds. No setup needed — just log in and start practicing instantly."})]}),e.jsxs("div",{className:"bg-gray-100 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ve,{className:"text-pink-500",size:28}),e.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Features for Everyone"})]}),e.jsxs("p",{className:"text-gray-600",children:["Teachers can"," ",e.jsx(b,{href:"/quizzes",className:"text-blue-600 hover:underline transition-all duration-200 ease-in-out hover:scale-105",children:"create and manage quizzes"}),", while students review answers and track progress — all in one platform."]})]})]})]})]})})}function _s({currentQuiz:r,currentQuestionIdx:s,userAnswers:a=[],showResult:n,reviewMode:l,score:x,onAnswerChange:h,onNext:i,onPrev:S,onSubmit:M,onRestart:N,onDone:L,onStartAgain:m,setCurrentQuestionIdx:z,setReviewMode:D,setQuizStarted:O}){const[w,U]=J.useState(!1),[v,Y]=J.useState(null),[_,F]=J.useState(!1);if(J.useEffect(()=>{U(!1),Y(null),F(!1)},[s]),!r)return null;const j=r.questions[s],I=c=>{Y(c)},G=()=>{if(!v)return;h(s,v);let c=!1;if(j.type==="Checkboxes"){const $=Array.isArray(j.correct_answer)?j.correct_answer.sort():[],d=Array.isArray(v)?[...v].sort():[];c=JSON.stringify($)===JSON.stringify(d)}else if(j.type==="Matching"){const $=j.correct_answer||[],d=v||[];c=$.every(C=>d.find(k=>k.left===C.left&&k.right===C.right))&&d.length===$.length}else c=String(v).trim().toLowerCase()===String(j.correct_answer).trim().toLowerCase();F(c),U(!0)},ee=()=>{U(!1),Y(null),s<r.questions.length-1?i():M()},Z=()=>{O(!1)},Q=()=>v?Array.isArray(v)?j.type==="Matching"?v.length>0&&v.every(c=>c.right):v.length>0:!0:!1;return e.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col",children:[!n&&e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("button",{onClick:Z,className:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 hover:scale-105 hover:shadow-lg rounded-xl transition-all duration-200 ease-in-out",children:e.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("div",{className:"flex-1 mx-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 h-3 rounded-full overflow-hidden",children:e.jsx(re.div,{className:"bg-green-500 h-full rounded-full",initial:{width:0},animate:{width:`${(s+1)/r.questions.length*100}%`},transition:{duration:.3}})}),e.jsxs("span",{className:"text-sm font-semibold text-gray-600 min-w-[40px]",children:[s+1,"/",r.questions.length]})]})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 flex items-center justify-center",children:e.jsx("div",{className:"w-full max-w-2xl",children:j&&e.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:j.text}),j.description&&e.jsx("p",{className:"text-base text-gray-600 mb-2",children:j.description})]}),e.jsxs("div",{className:"space-y-3",children:[j.type==="Multiple Choice"&&j.options.map((c,$)=>{const d=v===c,C=["A","B","C","D","E","F"];return e.jsxs("button",{onClick:()=>!w&&I(c),disabled:w,className:`w-full flex items-center p-4 rounded-xl border-2 transition-all text-left ${w&&d?_?"bg-green-100 border-green-500":"bg-red-100 border-red-500":d?"bg-blue-50 border-blue-500":"bg-white border-gray-300 hover:border-gray-400 hover:bg-gray-50"} ${w?"cursor-not-allowed":"cursor-pointer"}`,children:[e.jsx("span",{className:`w-10 h-10 flex items-center justify-center rounded-xl font-bold text-lg mr-4 ${w&&d?_?"bg-green-500 text-white":"bg-red-500 text-white":d?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:C[$]}),e.jsx("span",{className:"text-lg text-gray-800",children:c})]},$)}),j.type==="True/False"&&["True","False"].map((c,$)=>{const d=v===c;return e.jsxs("button",{onClick:()=>!w&&I(c),disabled:w,className:`w-full flex items-center justify-between p-5 rounded-xl border-3 transition-all ${w&&d?_?"bg-green-100 border-green-500":"bg-red-100 border-red-500":d?"bg-blue-50 border-blue-500 border-3":"bg-white border-2 border-gray-300 hover:border-gray-400 hover:bg-gray-50"} ${w?"cursor-not-allowed":"cursor-pointer"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[c==="True"?e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${w&&d?_?"bg-green-500":"bg-red-500":d?"bg-blue-500":"bg-green-50 border-2 border-green-300"}`,children:e.jsx("svg",{className:`w-7 h-7 ${d||w?"text-white":"text-green-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}):e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${w&&d?_?"bg-green-500":"bg-red-500":d?"bg-blue-500":"bg-red-50 border-2 border-red-300"}`,children:e.jsx("svg",{className:`w-7 h-7 ${d||w?"text-white":"text-red-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"text-xl font-bold text-gray-800",children:c})]}),e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${d?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:d&&e.jsx("div",{className:"w-3 h-3 rounded-full bg-white"})})]},$)}),j.type==="Checkboxes"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-500 mb-2 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Select all that apply"]}),j.options.map((c,$)=>{const d=Array.isArray(v)?v:[],C=d.includes(c);return e.jsxs("button",{onClick:()=>{if(w)return;let k=[...d];C?k=k.filter(T=>T!==c):k.push(c),I(k)},disabled:w,className:`w-full flex items-center gap-4 p-4 rounded-xl border-2 transition-all text-left ${w&&C?"bg-green-50 border-green-500":C?"bg-blue-50 border-blue-500":"bg-white border-gray-300 hover:border-gray-400 hover:bg-gray-50"} ${w?"cursor-not-allowed":"cursor-pointer"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-xl border-2 flex items-center justify-center flex-shrink-0 transition-all ${w&&C?"bg-green-500 border-green-500":C?"bg-blue-500 border-blue-500":"border-gray-400 bg-white"}`,children:C&&e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:"text-lg text-gray-800 flex-1",children:c})]},$)})]}),j.type==="Fill-in-the-blank"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-500 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Type your answer"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:v||"",onChange:c=>I(c.target.value),disabled:w,className:`w-full px-6 py-5 border-2 text-gray-800 text-lg focus:outline-none transition-all rounded-xl ${w?_?"border-green-500 bg-green-50":"border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500 bg-white"} disabled:bg-gray-100`,placeholder:"Type your answer here..."}),v&&!w&&e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})})]})]}),j.type==="Matching"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-500 mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Match each item with its pair"]}),j.options.map((c,$)=>e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 px-5 py-4 bg-gradient-to-r from-blue-50 to-blue-100 text-gray-800 text-base border-2 border-blue-200 rounded-xl font-semibold shadow-sm",children:c.left}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("select",{value:Array.isArray(v)&&v.find(d=>d.left===c.left)?.right||"",onChange:d=>{const k=(Array.isArray(v)?[...v]:[]).filter(T=>T.left!==c.left);d.target.value&&k.push({left:c.left,right:d.target.value}),I(k)},disabled:w,className:`w-full px-5 py-4 border-2 text-gray-800 text-base rounded-xl focus:outline-none transition-all appearance-none cursor-pointer ${w?"bg-gray-100 border-gray-300":Array.isArray(v)&&v.find(d=>d.left===c.left)?.right?"bg-green-50 border-green-500":"bg-white border-gray-300 hover:border-blue-500"} disabled:cursor-not-allowed`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5em 1.5em",paddingRight:"3rem"},children:[e.jsx("option",{value:"",className:"text-gray-400",children:"Select match..."}),j.options.map((d,C)=>e.jsx("option",{value:d.right,children:d.right},C))]})})]})},$))]})]})]})})}),w&&e.jsx(re.div,{initial:{y:100},animate:{y:0},className:`${_?"bg-green-100":"bg-red-100"} border-t-2 ${_?"border-green-500":"border-red-500"}`,children:e.jsxs("div",{className:"max-w-4xl mx-auto p-6 flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center flex-shrink-0 ${_?"bg-green-500":"bg-red-500"}`,children:_?e.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-2xl font-bold ${_?"text-green-800":"text-red-800"}`,children:_?"Correct":"Correct answer:"}),!_&&e.jsx("p",{className:"text-lg text-red-700 mt-1",children:j.type==="Checkboxes"&&Array.isArray(j.correct_answer)?j.correct_answer.join(", "):j.type==="Matching"&&Array.isArray(j.correct_answer)?j.correct_answer.map(c=>`${c.left} = ${c.right}`).join("; "):String(j.correct_answer)})]})]}),e.jsx("button",{onClick:ee,className:`px-8 py-3 rounded-full font-bold text-white text-lg flex-shrink-0 ${_?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} transition-all duration-200 ease-in-out`,children:s===r.questions.length-1?"Finish":"Continue"})]})}),!w&&e.jsx("div",{className:"p-6 border-t bg-white",children:e.jsx("div",{className:"max-w-4xl mx-auto flex justify-end",children:e.jsx("button",{onClick:G,disabled:!Q(),className:`px-8 py-4 rounded-full font-bold text-white text-lg transition-all ${Q()?"bg-green-600 hover:bg-green-700":"bg-gray-300 cursor-not-allowed"}`,children:"Check"})})})]}),n&&!l&&e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-8",children:e.jsxs("div",{className:"w-full max-w-md text-center",children:[e.jsx(re.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"mb-8",children:e.jsx("div",{className:"w-32 h-32 mx-auto rounded-full bg-green-500 flex items-center justify-center",children:e.jsx("svg",{className:"w-20 h-20 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Quiz Complete"}),e.jsxs("p",{className:"text-2xl text-gray-600 mb-12",children:["Your final score is ",x,"/",r.questions.length," (",Math.round(x/r.questions.length*100),"%)"]}),e.jsxs("div",{className:"space-y-3 mb-8",children:[e.jsx("button",{onClick:()=>D(!0),className:"w-full py-4 px-6 rounded-full border-2 border-gray-300 text-gray-700 font-semibold text-lg hover:bg-gray-50 transition-all duration-200 ease-in-out",children:"Review"}),e.jsx("button",{onClick:m,className:"w-full py-4 px-6 rounded-full border-2 border-gray-300 text-gray-700 font-semibold text-lg hover:bg-gray-50 transition-all duration-200 ease-in-out",children:"Restart"})]}),e.jsx("div",{className:"pt-8 border-t",children:e.jsx("button",{onClick:L,className:"text-blue-600 font-semibold hover:underline transition-all duration-200 ease-in-out hover:scale-105",children:"Quit"})})]})}),n&&l&&e.jsxs("div",{className:"min-h-screen bg-white overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b z-10 p-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between",children:[e.jsx("button",{onClick:()=>D(!1),className:"text-gray-600 ",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Answers Review"}),e.jsx("button",{onClick:Z,className:"text-gray-600 ",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"max-w-3xl mx-auto p-6 pb-20 space-y-6",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsxs("p",{className:"text-lg text-gray-600",children:["Score: ",e.jsxs("span",{className:"font-bold text-gray-800",children:[x,"/",r.questions.length]})]})}),r.questions.map((c,$)=>{const d=a[$]||{},C=!!d.isCorrect;return e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:e.jsxs("div",{className:`p-4 ${C?"bg-green-50":"bg-white"}`,children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 ${C?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:C?"✓":"✗"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-gray-500 text-sm font-semibold",children:[$+1,"."]}),e.jsx("span",{className:"text-xs font-semibold text-blue-500 bg-blue-100 px-2 py-0.5 rounded-full",children:c.type})]}),e.jsx("p",{className:"text-gray-800 font-semibold text-base mt-1",children:c.text})]}),C?e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-green-500 text-white",children:"Correct"}):e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-red-500 text-white",children:"Incorrect"})]}),e.jsxs("div",{className:"pl-9 space-y-2 text-sm",children:[c.type==="True/False"&&e.jsxs("div",{children:[e.jsxs("p",{children:["Your answer:"," ",e.jsx("span",{className:`font-semibold ${d.answer===c.correct_answer?"text-green-600":"text-red-600"}`,children:String(d.answer)})]}),e.jsxs("p",{children:["Correct answer:"," ",e.jsx("span",{className:"font-semibold text-green-600",children:String(c.correct_answer)})]})]}),c.type==="Multiple Choice"&&c.options?.map((k,T)=>{const H=d.answer===k,q=c.correct_answer===k;return!H&&!q?null:e.jsx("div",{className:`px-3 py-2 rounded-xl border ${q?"border-green-400 bg-green-50 text-green-700":H?"border-red-400 bg-red-50 text-red-700":"border-gray-200"}`,children:k},T)}),(c.type==="Checkbox"||c.type==="Checkboxes")&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold",children:"Your answer:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(Array.isArray(d.answer)?d.answer:[]).map((k,T)=>e.jsx("span",{className:"px-2 py-1 rounded-xl bg-red-50 border border-red-400 text-red-700",children:k},T)),(!d.answer||d.answer.length===0)&&e.jsx("span",{className:"text-gray-400",children:"—"})]}),e.jsx("p",{className:"font-semibold mt-1",children:"Correct answer:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(Array.isArray(c.correct_answer)?c.correct_answer:[]).map((k,T)=>e.jsx("span",{className:"px-2 py-1 rounded-xl bg-green-50 border border-green-400 text-green-700",children:k},T))})]}),(c.type==="Fill-in"||c.type==="Fill-in-the-blank")&&e.jsxs("div",{children:[e.jsxs("p",{children:["Your answer:"," ",e.jsx("span",{className:`font-semibold ${d.answer?.toLowerCase()===c.correct_answer?.toLowerCase()?"text-green-600":"text-red-600"}`,children:d.answer||"—"})]}),e.jsxs("p",{children:["Correct answer:"," ",e.jsx("span",{className:"font-semibold text-green-600",children:c.correct_answer})]})]}),c.type==="Matching"&&e.jsxs("div",{className:"space-y-2",children:[d.answer&&e.jsxs("div",{className:`p-3 rounded-xl border ${C?"border-green-400 bg-green-50":"border-red-300 bg-red-50"}`,children:[e.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Your answer:"}),Array.isArray(d.answer)&&d.answer.map((k,T)=>e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:k.left}),e.jsxs("span",{children:["= ",k.right]})]},T))]}),e.jsxs("div",{className:"p-3 rounded-xl border border-green-500 bg-green-50",children:[e.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Correct answer:"}),Array.isArray(c.correct_answer)&&c.correct_answer.map((k,T)=>e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:k.left}),e.jsxs("span",{children:["= ",k.right]})]},T))]})]})]})]})},$)})]})]})]})}function $s({label:r,value:s,icon:a,color:n="text-blue-500",borderColor:l="border-blue-100",bgColor:x="bg-blue-50",description:h="",className:i=""}){const S=Ge[a]||qe;return e.jsxs("div",{className:`bg-white px-3 pb-2 pt-3 border-l-4 ${l} shadow-sm rounded-xl flex flex-col hover:shadow-md transition-all duration-200 ${i}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:r}),e.jsx("div",{className:`${x} p-2 rounded-xl`,children:e.jsx(S,{className:`w-7 h-7 ${n}`})})]}),e.jsx("h2",{className:"text-lg font-bold text-gray-900 mt-1",children:s}),h&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h})]})}export{ke as A,K as B,fs as C,xe as D,ks as E,Ns as F,Cs as H,Je as I,ms as L,me as M,ds as N,ce as P,_s as Q,xs as R,gs as S,es as T,hs as a,ps as b,us as c,cs as d,Qe as e,bs as f,ys as g,js as h,ts as i,X as j,vs as k,ws as l,As as m,Ls as n,Ss as o,Ms as p,$s as q};
