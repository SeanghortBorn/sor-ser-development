var Ae=Object.defineProperty;var Ce=(r,s,n)=>s in r?Ae(r,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[s]=n;var se=(r,s,n)=>Ce(r,typeof s!="symbol"?s+"":s,n);import{j as e,r as o,C as Se,L as w,H as fe,K as Le,h as _e,O as me,z as Me,S as Ee,u as ne,T as $e,R as he,b as ze,d as J,a as G,e as De,f as Te,g as be,B as Fe,i as le,k as ye,l as je,X as we,Y as ve,m as ie,n as oe,o as ae,P as Re,q as Pe,s as Ie,t as Oe,v as Be,w as We,x as He,Z as Ue,y as Ye,A as re,D as Ge,E as qe}from"../vendor/vendor-common.uohrjYuu.js";import"../vendor/vendor-utils.BE4hxS_f.js";const V={NAME:{SHORT:"Sor-Ser",FULL:"Sor-Ser Application"},TAGLINE:{EN:"Khmer Homophone Learning Platform"},COPYRIGHT:{YEAR:new Date().getFullYear(),TEXT:`© ${new Date().getFullYear()}`,FULL:`© ${new Date().getFullYear()} All rights reserved.`},LOGO:{PATH:"/images/sor-ser logo.png",ALT_TEXT:"Sor-Ser logo"},FILTERS:{BLUE:"brightness(0) saturate(100%) invert(21%) sepia(94%) saturate(2783%) hue-rotate(210deg) brightness(96%) contrast(97%)",WHITE:"invert brightness-0",NONE:"none"}},ue={sm:{width:24,height:24,className:"w-6 h-6"},md:{width:36,height:36,className:"w-9 h-9"},lg:{width:64,height:64,className:"w-16 h-16"},xl:{width:80,height:80,className:"w-20 h-20"}};function Ne({size:r="md",variant:s="blue",width:n,height:a,className:l="",...x}){const u=ue[r]||ue.md,i=V.FILTERS[s.toUpperCase()]||V.FILTERS.BLUE,S=n||u.width,_=a||u.height,L=l||u.className;return e.jsx("img",{src:V.LOGO.PATH,alt:V.LOGO.ALT_TEXT,width:S,height:_,className:L,style:{filter:i==="none"?void 0:i},loading:"lazy",...x})}function ns({lang:r,setLang:s}){const[n,a]=o.useState(!1),l=o.useRef(null);o.useEffect(()=>{function i(S){l.current&&!l.current.contains(S.target)&&a(!1)}return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[]);const x=i=>i==="en"?e.jsx("span",{className:"fi fi-us",title:"English"}):i==="kh"?e.jsx("span",{className:"fi fi-kh",title:"Khmer"}):null,u=i=>{s(i),localStorage.setItem("lang",i),window.dispatchEvent(new Event("lang-changed")),a(!1)};return e.jsxs("div",{className:"nav-item dropdown position-relative border rounded-xl hover:shadow-sm",ref:l,children:[e.jsxs("button",{className:"nav-link btn btn-link d-flex align-items-center p-2 bg-transparent",onClick:()=>a(i=>!i),style:{outline:"none",boxShadow:"none"},children:[e.jsxs("span",{className:"mx-1 text-sm font-semibold flex items-center gap-1",children:[e.jsx("span",{children:x(r)}),e.jsx("span",{children:r==="en"?"English":"ភាសាខ្មែរ"})]}),e.jsx("i",{className:`fas fa-chevron-down ml-[0.1rem] transition-transform transform scale-[0.7] ${n?"rotate-180":""}`})]}),n&&e.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white border border-gray-200 rounded-xl shadow-sm z-50",children:e.jsxs("div",{className:"px-2 py-2 space-y-1",children:[e.jsxs("button",{className:`flex items-center gap-2 w-full text-left px-4 py-2 text-sm ${r==="en"?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"} rounded-xl transition`,onClick:()=>u("en"),children:[e.jsx("span",{className:"fi fi-us",title:"English"}),e.jsx("span",{children:"English"})]}),e.jsxs("button",{className:`flex items-center gap-2 w-full text-left px-4 py-2 text-sm ${r==="kh"?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"} rounded-xl transition`,onClick:()=>u("kh"),children:[e.jsx("span",{className:"fi fi-kh",title:"Khmer"}),e.jsx("span",{children:"ភាសាខ្មែរ"})]})]})})]})}function ls(r){return e.jsx("section",{className:"content-header mb-4",children:e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 px-6 py-4 transition-all duration-200 hover:shadow-md",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:r?.header}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Manage and monitor your ",r?.header?.toLowerCase()]})]}),e.jsx("div",{children:e.jsx("ol",{className:"flex items-center gap-2 text-sm",children:r?.links&&r?.links.map((s,n)=>(r.links.length-1,e.jsxs("li",{className:"flex items-center gap-2",children:[n>0&&e.jsx(Se,{className:"w-4 h-4 text-gray-400"}),s?.url?e.jsxs(w,{href:route("dashboard"),className:"flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium transition-all duration-200 hover:scale-105 active:scale-95",children:[n===0&&e.jsx(fe,{className:"w-4 h-4"}),s?.title]}):e.jsx("span",{className:"text-gray-600 font-semibold",children:s?.title})]},n)))})})]})})})})}function is({links:r}){return r?.length>1?e.jsx("ul",{className:"pagination pagination-sm m-0 float-right",children:r.map((s,n)=>e.jsx("li",{className:`page-item ${s.active?"active":""} ${s.url===null?"disabled":""}`,children:s.url?e.jsx(w,{className:"page-link",href:s.url,dangerouslySetInnerHTML:{__html:s.label}}):e.jsx("span",{className:"page-link",dangerouslySetInnerHTML:{__html:s.label}})},n))}):null}function de({children:r,show:s=!1,maxWidth:n="2xl",closeable:a=!0,onClose:l=()=>{}}){const x=()=>{a&&l()},u={sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"}[n];return e.jsx(Le,{show:s,leave:"duration-200",children:e.jsxs(_e,{as:"div",id:"modal",className:"fixed inset-0 z-50 flex transform items-center overflow-y-auto px-4 py-6 transition-all sm:px-0",onClose:x,children:[e.jsx(me,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500/75"})}),e.jsx(me,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:e.jsx(Me,{className:`mb-6 transform overflow-hidden rounded-xl bg-white shadow-sm transition-all sm:mx-auto sm:w-full ${u}`,children:r})})]})})}function os({value:r,onChange:s,placeholder:n="Search...",className:a=""}){return e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 rounded-xl border hover:shadow-sm transition text-sm bg-white ${a}`,children:[e.jsx(Ee,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",className:"px-2 w-[250px] py-2 rounded-xl border-none border-gray-300 text-sm focus:outline-none focus:ring-0",placeholder:n,value:r,onChange:s})]})}function cs({onClick:r,icon:s,tooltip:n,variant:a="blue",disabled:l=!1,className:x=""}){const[u,i]=o.useState(!1),S=()=>{const _={blue:"bg-blue-500 hover:bg-blue-600 hover:scale-105 hover:shadow-sm text-white",green:"bg-green-500 hover:bg-green-600 hover:scale-105 hover:shadow-sm text-white",red:"bg-red-500 hover:bg-red-600 hover:scale-105 hover:shadow-sm text-white",yellow:"bg-yellow-500 hover:bg-yellow-600 hover:scale-105 hover:shadow-sm text-white",gray:"bg-gray-500 hover:bg-gray-600 hover:scale-105 hover:shadow-sm text-white"};return _[a]||_.blue};return e.jsxs("div",{className:"relative group",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[e.jsx("button",{onClick:r,disabled:l,className:`inline-flex items-center gap-1.5 px-2 py-2 text-sm font-medium rounded-xl ${S()} transition ${l?"opacity-50 cursor-not-allowed":""} ${x}`,children:s&&e.jsx(s,{className:"w-4 h-4"})}),n&&u&&!l&&e.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-white text-gray-800 text-xs px-3 py-1 rounded-xl shadow-sm border whitespace-nowrap z-10",children:[n,e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1",children:e.jsx("div",{className:"border-4 border-transparent border-t-white"})})]})]})}function ds({show:r=!1,onClose:s,onConfirm:n,title:a="Confirm Action",message:l="Are you sure you want to proceed?",confirmText:x="Confirm",confirmStyle:u="danger",processing:i=!1}){const S=()=>{const _="rounded-xl px-9 py-1 font-semibold hover:opacity-90 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95";switch(u){case"danger":return`${_} bg-red-600 text-white`;case"success":return`${_} bg-green-600 text-white`;case"primary":return`${_} bg-blue-600 text-white`;default:return`${_} bg-red-600 text-white`}};return e.jsx(de,{show:r,onClose:s,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:a}),e.jsx("p",{className:"text-gray-600 mb-6",children:l}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:s,className:"rounded-xl border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:i,children:"Cancel"}),e.jsx("button",{type:"button",onClick:n,className:S(),disabled:i,children:i?"Processing...":x})]})]})})}function Xe({message:r,className:s="",...n}){return r?e.jsx("p",{...n,className:"text-sm text-red-600 "+s,children:r}):null}function Ke({value:r,className:s="",children:n,...a}){return e.jsx("label",{...a,className:"block text-sm font-medium text-gray-700 "+s,children:r||n})}function xs({className:r="",disabled:s,children:n,...a}){return e.jsx("button",{...a,className:`inline-flex items-center rounded-xl border border-transparent bg-gray-800 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition-all duration-200 ease-in-out hover:bg-gray-700 hover:scale-105 hover:shadow-sm focus:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 active:bg-gray-900 active:scale-95 ${s&&"opacity-25 cursor-not-allowed hover:scale-100 hover:shadow-none"} `+r,disabled:s,children:n})}const Ve=o.forwardRef(function({type:s="text",className:n="",isFocused:a=!1,...l},x){const u=o.useRef(null);return o.useImperativeHandle(x,()=>({focus:()=>u.current?.focus()})),o.useEffect(()=>{a&&u.current?.focus()},[a]),e.jsx("input",{...l,type:s,className:"rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 "+n,ref:u})});function ms(){const n=o.useMemo(()=>[...Array(300)].map(()=>({left:Math.random()*120-10,width:Math.random()*.3+.1,opacity:Math.random()*.6+.3,duration:Math.random()*1+.5,delay:Math.random()*.2})),[]),a=o.useMemo(()=>[...Array(150)].map(()=>({left:Math.random()*100,size:Math.random()*8+4,opacity:Math.random()*.7+.3,duration:Math.random()*10+5,delay:Math.random()*.2,sway:Math.random()*20-10})),[]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"weather absolute inset-0 w-full h-full overflow-hidden",children:[n.map((l,x)=>e.jsx("div",{className:"rain-drop absolute bg-blue-200",style:{width:`${l.width}vmin`,height:"2vmin",left:`${l.left}vw`,opacity:l.opacity,animation:`rain-fall-${x} ${l.duration}s linear infinite`,animationDelay:`${l.delay}s`}},`rain-${x}`)),a.map((l,x)=>e.jsx("div",{className:"snowflake absolute rounded-full bg-white",style:{width:`${l.size}px`,height:`${l.size}px`,left:`${l.left}%`,opacity:l.opacity,animation:`snow-fall-${x} ${l.duration}s linear infinite`,animationDelay:`${l.delay}s`}},`snow-${x}`))]}),e.jsx("style",{children:`
        body, .weather {
          margin: 0;
          padding: 0;
          width: 100vw;
          height: 100vh;
          overflow: hidden;
          background: linear-gradient(
            180deg,
            #dbeafe 0%,    
            #93c5fd 40%,   
            #3b82f6 100%   
          );
        }

        ${n.map((l,x)=>`
          @keyframes rain-fall-${x} {
            0% { transform: translateY(0); }
            100% { transform: translateY(100vh); }
          }
        `).join(`
`)}

        ${a.map((l,x)=>`
          @keyframes snow-fall-${x} {
            0% { transform: translateY(0) translateX(0); }
            50% { transform: translateY(50vh) translateX(${Math.random()*20-10}px); }
            100% { transform: translateY(100vh) translateX(${Math.random()*20-10}px); }
          }
        `).join(`
`)}
      `})]})}function hs({className:r="",...s}){return e.jsx("input",{...s,type:"checkbox",className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500 "+r})}const ge={sm:"text-sm",md:"text-lg",lg:"text-2xl"},pe={blue:"text-[#0052CC]",white:"text-white",gray:"text-gray-400"};function Qe({variant:r="short",size:s="md",color:n="blue",className:a="",...l}){const x=ge[s]||ge.md,u=pe[n]||pe.blue;let i;switch(r){case"full":i=V.NAME.FULL;break;case"copyright":i=V.COPYRIGHT.TEXT;break;case"short":default:i=V.NAME.SHORT;break}return e.jsx("span",{className:`font-semibold ${x} ${u} ${a}`,...l,children:i})}function Ze({logoSize:r="md",logoVariant:s="blue",textVariant:n="short",textSize:a="md",textColor:l="blue",showText:x=!0,showLogo:u=!0,linkTo:i="/",className:S="",..._}){const L=e.jsxs(e.Fragment,{children:[u&&e.jsx("div",{className:"relative -mt-2",children:e.jsx(Ne,{size:r,variant:s})}),x&&e.jsx(Qe,{variant:n,size:a,color:l})]});return e.jsx(w,{href:i,className:`flex items-center gap-2 flex-shrink-0 ${S}`,..._,children:L})}const K={CONTAINER_WIDTH:{DEFAULT:"max-w-7xl",ADMIN:"max-w-full",NARROW:"max-w-4xl",WIDE:"max-w-screen-2xl"},CONTAINER_PADDING:{DEFAULT:"px-6 sm:px-8 md:px-12 lg:px-16",ADMIN:"px-2 md:px-4 lg:px-6",NONE:"px-0"},ROUNDED:{SMALL:"rounded-lg",MEDIUM:"rounded-xl",LARGE:"rounded-2xl",FULL:"rounded-full"}};o.createContext();function ce({width:r="default",padding:s="default",centered:n=!1,className:a="",children:l,...x}){const u=K.CONTAINER_WIDTH[r.toUpperCase()]||K.CONTAINER_WIDTH.DEFAULT,i=K.CONTAINER_PADDING[s.toUpperCase()]||K.CONTAINER_PADDING.DEFAULT,S=n?"flex flex-col items-center":"";return e.jsx("div",{className:`${u} mx-auto ${i} ${S} ${a}`,...x,children:l})}function us(){return e.jsx("footer",{className:"bg-gradient-to-b from-gray-800 to-gray-900 text-gray-300 pt-12 pb-6 w-full",children:e.jsxs(ce,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-12 pb-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-[16px] font-semibold mb-4 text-gray-400",children:"INFORMATION"}),e.jsx(w,{href:"#",className:"text-gray-300  text-[16px] mb-2",children:"Our Plans"}),e.jsx(w,{href:"#",className:"text-gray-300  text-[16px] mb-2",children:"Help Center"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-[16px] font-semibold mb-4 text-gray-400",children:"LEGAL"}),e.jsx(w,{href:"#",className:"text-gray-300  text-[16px] mb-2",children:"Terms of Use"}),e.jsx(w,{href:"#",className:"text-gray-300  text-[16px] mb-2",children:"Privacy Policy"}),e.jsx("span",{className:"invisible mb-2",children:" "})]}),e.jsx("div",{className:"flex flex-col items-center md:items-end gap-2",children:e.jsx(w,{href:"/",className:"flex items-center gap-2 flex-shrink-0",children:e.jsx(Ne,{size:"xl",variant:"white"})})})]}),e.jsx("hr",{className:"border-gray-700 my-6"}),e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center text-gray-400 text-[16px]",children:e.jsx("span",{children:V.COPYRIGHT.FULL})})]})})}function gs(){const r=ne(),{auth:s}=r.props||{},n=r.url||"",a=o.useRef(null),[l,x]=o.useState(!1),[u,i]=o.useState(!1);o.useEffect(()=>{console.log("HeaderNavbar Debug:",{auth:s,hasUser:!!s?.user,canStudent:s?.can?.student,screenWidth:window.innerWidth,currentUrl:n})},[s,n]),o.useEffect(()=>{const C=m=>{a.current&&!a.current.contains(m.target)&&x(!1),u&&!m.target.closest("#mobile-menu")&&!m.target.closest("#mobile-menu-toggle")&&i(!1)};return(l||u)&&document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[l,u]);const _=(()=>{if(!s?.user)return null;if(Array.isArray(s.user.roles)&&s.user.roles.length>0){const C=s.user.roles[0];return typeof C=="object"?C.name||C.role||"User":C}if(Array.isArray(s.user.roles_list)&&s.user.roles_list.length>0){const C=s.user.roles_list[0];return typeof C=="object"?C.name||C.role||"User":C}return s?.can?.admin||s?.can?.administrator?"Admin":s?.can?.teacher||s?.can?.instructor?"Teacher":s?.can?.student?"Student":s.user.role?typeof s.user.role=="object"?s.user.role.name||s.user.role.role||"User":s.user.role:"User"})(),L=C=>n.startsWith(C)?"text-blue-600 font-semibold":"text-gray-700 ";return e.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white border-b border-gray-200",children:[e.jsx(ce,{children:e.jsxs("nav",{className:"flex items-center justify-between h-16 gap-2",children:[e.jsx("div",{className:"flex items-center flex-shrink-0",children:e.jsx(Ze,{logoSize:"md",logoVariant:"blue",textVariant:"short"})}),e.jsxs("div",{className:"hidden sm:flex items-center gap-1 flex-1 justify-center",style:{display:window.innerWidth>=640?"flex":"none"},children:[e.jsx(w,{href:"/home",className:`px-2 sm:px-3 py-2 rounded-xl font-medium transition-all duration-200 whitespace-nowrap ${L("/home")}`,children:"Home"}),e.jsx(w,{href:"/library",className:`px-2 sm:px-3 py-2 rounded-xl font-medium transition-all duration-200 whitespace-nowrap ${L("/library")}`,children:"Your History"}),e.jsx(w,{href:"/homophone-check",className:`px-2 sm:px-3 py-2 rounded-xl font-medium transition-all duration-200 whitespace-nowrap ${L("/homophone-check")}`,children:"Homophone Check"}),e.jsx(w,{href:"/quiz-practice",className:`px-2 sm:px-3 py-2 rounded-xl font-medium transition-all duration-200 whitespace-nowrap ${L("/quiz-practice")}`,children:"Quiz & Practice"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.user?e.jsxs(e.Fragment,{children:[Array.isArray(s.user.roles)&&s.user.roles.length>0||Array.isArray(s.user.roles_list)&&s.user.roles_list.length>0?e.jsxs(w,{href:route("dashboard"),className:"hidden sm:flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-2 px-4 rounded-xl transition shadow-sm hover:shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"Dashboard"]}):e.jsxs(w,{href:"/subscribe",className:"hidden sm:flex items-center gap-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-semibold py-2 px-4 rounded-xl transition shadow-sm hover:shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Upgrade"]}),e.jsxs("div",{className:"relative",ref:a,children:[e.jsxs("button",{onClick:()=>x(!l),className:"flex items-center gap-2 hover:bg-gray-50 hover:scale-105 hover:shadow-sm rounded-xl py-2 px-2 sm:px-3 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:[e.jsx("img",{src:"/images/person-icon.svg",className:"h-9 w-9 sm:h-10 sm:w-10 rounded-full",alt:"User avatar"}),e.jsxs("div",{className:"hidden sm:flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900 leading-tight",children:s?.user?.name}),e.jsx("span",{className:"text-xs text-gray-500 leading-tight",children:_})]}),e.jsx("svg",{className:`hidden sm:block w-4 h-4 text-gray-500 transition-transform duration-200 ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),l&&e.jsxs("div",{className:`absolute right-0 mt-2 w-72 bg-white border border-gray-200 ${K.ROUNDED.LARGE} shadow-sm z-50 overflow-hidden`,children:[e.jsx("div",{className:"px-4 py-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"/images/person-icon.svg",className:`h-12 w-12 ${K.ROUNDED.FULL} shadow-sm flex-shrink-0`,alt:"User avatar"}),e.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900 truncate",children:s?.user?.name}),e.jsx("span",{className:"text-xs text-blue-600 font-medium truncate",children:_}),e.jsxs("div",{className:"flex items-center gap-1 mt-1 flex-wrap",children:[e.jsx("span",{className:"text-xs text-gray-600 truncate",children:s?.user?.email}),s?.user?.email_verified_at?e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-[10px] font-semibold bg-green-100 text-green-800 border border-green-200 ${K.ROUNDED.SMALL} flex-shrink-0`,children:"✓ Verified"}):e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-[10px] font-semibold bg-yellow-100 text-yellow-800 border border-yellow-200 ${K.ROUNDED.SMALL} flex-shrink-0`,children:"Unverified"})]})]})]})}),!s?.user?.email_verified_at&&e.jsxs("div",{className:"px-4 py-3 bg-yellow-50 border-b border-yellow-100",children:[e.jsx("p",{className:"text-xs text-yellow-800 mb-2",children:"Please verify your email address"}),e.jsx(w,{href:route("verification.send.otp"),method:"post",as:"button",className:`w-full text-xs bg-yellow-600 hover:bg-yellow-700 hover:scale-105 hover:shadow-sm text-white font-semibold py-1.5 px-3 ${K.ROUNDED.SMALL} transition`,children:"Verify Email"})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs(w,{href:route("profile.edit"),onClick:()=>x(!1),className:"flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"My Account"]}),e.jsx("hr",{className:"my-1 border-gray-200"}),e.jsxs(w,{method:"post",href:route("logout"),as:"button",onClick:()=>x(!1),className:"flex items-center gap-3 w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition",children:[e.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{href:route("auth"),className:"hidden sm:inline-block text-gray-700  font-medium px-4 py-2 rounded-xl hover:bg-gray-50 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:"Sign In"}),e.jsx(w,{href:route("auth"),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-2 px-6 rounded-xl transition shadow-sm hover:shadow-sm",children:"Get Started"})]}),e.jsx("button",{className:"sm:hidden p-2 rounded-xl hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",id:"mobile-menu-toggle",onClick:()=>i(!u),children:e.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),u&&e.jsx("div",{id:"mobile-menu",className:"sm:hidden border-t border-gray-200 bg-white shadow-sm",children:e.jsx(ce,{className:"py-4",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(w,{href:"/home",className:`py-3 px-4 rounded-xl font-medium transition-all duration-200 ease-in-out ${L("/home")} hover:bg-gray-50`,onClick:()=>i(!1),children:"Home"}),e.jsx(w,{href:"/library",className:`py-3 px-4 rounded-xl font-medium transition-all duration-200 ease-in-out ${L("/library")} hover:bg-gray-50`,onClick:()=>i(!1),children:"Your History"}),e.jsx(w,{href:"/homophone-check",className:`py-3 px-4 rounded-xl font-medium transition-all duration-200 ease-in-out ${L("/homophone-check")} hover:bg-gray-50`,onClick:()=>i(!1),children:"Homophone Check"}),e.jsx(w,{href:"/quiz-practice",className:`py-3 px-4 rounded-xl font-medium transition-all duration-200 ease-in-out ${L("/quiz-practice")} hover:bg-gray-50`,onClick:()=>i(!1),children:"Quiz & Practice"}),s.user?e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-2 border-gray-200"}),Array.isArray(s.user.roles)&&s.user.roles.length>0||Array.isArray(s.user.roles_list)&&s.user.roles_list.length>0?e.jsx(w,{href:route("dashboard"),className:"py-3 px-4 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold text-center hover:from-blue-700 hover:to-indigo-700 transition-all",onClick:()=>i(!1),children:"Dashboard"}):e.jsx(w,{href:"/subscribe",className:"py-3 px-4 rounded-xl bg-gradient-to-r from-orange-500 to-orange-600 text-white font-semibold text-center hover:from-orange-600 hover:to-orange-700 transition-all",onClick:()=>i(!1),children:"Upgrade"}),e.jsx(w,{href:route("profile.edit"),className:"py-3 px-4 rounded-xl text-gray-700 font-medium hover:bg-gray-50 transition-all duration-200 ease-in-out",onClick:()=>i(!1),children:"My Account"}),e.jsx(w,{method:"post",href:route("logout"),as:"button",className:"py-3 px-4 rounded-xl text-red-600 font-medium text-center hover:bg-red-50 transition-all duration-200 ease-in-out",onClick:()=>i(!1),children:"Sign Out"})]}):e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-2 border-gray-200"}),e.jsx(w,{href:route("auth"),className:"py-3 px-4 rounded-xl text-gray-700 font-medium text-center hover:bg-gray-50 transition-all duration-200 ease-in-out",onClick:()=>i(!1),children:"Sign In"}),e.jsx(w,{href:route("auth"),className:"py-3 px-4 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold text-center hover:from-blue-700 hover:to-indigo-700 transition-all",onClick:()=>i(!1),children:"Get Started"})]})]})})})]})}class ps extends o.Component{constructor(n){super(n);se(this,"logErrorToService",(n,a)=>{console.error("Error logged:",{error:n.toString(),componentStack:a.componentStack,timestamp:new Date().toISOString()})});se(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});se(this,"handleReload",()=>{window.location.reload()});se(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,a){this.setState(l=>({error:n,errorInfo:a,errorCount:l.errorCount+1})),this.logErrorToService(n,a)}render(){const{hasError:n,error:a,errorInfo:l,errorCount:x}=this.state,{children:u,fallback:i,showDetails:S=!1}=this.props;return n?i?typeof i=="function"?i(a,this.handleReset):i:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxs("div",{className:"max-w-lg w-full bg-white rounded-xl shadow-sm p-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx($e,{className:"text-red-600",size:32})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Oops! Something went wrong"}),e.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["We're sorry for the inconvenience. An unexpected error occurred.",x>1&&e.jsxs("span",{className:"block mt-2 text-sm text-red-600",children:["This error has occurred ",x," times."]})]}),S&&a&&e.jsxs("details",{className:"mb-6 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 mb-2",children:"Error Details"}),e.jsxs("div",{className:"text-xs font-mono text-red-600 mt-2",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{children:"Error:"})," ",a.toString()]}),l&&e.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[e.jsx("strong",{children:"Component Stack:"}),e.jsx("pre",{className:"whitespace-pre-wrap mt-1",children:l.componentStack})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:this.handleReset,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-xl font-medium hover:bg-blue-700 transition-all duration-200 ease-in-out flex items-center justify-center gap-2",children:[e.jsx(he,{size:18}),"Try Again"]}),e.jsxs("button",{onClick:this.handleReload,className:"w-full bg-white text-gray-700 py-3 px-4 rounded-xl font-medium border border-gray-300 hover:bg-gray-50 transition-all duration-200 ease-in-out flex items-center justify-center gap-2",children:[e.jsx(he,{size:18}),"Reload Page"]}),e.jsxs("button",{onClick:this.handleGoHome,className:"w-full bg-white text-gray-700 py-3 px-4 rounded-xl font-medium border border-gray-300 hover:bg-gray-50 transition-all duration-200 ease-in-out flex items-center justify-center gap-2",children:[e.jsx(fe,{size:18}),"Go to Homepage"]})]}),e.jsx("p",{className:"mt-6 text-xs text-gray-500 text-center",children:"If this problem persists, please contact support."})]})}):u}}const Je=({size:r="md",color:s="blue",text:n=""})=>{const a={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"},l={blue:"text-blue-600",gray:"text-gray-600",white:"text-white",green:"text-green-600"};return e.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[e.jsx(ze,{className:`${a[r]} ${l[s]} animate-spin`}),n&&e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n})]})},es=({type:r="default"})=>r==="card"?e.jsxs("div",{className:"animate-pulse p-4 border border-gray-200 rounded-xl",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-3"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]}):r==="list"?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(s=>e.jsxs("div",{className:"animate-pulse flex gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},s))}):r==="text"?e.jsxs("div",{className:"animate-pulse space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]}):e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]}),fs=({type:r="spinner",minHeight:s="200px"})=>e.jsx("div",{className:"flex items-center justify-center w-full",style:{minHeight:s},children:r==="spinner"?e.jsx(Je,{size:"lg",color:"blue",text:"Loading component..."}):e.jsx(es,{type:r})});typeof window<"u"&&!window.React&&(window.React=J);function ss(){const r=ne().props||{},s=r.checkers?.data??r.checkers??r.grammar_checkers??r.grammarCheckers??[],n=r.user_homophone_accuracies??r.userHomophoneAccuracies??[],a=r.auth?.user?.id??r.auth?.id??null;r.checkers?.links;const[l,x]=o.useState(Array.isArray(s)?s:[]),[u,i]=o.useState(n),[S,_]=o.useState(!1),[L,C]=o.useState(!1),[m,z]=o.useState(null),[D,O]=o.useState([]),[j,U]=o.useState(!1),[v,Y]=o.useState(null),[M,F]=o.useState(!1),[y,I]=o.useState([]),[q,ee]=o.useState(!1);async function Q(t=null,h=null){U(!0),O([]);const p=typeof sessionStorage<"u"?sessionStorage.getItem("sessionId"):null;try{const g=await G.get("/api/user-comparison-activities",{params:{session_id:p||void 0,grammar_checker_id:t||void 0,article_id:h||void 0,limit:200},headers:{Accept:"application/json"},withCredentials:!0}),A=Array.isArray(g.data)?g.data:g.data?.data??[];O(Array.isArray(A)?A:[])}catch{O([])}finally{U(!1)}}async function Z(t=null,h=null){F(!0),Y(null);const p=typeof sessionStorage<"u"?sessionStorage.getItem("sessionId"):null,g=["/api/user-activity-stats","/api/user-activities/stats","/api/track/stats","/user-activity-stats"];for(const A of g)try{const R=await G.get(A,{params:{session_id:p||void 0,grammar_checker_id:t||void 0,article_id:h||void 0},headers:{Accept:"application/json"},withCredentials:!0}),b=R.data?.data??R.data??null;if(b&&typeof b=="object")return Y(b),F(!1),b}catch{}return F(!1),null}async function c(t=null){ee(!0),I([]);try{const h=await G.get("/api/user-audio-activities",{params:{grammar_checker_id:t||void 0},headers:{Accept:"application/json"},withCredentials:!0}),p=Array.isArray(h.data)?h.data:h.data?.data??[];I(Array.isArray(p)?p:[])}catch{I([])}finally{ee(!1)}}o.useEffect(()=>{if(!L||!m)return;const t=m.raw?.id??m.id,h=m.raw?.article_id??m.raw?.articleId??null;Q(t,h).catch(()=>{}),Z(t,h).catch(()=>{}),c(t).catch(()=>{})},[L,m]),o.useEffect(()=>{if(Array.isArray(s)&&s.length>0){x(Array.isArray(s)?s:[]),i(n);return}let h=!1;return _(!0),(async()=>{try{const p=await G.get("/grammar-checkers",{headers:{Accept:"application/json"},withCredentials:!0});if(h)return;const g=p.data,A=Array.isArray(g)?g:g.data??[];Array.isArray(A)&&x(A)}catch(p){p?.response&&[401,403,404].includes(p.response.status)||console.warn("Failed to fetch /grammar-checkers fallback:",p?.message??p)}try{const g=(await G.get("/api/user-homophone-accuracies",{headers:{Accept:"application/json"},withCredentials:!0})).data,A=Array.isArray(g)?g:g.data??[];Array.isArray(A)&&A.length>0&&i(A)}catch(p){p?.response&&[401,403,404].includes(p.response.status)||console.warn("Failed to fetch accuracies:",p?.message??p)}finally{h||_(!1)}})(),()=>{h=!0}},[]),r.article_id??r.articleId;const d=[...l||[]].filter(t=>!a||Number(t.user_id)===Number(a)).sort((t,h)=>Number(h.id)-Number(t.id)).map(t=>{const h=a?(u||[]).find(b=>Number(b.grammar_checker_id)===Number(t.id)&&Number(b.user_id)===Number(a)):null,p=h?.accuracy??null,g=h?.avg_pause_duration??h?.reading_time_seconds??t.reading_time??null;let A="0";const R=t.created_at??t.updated_at??t.date;if(R)try{A=new Date(R).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}catch{A=String(R)}return{id:t.id,title:t.title??`Article ${t.id}`,date:A,accuracy:p!=null?`${Number(p).toFixed(2)}%`:"0%",averagePause:g!=null?`${g}s`:"0s",raw:t,_acc:h??null}}),[N,k]=o.useState(1),T=10,W=Math.max(1,Math.ceil(d.length/T)),X=(N-1)*T,te=d.slice(X,X+T);return o.useEffect(()=>{N>W&&W>0&&k(W)},[W,N]),e.jsxs("div",{className:"mb-8 mt-4",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-4 mt-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Grammar Checks"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Your latest homophone checker history"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"No."}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Title"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Words"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:S?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"Loading..."})}):te.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"No grammar checks found."})}):te.map((t,h)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-200 ease-in-out",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:d.length-(X+h)}),e.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:t.title||"Untitled document"}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:t.date}),e.jsx("td",{className:"px-4 py-3 text-center text-gray-700",children:t.raw?.word_count??0}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("button",{type:"button",onClick:()=>{z(t),C(!0)},className:"rounded-xl border-2 border-blue-500 px-3 py-1 text-blue-700 hover:bg-blue-500  transition font-medium",children:"View"})})]},t.id))})]})})]})}),L&&m&&e.jsx(de,{show:L,onClose:()=>{C(!1),z(null)},maxWidth:"2xl",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Article Name: ",m.title]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Date: ",m.date]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4 text-sm text-gray-700",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-500",children:"Paragraph"}),e.jsx("div",{className:"mt-1 bg-slate-50 p-3 rounded text-sm leading-relaxed whitespace-pre-wrap break-words max-h-60 overflow-auto",children:m.raw?.paragraph??"—"})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"font-medium text-slate-500 mb-2",children:"Recent Events"}),e.jsx("div",{className:"w-full bg-white border rounded-xl",children:j?e.jsx("div",{className:"p-3 text-sm text-gray-500",children:"Loading recent events…"}):D.length===0?e.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No recent events."}):e.jsx("div",{className:"max-h-40 overflow-y-auto hide-scrollbar",children:e.jsxs("table",{className:"w-full text-sm divide-y",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"Type"}),e.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"Action"}),e.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"User word"}),e.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"Article word"})]})}),e.jsx("tbody",{children:D.map(t=>e.jsxs("tr",{className:"odd:bg-white even:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 text-xs text-gray-600",children:t.comparison_type??" "}),e.jsx("td",{className:"px-3 py-2 text-xs",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${t.action==="accept"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.action??" "})}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:t.user_word??" "}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:t.article_word??" "})]},t.id))})]})})}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-slate-600 mt-4",children:[e.jsxs("div",{children:["Replaced:"," ",e.jsx("span",{className:"font-medium text-green-700",children:D.filter(t=>t.comparison_type==="replaced"&&t.action==="accept").length}),e.jsx("span",{className:"text-gray-400",children:" (a) / "}),e.jsx("span",{className:"font-medium text-red-700",children:D.filter(t=>t.comparison_type==="replaced"&&t.action==="dismiss").length}),e.jsx("span",{className:"text-gray-400",children:" (d) "})]}),e.jsxs("div",{children:["Missing:"," ",e.jsx("span",{className:"font-medium text-green-700",children:D.filter(t=>t.comparison_type==="missing"&&t.action==="accept").length}),e.jsx("span",{className:"text-gray-400",children:" (a) / "}),e.jsx("span",{className:"font-medium text-red-700",children:D.filter(t=>t.comparison_type==="missing"&&t.action==="dismiss").length}),e.jsx("span",{className:"text-gray-400",children:" (d) "})]}),e.jsxs("div",{children:["Extra:"," ",e.jsx("span",{className:"font-medium text-green-700",children:D.filter(t=>t.comparison_type==="extra"&&t.action==="accept").length}),e.jsx("span",{className:"text-gray-400",children:" (a) / "}),e.jsx("span",{className:"font-medium text-red-700",children:D.filter(t=>t.comparison_type==="extra"&&t.action==="dismiss").length}),e.jsx("span",{className:"text-gray-400",children:" (d) "})]}),e.jsxs("div",{children:["Accuracy:"," ",e.jsx("span",{className:"font-medium text-gray-800",children:m._acc?.accuracy!=null?`${Number(m._acc.accuracy).toFixed(2)}%`:"—"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-slate-600 mt-4",children:[e.jsxs("div",{children:["Avg Pause (s):"," ",e.jsx("span",{className:"font-medium text-gray-800",children:M?"…":v?.avg_pause_duration!=null?Number(v.avg_pause_duration).toFixed(2):m._acc?.avg_pause_duration!=null?Number(m._acc.avg_pause_duration).toFixed(2):"—"})]}),e.jsxs("div",{children:["Audio Plays:"," ",e.jsx("span",{className:"font-medium text-blue-700",children:q?"…":y.filter(t=>t.activity_type==="audio_play").length||"0"})]}),e.jsxs("div",{children:["Audio Pauses:"," ",e.jsx("span",{className:"font-medium text-orange-700",children:q?"…":y.filter(t=>t.activity_type==="audio_pause").length||"0"})]}),e.jsxs("div",{children:["Reading Time (s):"," ",e.jsx("span",{className:"font-medium text-gray-800",children:m.raw?.reading_time??"0"})]})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{onClick:()=>{C(!1),z(null)},className:"rounded-xl border-2 border-gray-300 px-6 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",children:"Close"})})]})}),e.jsx("div",{className:"mt-4 px-6 py-4 border-t border-gray-100",children:W>1&&e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("button",{className:"px-3 py-1.5 rounded-xl border bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",onClick:()=>k(t=>Math.max(1,t-1)),disabled:N===1,children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:W},(t,h)=>h+1).map(t=>e.jsx("button",{className:`px-3 py-1.5 rounded-xl border transition ${t===N?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 hover:bg-gray-100"}`,onClick:()=>k(t),children:t},t))}),e.jsx("button",{className:"px-3 py-1.5 rounded-xl border bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",onClick:()=>k(t=>Math.min(W,t+1)),disabled:N===W,children:"Next"})]})})]})}typeof window<"u"&&!window.React&&(window.React=J);function bs(){const{auth:r,quizAnalysis:s}=ne().props,a=r?.user?.id,[l,x]=o.useState(null),[u,i]=o.useState(0),[S,_]=o.useState(!1),[L,C]=o.useState(null),[m,z]=o.useState(0),[D,O]=o.useState(!1),[j,U]=o.useState(null),[v,Y]=o.useState(0),[M,F]=o.useState(null),[y,I]=o.useState(!1),[q,ee]=o.useState(!0),[Q,Z]=o.useState([]),[c,E]=o.useState([]),[d,N]=o.useState([]);o.useEffect(()=>(G.get("/api/user-homophone-accuracies",{headers:{Accept:"application/json"},withCredentials:!0}).then(t=>{const h=Array.isArray(t.data)?t.data:t.data?.data??[];Z(h);const p=new Date,g=p.getMonth(),A=p.getFullYear(),b=h.filter(f=>{const $=new Date(f.created_at);return $.getMonth()===g&&$.getFullYear()===A}).map(f=>f.accuracy===null||f.accuracy===void 0||f.accuracy===""?null:typeof f.accuracy=="number"?f.accuracy:parseFloat(f.accuracy)).filter(f=>f!==null&&!isNaN(f));if(i(b.length),b.length>0){const f=b.reduce(($,B)=>$+B,0)/b.length;x(f)}else x(null)}).catch(()=>{x(null),i(0),Z([])}).finally(()=>_(!0)),()=>{}),[]),o.useEffect(()=>{G.get("/api/quiz-attempts",{headers:{Accept:"application/json"},withCredentials:!0}).then(t=>{const h=Array.isArray(t.data)?t.data:t.data?.data??[];E(h);const p=new Date,g=p.getMonth(),A=p.getFullYear(),R=h.filter(f=>!a||f.user_id===a).filter(f=>{const $=new Date(f.created_at);return $.getMonth()===g&&$.getFullYear()===A});z(R.length);const b=R.map(f=>{const $=typeof f.score=="number"?f.score:parseInt(f.score);let B=1;try{const P=JSON.parse(f.answers);Array.isArray(P)&&(B=P.length)}catch{}return B>0&&!isNaN($)?$/B*100:null}).filter(f=>f!==null&&!isNaN(f));if(b.length>0){const f=b.reduce(($,B)=>$+B,0)/b.length;C(f)}else C(null)}).catch(()=>{C(null),z(0),E([])}).finally(()=>O(!0))},[a]),o.useEffect(()=>{G.get("/api/user-homophone-accuracies",{headers:{Accept:"application/json"},withCredentials:!0}).then(t=>{const h=Array.isArray(t.data)?t.data:t.data?.data??[],p=new Date,g=p.getMonth(),A=p.getFullYear(),b=h.filter(P=>{const H=new Date(P.created_at);return H.getMonth()===g&&H.getFullYear()===A}).filter(P=>P.accuracy!==null&&P.accuracy!==void 0&&P.accuracy!==""&&P.created_at);Y(b.length),b.sort((P,H)=>new Date(P.created_at)-new Date(H.created_at));let f=null,$=null;if(b.length>1){const P=b.slice(0,-1).map(H=>typeof H.accuracy=="number"?H.accuracy:parseFloat(H.accuracy)).filter(H=>!isNaN(H));f=P.length>0?P.reduce((H,ke)=>H+ke,0)/P.length:null,$=typeof b[b.length-1].accuracy=="number"?b[b.length-1].accuracy:parseFloat(b[b.length-1].accuracy)}else b.length===1&&(f=null,$=typeof b[0].accuracy=="number"?b[0].accuracy:parseFloat(b[0].accuracy));let B=null;f!==null&&$!==null&&f!==0?B=($-f)/Math.abs(f)*100:$!==null&&f===null?B=$:$!==null&&f===0?B=$===0?0:100:B=null,U(B),F(f)}).catch(()=>{U(null),Y(0),F(null)}).finally(()=>I(!0))},[]),o.useEffect(()=>{S&&D&&y&&ee(!1)},[S,D,y]);const T=(()=>{const t={},h=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];h.forEach(g=>{t[g]={articles:0,quizzes:0}});const p=g=>{const R=new Date(g).getDay();return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][R]};return Array.isArray(Q)&&Q.filter(g=>!a||g.user_id===a).forEach(g=>{const A=p(g.created_at);t[A]&&(t[A].articles+=1)}),Array.isArray(c)&&c.filter(g=>!a||g.user_id===a).forEach(g=>{const A=p(g.created_at);t[A]&&(t[A].quizzes+=1)}),h.map(g=>({day:g,articles:t[g].articles,quizzes:t[g].quizzes}))})();o.useEffect(()=>{G.get("/api/user-comparison-activities",{headers:{Accept:"application/json"},withCredentials:!0}).then(t=>{const h=Array.isArray(t.data)?t.data:t.data?.data??[],p=new Date,g=p.getMonth(),A=p.getFullYear(),R=(a?h.filter(b=>b.user_id===a):h).filter(b=>{const f=new Date(b.created_at);return f.getMonth()===g&&f.getFullYear()===A});N(R)}).catch(()=>{N([])})},[a]);const X=(()=>{const t={incorrect:0,missing:0,correct:0,extra:0};d.forEach(p=>{p.comparison_type==="replaced"?t.incorrect+=1:p.comparison_type==="missing"?t.missing+=1:p.comparison_type==="extra"&&(t.extra+=1)});const h=d.length;return t.correct=Math.max(0,h-(t.incorrect+t.missing+t.extra)),[{id:"incorrect",label:"Incorrect",value:t.incorrect,color:"hsl(232, 70%, 50%)"},{id:"missing",label:"Missing",value:t.missing,color:"hsl(121, 70%, 50%)"},{id:"correct",label:"Correct",value:t.correct,color:"hsl(245, 70%, 50%)"},{id:"extra",label:"Extra",value:t.extra,color:"hsl(314, 70%, 50%)"}]})(),xe=()=>{const t=d.length;return t===0?"0":(d.filter(g=>g.comparison_type!=="replaced"&&g.comparison_type!=="missing"&&g.comparison_type!=="extra").length/t*100).toFixed(1)},te=d.length>0;return e.jsxs("div",{className:"mb-8 mt-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-sky-100 shadow-sm rounded-xl flex flex-col hover:shadow-sm transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Homophone Accuracy"}),e.jsx("div",{className:"text-blue-500",children:e.jsx(De,{className:"w-7 h-7"})})]}),q?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),e.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):e.jsxs("div",{children:[e.jsxs("h2",{className:`text-lg font-bold ${l!==null?l<50?"text-red-600":"text-green-600":"text-blue-700"}`,children:[l!==null?l.toFixed(2):"00.00"," %"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u>0?"Average of total articles":"No accuracy data"})]})]}),e.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-amber-100 shadow-sm rounded-xl flex flex-col hover:shadow-sm transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Average Score"}),e.jsx("div",{className:"text-blue-500",children:e.jsx(Te,{className:"w-7 h-7"})})]}),q?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),e.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):e.jsxs("div",{children:[e.jsxs("h2",{className:`text-lg font-bold ${L!==null?L<50?"text-red-600":"text-green-600":"text-gray-900"}`,children:[L!==null?L.toFixed(2):"00.00"," %"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m>0?`${m} quiz${m!==1?"zes":""} completed`:"No quiz attempts"})]})]}),e.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-emerald-100 shadow-sm rounded-xl flex flex-col hover:shadow-sm transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Performance Growth"}),e.jsx("div",{className:"text-blue-500",children:e.jsx(be,{className:"w-7 h-7"})})]}),q?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),e.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):e.jsxs("div",{children:[e.jsxs("h2",{className:`text-lg font-bold ${j!==null?j>=0?"text-green-600":"text-red-600":"text-gray-900"}`,children:[j!==null?j.toFixed(2):"00.00"," %"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Updated Daily"})]})]}),e.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-indigo-300 shadow-sm rounded-xl flex flex-col hover:shadow-sm transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Study Sessions"}),e.jsx("div",{className:"text-blue-500",children:e.jsx(Fe,{className:"w-7 h-7"})})]}),q?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),e.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-green-600",children:u+m}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total Articles & Quizzes"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"mt-6 mb-4 bg-white rounded-xl shadow-sm border w-full border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Statistics Analytics"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tracking total performance by Daily"})]})}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-blue-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Articles"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-blue-200"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Quizzes"})]})]}),e.jsx("div",{className:"w-full h-[370px]",children:e.jsx(le,{width:"100%",height:"100%",children:e.jsxs(ye,{data:T,children:[e.jsx(je,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),e.jsx(we,{dataKey:"day",tick:{fill:"#6B7280",fontSize:12},axisLine:!1,tickLine:!1}),e.jsx(ve,{tick:{fill:"#9CA3AF",fontSize:12}}),e.jsx(ie,{}),e.jsx(oe,{}),e.jsx(ae,{type:"monotone",dataKey:"articles",stroke:"#3B82F6",strokeWidth:3,name:"Articles",dot:{fill:"#3B82F6"}}),e.jsx(ae,{type:"monotone",dataKey:"quizzes",stroke:"#BFDBFE",strokeWidth:3,name:"Quizzes",dot:{fill:"#BFDBFE"}})]})})})]}),e.jsxs("div",{className:"mt-6 mb-4 bg-white rounded-xl shadow-sm border w-full border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Comparison Accuracy Breakdown"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Distribution of comparison types (this month)"})]})}),te?e.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 relative",children:[e.jsx("div",{className:"w-full h-[400px]",children:e.jsx(le,{width:"100%",height:"100%",children:e.jsxs(Re,{children:[e.jsx(Pe,{data:X,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,paddingAngle:2,dataKey:"value",label:({label:t,value:h})=>`${t}: ${h}`,children:X.map((t,h)=>e.jsx(Ie,{fill:t.color},`cell-${h}`))}),e.jsx(ie,{}),e.jsx(oe,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})}),e.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center justify-center pointer-events-none",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:[xe(),"%"]}),e.jsx("span",{className:"text-xs text-gray-500 font-medium tracking-wide",children:"Overall Accuracy"})]})]}):e.jsxs("div",{className:"w-full h-[400px] flex flex-col items-center justify-center bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"No comparison data available"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Complete some grammar checks to see accuracy breakdown"})]})]})]}),e.jsx(ss,{})]})}function ys({onConfirmed:r,children:s}){const[n,a]=o.useState(!1),l=o.useRef(),[x,u]=o.useState(localStorage.getItem("lang")||"en"),[i,S]=o.useState({}),[_,L]=o.useState(!1);o.useEffect(()=>{const M=()=>{u(localStorage.getItem("lang")||"en")};return window.addEventListener("lang-changed",M),window.addEventListener("storage",M),()=>{window.removeEventListener("lang-changed",M),window.removeEventListener("storage",M)}},[]);const{data:C,setData:m,post:z,processing:D,reset:O,errors:j}=Oe({password:""}),U=()=>{a(!0),setTimeout(()=>l.current?.focus(),250)},v=()=>{a(!1),O(),S({})},Y=M=>{M.preventDefault(),L(!0),G.post(route("password.confirm"),{password:C.password}).then(F=>{v(),O(),S({}),setTimeout(()=>{r()},100)}).catch(F=>{if(F.response&&F.response.data&&F.response.data.errors){const y={};Object.keys(F.response.data.errors).forEach(I=>{y[I]=F.response.data.errors[I][0]}),S(y),m("password","")}l.current?.focus()}).finally(()=>L(!1))};return e.jsxs("span",{children:[e.jsx("span",{onClick:U,children:s}),e.jsx(de,{show:n,onClose:v,maxWidth:"lg",children:e.jsxs("form",{className:"p-6",onSubmit:Y,children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Security Confirmation"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"For your security, please confirm your password to continue."}),e.jsxs("div",{className:"mt-6",children:[e.jsx(Ke,{htmlFor:"password",value:"Enter Password"}),e.jsx(Ve,{id:"password",ref:l,type:"password",name:"password",value:C.password,onChange:M=>m("password",M.target.value),className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm",placeholder:"Enter your Password"}),e.jsx(Xe,{message:i.password,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[e.jsx("button",{type:"button",onClick:v,className:"rounded-xl border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold disabled:opacity-60",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:_,className:"rounded-xl px-9 py-1 bg-blue-600 text-white font-semibold hover:bg-blue-700 transition disabled:opacity-60",children:_?"Confirming...":"Confirm"})]})]})})]})}typeof window<"u"&&!window.React&&(window.React=J);function js(){const{auth:r,quizSummary:s,quizDaily:n,recentQuizzes:a,quizChange:l=[]}=ne().props,[x,u]=o.useState(()=>r?.can?.student?!0:typeof window<"u"&&window.__canAccessLibrary!==void 0?window.__canAccessLibrary:null);o.useEffect(()=>{if(x!==null||!r?.user)return;let m=!1;return(async()=>{try{const z=typeof window<"u"&&window.axios,D=z?await window.axios.get("/library",{headers:{"X-Requested-With":"XMLHttpRequest"},validateStatus:()=>!0}):await fetch("/library",{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}}),O=z?D.status===200:D.ok;m||(u(O),typeof window<"u"&&(window.__canAccessLibrary=O))}catch{m||(u(!1),typeof window<"u"&&(window.__canAccessLibrary=!1))}})(),()=>{m=!0}},[r?.user?.id,x]);const i=o.useMemo(()=>(Array.isArray(n)?n:[{day:"Monday",inProgress:80,completed:90},{day:"Tuesday",inProgress:60,completed:45},{day:"Wednesday",inProgress:70,completed:60},{day:"Thursday",inProgress:40,completed:40},{day:"Friday",inProgress:65,completed:80},{day:"Saturday",inProgress:45,completed:65},{day:"Sunday",inProgress:50,completed:70}]).map(z=>({day:z.day,accepts:Number(z.completed??z.accepts??0),ignores:Number(z.inProgress??z.ignores??0),avgScore:Number(z.avgScore??0)})),[n]),S=o.useMemo(()=>i.map(m=>({day:m.day,completed:m.accepts,avgScore:m.avgScore??0})),[i]),_=o.useMemo(()=>Array.isArray(a)&&a.length?a:[{id:"#DF429",date:"April 28, 2016",status:"Complete",color:"green"},{id:"#HTY274",date:"October 30, 2017",status:"Complete",color:"green"},{id:"#LKE600",date:"May 29, 2017",status:"In Progress",color:"yellow"},{id:"#HRP447",date:"May 20, 2015",status:"Cancelled",color:"red"},{id:"#HRP448",date:"May 20, 2015",status:"Cancelled",color:"red"}],[a]),L={green:"bg-green-100 text-green-700",yellow:"bg-yellow-100 text-yellow-700",red:"bg-red-100 text-red-700"},C=[{title:"My Quizzes",subtitle:"Total quizzes",value:Number(s?.total??0),icon:Be,color:"text-blue-500",borderColor:"border-blue-100",bgColor:"bg-blue-50"},{title:"Quizzes Completed",subtitle:"Completed total quizzes",value:Number(s?.completed??0),icon:We,color:"text-green-500",borderColor:"border-green-100",bgColor:"bg-green-50"},{title:"Avg Score (7d)",subtitle:"Average score over last 7 days",value:`${Math.round(Number(s?.avgScore7d??0))}%`,icon:be,color:"text-orange-500",borderColor:"border-orange-100",bgColor:"bg-orange-50"}];return e.jsx("div",{className:"max-w-7xl mx-auto px-2 mb-12",children:r.user?e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"space-y-3 mb-9",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-600 text-start",children:"Quiz Practices for Students"}),e.jsx("p",{className:"text-gray-600 text-md text-start",children:"SorSer's Quiz Maker offers students ready-made quizzes designed for exams, lessons, and daily practice."})]}),e.jsxs("section",{className:`${x===!1?"blur-sm pointer-events-none":""}`,children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:C.map((m,z)=>{const D=m.icon;return e.jsxs("div",{className:`bg-white px-3 pb-2 pt-3 border-l-4 ${m.borderColor} shadow-sm rounded-xl flex flex-col hover:shadow-sm transition-all duration-200`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:m.title}),e.jsx("div",{className:m.color,children:e.jsx(D,{className:"w-7 h-7"})})]}),e.jsxs("div",{className:"",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:m.value}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m.subtitle})]})]},z)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Completed Quiz Analysis"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tracking total quizzes by Daily"})]})}),e.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Completed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-200"}),e.jsx("span",{className:"text-sm text-gray-600",children:"In Progress"})]})]}),e.jsx("div",{className:"h-[280px]",children:e.jsx(le,{width:"100%",height:"100%",children:e.jsxs(ye,{data:S,children:[e.jsx(je,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),e.jsx(we,{dataKey:"day",tick:{fill:"#6B7280",fontSize:12},axisLine:!1,tickLine:!1}),e.jsx(ve,{tick:{fill:"#9CA3AF",fontSize:12}}),e.jsx(ie,{}),e.jsx(oe,{}),e.jsx(ae,{type:"monotone",dataKey:"completed",stroke:"#3B82F6",strokeWidth:3,name:"Completed",dot:{fill:"#3B82F6"}}),e.jsx(ae,{type:"monotone",dataKey:"avgScore",stroke:"#10B981",strokeWidth:3,name:"Avg Score (%)",dot:{fill:"#10B981"}})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Quizzes"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Your latest quiz history"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Serial No."}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Score"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_.map(m=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-200 ease-in-out",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:m.id}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:m.date}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:m.score??"-"}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded-xl ${L[m.color]}`,title:`Score: ${m.score??"-"}%`,children:m.status})})]},m.id))})]})})]})]})]}),x===!1&&e.jsx("div",{className:"absolute inset-0 bg-opacity-30 flex items-center justify-center z-10 rounded-xl",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 w-full max-w-xl mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"Upgrade to Access Quiz Practices"}),e.jsx("p",{className:"text-gray-600 text-base leading-relaxed mb-6",children:"You need the Student permission to access Quiz Practices. Contact your administrator or upgrade your account."}),e.jsx("div",{className:"space-y-3",children:e.jsx(w,{href:route("profile.edit"),className:"block w-full px-4 py-3 border-2 border-blue-500 rounded-xl text-blue-600 font-medium hover:bg-blue-50 transition-all duration-200 ease-in-out",children:"Go to Profile"})}),e.jsx("div",{className:"mt-6",children:e.jsx(w,{method:"post",href:route("logout"),as:"button",children:e.jsx("span",{className:"text-red-500 font-medium hover:underline",children:"Sign Out"})})})]})})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-semibold text-gray-600",children:["Triple your productivity with the"," ",e.jsx("span",{className:"text-blue-500 font-semibold",children:"Quiz Practices"})]}),e.jsx("p",{className:"text-gray-600 mt-3 max-w-4xl mx-auto leading-relaxed",children:"SorSer's Quiz Maker offers students ready-made quizzes designed for exams, lessons, and daily practice. Each quiz is customized based on the student's role and subject to make learning more effective."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-9",children:[e.jsxs("div",{className:"bg-gray-100 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(He,{className:"text-pink-500",size:28}),e.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Website at Every Step"})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"SorSer's application helps students at every step by providing quizzes made by Teachers. Students can take quizzes, check results, and get instant feedback."}),e.jsxs("div",{className:"bg-white border rounded-xl p-4",children:[e.jsx("p",{className:"text-gray-500 text-sm font-medium mb-2",children:"Quiz Example:"}),e.jsxs("div",{className:"p-3 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"font-medium text-gray-800 mb-2",children:"What key difference distinguishes isotopes?"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[e.jsx("li",{children:e.jsx("span",{className:"underline decoration-red-500 decoration-2 underline-offset-4",children:"Different electrons"})}),e.jsx("li",{children:e.jsx("span",{className:"underline decoration-green-500 decoration-2 underline-offset-4",children:e.jsx("strong",{children:"Different neutrons"})})})]})]})]})]}),e.jsxs("div",{className:"space-y-9",children:[e.jsxs("div",{className:"bg-gray-100 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ue,{className:"text-orange-500",size:28}),e.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Lightning Fast"})]}),e.jsx("p",{className:"text-gray-600",children:"Access quizzes in seconds. No setup needed — just log in and start practicing instantly."})]}),e.jsxs("div",{className:"bg-gray-100 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ye,{className:"text-pink-500",size:28}),e.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Features for Everyone"})]}),e.jsxs("p",{className:"text-gray-600",children:["Teachers can"," ",e.jsx(w,{href:"/quizzes",className:"text-blue-600 hover:underline transition-all duration-200 ease-in-out hover:scale-105",children:"create and manage quizzes"}),", while students review answers and track progress — all in one platform."]})]})]})]})]})})}function ws({currentQuiz:r,currentQuestionIdx:s,userAnswers:n=[],showResult:a,reviewMode:l,score:x,onAnswerChange:u,onNext:i,onPrev:S,onSubmit:_,onRestart:L,onDone:C,onStartAgain:m,setCurrentQuestionIdx:z,setReviewMode:D,setQuizStarted:O}){const[j,U]=J.useState(!1),[v,Y]=J.useState(null),[M,F]=J.useState(!1);if(J.useEffect(()=>{U(!1),Y(null),F(!1)},[s]),!r)return null;const y=r.questions[s],I=c=>{Y(c)},q=()=>{if(!v)return;u(s,v);let c=!1;if(y.type==="Checkboxes"){const E=Array.isArray(y.correct_answer)?y.correct_answer.sort():[],d=Array.isArray(v)?[...v].sort():[];c=JSON.stringify(E)===JSON.stringify(d)}else if(y.type==="Matching"){const E=y.correct_answer||[],d=v||[];c=E.every(N=>d.find(k=>k.left===N.left&&k.right===N.right))&&d.length===E.length}else c=String(v).trim().toLowerCase()===String(y.correct_answer).trim().toLowerCase();F(c),U(!0)},ee=()=>{U(!1),Y(null),s<r.questions.length-1?i():_()},Q=()=>{O(!1)},Z=()=>v?Array.isArray(v)?y.type==="Matching"?v.length>0&&v.every(c=>c.right):v.length>0:!0:!1;return e.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col",children:[!a&&e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("button",{onClick:Q,className:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 hover:scale-105 hover:shadow-sm rounded-xl transition-all duration-200 ease-in-out",children:e.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("div",{className:"flex-1 mx-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 h-3 rounded-xl overflow-hidden",children:e.jsx(re.div,{className:"bg-green-500 h-full rounded-xl",initial:{width:0},animate:{width:`${(s+1)/r.questions.length*100}%`},transition:{duration:.3}})}),e.jsxs("span",{className:"text-sm font-semibold text-gray-600 min-w-[40px]",children:[s+1,"/",r.questions.length]})]})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 flex items-center justify-center",children:e.jsx("div",{className:"w-full max-w-2xl",children:y&&e.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:y.text}),y.description&&e.jsx("p",{className:"text-base text-gray-600 mb-2",children:y.description})]}),e.jsxs("div",{className:"space-y-3",children:[y.type==="Multiple Choice"&&y.options.map((c,E)=>{const d=v===c,N=["A","B","C","D","E","F"];return e.jsxs("button",{onClick:()=>!j&&I(c),disabled:j,className:`w-full flex items-center p-4 rounded-xl border-2 transition-all text-left ${j&&d?M?"bg-green-100 border-green-500":"bg-red-100 border-red-500":d?"bg-blue-50 border-blue-500":"bg-white border-gray-300 hover:border-gray-400 hover:bg-gray-50"} ${j?"cursor-not-allowed":"cursor-pointer"}`,children:[e.jsx("span",{className:`w-10 h-10 flex items-center justify-center rounded-xl font-bold text-lg mr-4 ${j&&d?M?"bg-green-500 text-white":"bg-red-500 text-white":d?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:N[E]}),e.jsx("span",{className:"text-lg text-gray-800",children:c})]},E)}),y.type==="True/False"&&["True","False"].map((c,E)=>{const d=v===c;return e.jsxs("button",{onClick:()=>!j&&I(c),disabled:j,className:`w-full flex items-center justify-between p-5 rounded-xl border-3 transition-all ${j&&d?M?"bg-green-100 border-green-500":"bg-red-100 border-red-500":d?"bg-blue-50 border-blue-500 border-3":"bg-white border-2 border-gray-300 hover:border-gray-400 hover:bg-gray-50"} ${j?"cursor-not-allowed":"cursor-pointer"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[c==="True"?e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${j&&d?M?"bg-green-500":"bg-red-500":d?"bg-blue-500":"bg-green-50 border-2 border-green-300"}`,children:e.jsx("svg",{className:`w-7 h-7 ${d||j?"text-white":"text-green-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}):e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${j&&d?M?"bg-green-500":"bg-red-500":d?"bg-blue-500":"bg-red-50 border-2 border-red-300"}`,children:e.jsx("svg",{className:`w-7 h-7 ${d||j?"text-white":"text-red-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"text-xl font-bold text-gray-800",children:c})]}),e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${d?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:d&&e.jsx("div",{className:"w-3 h-3 rounded-full bg-white"})})]},E)}),y.type==="Checkboxes"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-500 mb-2 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Select all that apply"]}),y.options.map((c,E)=>{const d=Array.isArray(v)?v:[],N=d.includes(c);return e.jsxs("button",{onClick:()=>{if(j)return;let k=[...d];N?k=k.filter(T=>T!==c):k.push(c),I(k)},disabled:j,className:`w-full flex items-center gap-4 p-4 rounded-xl border-2 transition-all text-left ${j&&N?"bg-green-50 border-green-500":N?"bg-blue-50 border-blue-500":"bg-white border-gray-300 hover:border-gray-400 hover:bg-gray-50"} ${j?"cursor-not-allowed":"cursor-pointer"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-xl border-2 flex items-center justify-center flex-shrink-0 transition-all ${j&&N?"bg-green-500 border-green-500":N?"bg-blue-500 border-blue-500":"border-gray-400 bg-white"}`,children:N&&e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:"text-lg text-gray-800 flex-1",children:c})]},E)})]}),y.type==="Fill-in-the-blank"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-500 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Type your answer"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:v||"",onChange:c=>I(c.target.value),disabled:j,className:`w-full px-6 py-5 border-2 text-gray-800 text-lg focus:outline-none transition-all rounded-xl ${j?M?"border-green-500 bg-green-50":"border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500 bg-white"} disabled:bg-gray-100`,placeholder:"Type your answer here..."}),v&&!j&&e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})})]})]}),y.type==="Matching"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-500 mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Match each item with its pair"]}),y.options.map((c,E)=>e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 px-5 py-4 bg-gradient-to-r from-blue-50 to-blue-100 text-gray-800 text-base border-2 border-blue-200 rounded-xl font-semibold shadow-sm",children:c.left}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("select",{value:Array.isArray(v)&&v.find(d=>d.left===c.left)?.right||"",onChange:d=>{const k=(Array.isArray(v)?[...v]:[]).filter(T=>T.left!==c.left);d.target.value&&k.push({left:c.left,right:d.target.value}),I(k)},disabled:j,className:`w-full px-5 py-4 border-2 text-gray-800 text-base rounded-xl focus:outline-none transition-all appearance-none cursor-pointer ${j?"bg-gray-100 border-gray-300":Array.isArray(v)&&v.find(d=>d.left===c.left)?.right?"bg-green-50 border-green-500":"bg-white border-gray-300 hover:border-blue-500"} disabled:cursor-not-allowed`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5em 1.5em",paddingRight:"3rem"},children:[e.jsx("option",{value:"",className:"text-gray-400",children:"Select match..."}),y.options.map((d,N)=>e.jsx("option",{value:d.right,children:d.right},N))]})})]})},E))]})]})]})})}),j&&e.jsx(re.div,{initial:{y:100},animate:{y:0},className:`${M?"bg-green-100":"bg-red-100"} border-t-2 ${M?"border-green-500":"border-red-500"}`,children:e.jsxs("div",{className:"max-w-4xl mx-auto p-6 flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center flex-shrink-0 ${M?"bg-green-500":"bg-red-500"}`,children:M?e.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-2xl font-bold ${M?"text-green-800":"text-red-800"}`,children:M?"Correct":"Correct answer:"}),!M&&e.jsx("p",{className:"text-lg text-red-700 mt-1",children:y.type==="Checkboxes"&&Array.isArray(y.correct_answer)?y.correct_answer.join(", "):y.type==="Matching"&&Array.isArray(y.correct_answer)?y.correct_answer.map(c=>`${c.left} = ${c.right}`).join("; "):String(y.correct_answer)})]})]}),e.jsx("button",{onClick:ee,className:`px-8 py-3 rounded-full font-bold text-white text-lg flex-shrink-0 ${M?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} transition-all duration-200 ease-in-out`,children:s===r.questions.length-1?"Finish":"Continue"})]})}),!j&&e.jsx("div",{className:"p-6 border-t bg-white",children:e.jsx("div",{className:"max-w-4xl mx-auto flex justify-end",children:e.jsx("button",{onClick:q,disabled:!Z(),className:`px-8 py-4 rounded-full font-bold text-white text-lg transition-all ${Z()?"bg-green-600 hover:bg-green-700":"bg-gray-300 cursor-not-allowed"}`,children:"Check"})})})]}),a&&!l&&e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-8",children:e.jsxs("div",{className:"w-full max-w-md text-center",children:[e.jsx(re.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"mb-8",children:e.jsx("div",{className:"w-32 h-32 mx-auto rounded-full bg-green-500 flex items-center justify-center",children:e.jsx("svg",{className:"w-20 h-20 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Quiz Complete"}),e.jsxs("p",{className:"text-2xl text-gray-600 mb-12",children:["Your final score is ",x,"/",r.questions.length," (",Math.round(x/r.questions.length*100),"%)"]}),e.jsxs("div",{className:"space-y-3 mb-8",children:[e.jsx("button",{onClick:()=>D(!0),className:"w-full py-4 px-6 rounded-full border-2 border-gray-300 text-gray-700 font-semibold text-lg hover:bg-gray-50 transition-all duration-200 ease-in-out",children:"Review"}),e.jsx("button",{onClick:m,className:"w-full py-4 px-6 rounded-full border-2 border-gray-300 text-gray-700 font-semibold text-lg hover:bg-gray-50 transition-all duration-200 ease-in-out",children:"Restart"})]}),e.jsx("div",{className:"pt-8 border-t",children:e.jsx("button",{onClick:C,className:"text-blue-600 font-semibold hover:underline transition-all duration-200 ease-in-out hover:scale-105",children:"Quit"})})]})}),a&&l&&e.jsxs("div",{className:"min-h-screen bg-white overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b z-10 p-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between",children:[e.jsx("button",{onClick:()=>D(!1),className:"text-gray-600 ",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Answers Review"}),e.jsx("button",{onClick:Q,className:"text-gray-600 ",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"max-w-3xl mx-auto p-6 pb-20 space-y-6",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsxs("p",{className:"text-lg text-gray-600",children:["Score: ",e.jsxs("span",{className:"font-bold text-gray-800",children:[x,"/",r.questions.length]})]})}),r.questions.map((c,E)=>{const d=n[E]||{},N=!!d.isCorrect;return e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:e.jsxs("div",{className:`p-4 ${N?"bg-green-50":"bg-white"}`,children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 ${N?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:N?"✓":"✗"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-gray-500 text-sm font-semibold",children:[E+1,"."]}),e.jsx("span",{className:"text-xs font-semibold text-blue-500 bg-blue-100 px-2 py-0.5 rounded-full",children:c.type})]}),e.jsx("p",{className:"text-gray-800 font-semibold text-base mt-1",children:c.text})]}),N?e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-green-500 text-white",children:"Correct"}):e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-red-500 text-white",children:"Incorrect"})]}),e.jsxs("div",{className:"pl-9 space-y-2 text-sm",children:[c.type==="True/False"&&e.jsxs("div",{children:[e.jsxs("p",{children:["Your answer:"," ",e.jsx("span",{className:`font-semibold ${d.answer===c.correct_answer?"text-green-600":"text-red-600"}`,children:String(d.answer)})]}),e.jsxs("p",{children:["Correct answer:"," ",e.jsx("span",{className:"font-semibold text-green-600",children:String(c.correct_answer)})]})]}),c.type==="Multiple Choice"&&c.options?.map((k,T)=>{const W=d.answer===k,X=c.correct_answer===k;return!W&&!X?null:e.jsx("div",{className:`px-3 py-2 rounded-xl border ${X?"border-green-400 bg-green-50 text-green-700":W?"border-red-400 bg-red-50 text-red-700":"border-gray-200"}`,children:k},T)}),(c.type==="Checkbox"||c.type==="Checkboxes")&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold",children:"Your answer:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(Array.isArray(d.answer)?d.answer:[]).map((k,T)=>e.jsx("span",{className:"px-2 py-1 rounded-xl bg-red-50 border border-red-400 text-red-700",children:k},T)),(!d.answer||d.answer.length===0)&&e.jsx("span",{className:"text-gray-400",children:"—"})]}),e.jsx("p",{className:"font-semibold mt-1",children:"Correct answer:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(Array.isArray(c.correct_answer)?c.correct_answer:[]).map((k,T)=>e.jsx("span",{className:"px-2 py-1 rounded-xl bg-green-50 border border-green-400 text-green-700",children:k},T))})]}),(c.type==="Fill-in"||c.type==="Fill-in-the-blank")&&e.jsxs("div",{children:[e.jsxs("p",{children:["Your answer:"," ",e.jsx("span",{className:`font-semibold ${d.answer?.toLowerCase()===c.correct_answer?.toLowerCase()?"text-green-600":"text-red-600"}`,children:d.answer||"—"})]}),e.jsxs("p",{children:["Correct answer:"," ",e.jsx("span",{className:"font-semibold text-green-600",children:c.correct_answer})]})]}),c.type==="Matching"&&e.jsxs("div",{className:"space-y-2",children:[d.answer&&e.jsxs("div",{className:`p-3 rounded-xl border ${N?"border-green-400 bg-green-50":"border-red-300 bg-red-50"}`,children:[e.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Your answer:"}),Array.isArray(d.answer)&&d.answer.map((k,T)=>e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:k.left}),e.jsxs("span",{children:["= ",k.right]})]},T))]}),e.jsxs("div",{className:"p-3 rounded-xl border border-green-500 bg-green-50",children:[e.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Correct answer:"}),Array.isArray(c.correct_answer)&&c.correct_answer.map((k,T)=>e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:k.left}),e.jsxs("span",{children:["= ",k.right]})]},T))]})]})]})]})},E)})]})]})]})}function vs({label:r,value:s,icon:n,color:a="text-blue-500",borderColor:l="border-blue-100",bgColor:x="bg-blue-50",description:u="",className:i=""}){const S=Ge[n]||qe;return e.jsxs("div",{className:`bg-white px-3 pb-2 pt-3 border-l-4 ${l} shadow-sm rounded-xl flex flex-col hover:shadow-sm transition-all duration-200 ${i}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:r}),e.jsx("div",{className:`${x} p-2 rounded-xl`,children:e.jsx(S,{className:`w-7 h-7 ${a}`})})]}),e.jsx("h2",{className:"text-lg font-bold text-gray-900 mt-1",children:s}),u&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u})]})}export{Ne as A,V as B,ds as C,ps as E,us as F,gs as H,Ke as I,ns as L,de as M,ce as P,ws as Q,ms as R,os as S,Ve as T,ls as a,cs as b,is as c,Xe as d,xs as e,hs as f,Ze as g,K as h,fs as i,bs as j,ys as k,js as l,vs as m};
