var e=Object.defineProperty,s=(s,t,r)=>((s,t,r)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r)(s,"symbol"!=typeof t?t+"":t,r);import{j as t,r,R as a}from"../vendor/vendor-react.CSh4geB6.js";import{L as n,u as l,a as i}from"../vendor/vendor-inertia.HwN2lMYo.js";import{K as o,h as c,O as d,z as x,B as m,Z as h,R as u,A as g,C as p,T as b,a as y,b as f,H as j,L as N,c as v,d as w,e as k,f as C,g as A,i as _}from"../vendor/vendor-ui.wXUDVBjR.js";import"../vendor/vendor-utils.BR2dU08x.js";import{a as S}from"../vendor/vendor-common.B_9lrMAm.js";import{L}from"./components-homophone.BmTr8BPi.js";import{m as z}from"../vendor/vendor-animation.B6GxcyWq.js";function M(e){return t.jsx("svg",{...e,viewBox:"0 0 316 316",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M305.8 81.125C305.77 80.995 305.69 80.885 305.65 80.755C305.56 80.525 305.49 80.285 305.37 80.075C305.29 79.935 305.17 79.815 305.07 79.685C304.94 79.515 304.83 79.325 304.68 79.175C304.55 79.045 304.39 78.955 304.25 78.845C304.09 78.715 303.95 78.575 303.77 78.475L251.32 48.275C249.97 47.495 248.31 47.495 246.96 48.275L194.51 78.475C194.33 78.575 194.19 78.725 194.03 78.845C193.89 78.955 193.73 79.045 193.6 79.175C193.45 79.325 193.34 79.515 193.21 79.685C193.11 79.815 192.99 79.935 192.91 80.075C192.79 80.285 192.71 80.525 192.63 80.755C192.58 80.875 192.51 80.995 192.48 81.125C192.38 81.495 192.33 81.875 192.33 82.265V139.625L148.62 164.795V52.575C148.62 52.185 148.57 51.805 148.47 51.435C148.44 51.305 148.36 51.195 148.32 51.065C148.23 50.835 148.16 50.595 148.04 50.385C147.96 50.245 147.84 50.125 147.74 49.995C147.61 49.825 147.5 49.635 147.35 49.485C147.22 49.355 147.06 49.265 146.92 49.155C146.76 49.025 146.62 48.885 146.44 48.785L93.99 18.585C92.64 17.805 90.98 17.805 89.63 18.585L37.18 48.785C37 48.885 36.86 49.035 36.7 49.155C36.56 49.265 36.4 49.355 36.27 49.485C36.12 49.635 36.01 49.825 35.88 49.995C35.78 50.125 35.66 50.245 35.58 50.385C35.46 50.595 35.38 50.835 35.3 51.065C35.25 51.185 35.18 51.305 35.15 51.435C35.05 51.805 35 52.185 35 52.575V232.235C35 233.795 35.84 235.245 37.19 236.025L142.1 296.425C142.33 296.555 142.58 296.635 142.82 296.725C142.93 296.765 143.04 296.835 143.16 296.865C143.53 296.965 143.9 297.015 144.28 297.015C144.66 297.015 145.03 296.965 145.4 296.865C145.5 296.835 145.59 296.775 145.69 296.745C145.95 296.655 146.21 296.565 146.45 296.435L251.36 236.035C252.72 235.255 253.55 233.815 253.55 232.245V174.885L303.81 145.945C305.17 145.165 306 143.725 306 142.155V82.265C305.95 81.875 305.89 81.495 305.8 81.125ZM144.2 227.205L100.57 202.515L146.39 176.135L196.66 147.195L240.33 172.335L208.29 190.625L144.2 227.205ZM244.75 114.995V164.795L226.39 154.225L201.03 139.625V89.825L219.39 100.395L244.75 114.995ZM249.12 57.105L292.81 82.265L249.12 107.425L205.43 82.265L249.12 57.105ZM114.49 184.425L96.13 194.995V85.305L121.49 70.705L139.85 60.135V169.815L114.49 184.425ZM91.76 27.425L135.45 52.585L91.76 77.745L48.07 52.585L91.76 27.425ZM43.67 60.135L62.03 70.705L87.39 85.305V202.545V202.555V202.565C87.39 202.735 87.44 202.895 87.46 203.055C87.49 203.265 87.49 203.485 87.55 203.695V203.705C87.6 203.875 87.69 204.035 87.76 204.195C87.84 204.375 87.89 204.575 87.99 204.745C87.99 204.745 87.99 204.755 88 204.755C88.09 204.905 88.22 205.035 88.33 205.175C88.45 205.335 88.55 205.495 88.69 205.635L88.7 205.645C88.82 205.765 88.98 205.855 89.12 205.965C89.28 206.085 89.42 206.225 89.59 206.325C89.6 206.325 89.6 206.325 89.61 206.335C89.62 206.335 89.62 206.345 89.63 206.345L139.87 234.775V285.065L43.67 229.705V60.135ZM244.75 229.705L148.58 285.075V234.775L219.8 194.115L244.75 179.875V229.705ZM297.2 139.625L253.49 164.795V114.995L278.85 100.395L297.21 89.825V139.625H297.2Z"})})}const $=r.createContext(),F=({children:e})=>{const[s,a]=r.useState(!1);return t.jsx($.Provider,{value:{open:s,setOpen:a,toggleOpen:()=>{a(e=>!e)}},children:t.jsx("div",{className:"relative",children:e})})};function E({active:e=!1,className:s="",children:r,...a}){return t.jsx(n,{...a,className:"inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium leading-5 transition duration-150 ease-in-out focus:outline-none "+(e?"border-indigo-400 text-gray-900 focus:border-indigo-700":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700")+s,children:r})}function T({active:e=!1,className:s="",children:r,...a}){return t.jsx(n,{...a,className:`flex w-full items-start border-l-4 py-2 pe-4 ps-3 ${e?"border-indigo-400 bg-indigo-50 text-indigo-700 focus:border-indigo-700 focus:bg-indigo-100 focus:text-indigo-800":"border-transparent text-gray-600 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-800 focus:border-gray-300 focus:bg-gray-50 focus:text-gray-800"} text-base font-medium transition duration-150 ease-in-out focus:outline-none ${s}`,children:r})}function I({lang:e,setLang:s}){const[a,n]=r.useState(!1),l=r.useRef(null);r.useEffect(()=>{function e(e){l.current&&!l.current.contains(e.target)&&n(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const i=e=>{s(e),localStorage.setItem("lang",e),window.dispatchEvent(new Event("lang-changed")),n(!1)};return t.jsxs("div",{className:"nav-item dropdown position-relative border rounded-[10px] hover:shadow-md",ref:l,children:[t.jsxs("button",{className:"nav-link btn btn-link d-flex align-items-center p-2 bg-transparent",onClick:()=>n(e=>!e),style:{outline:"none",boxShadow:"none"},children:[t.jsxs("span",{className:"mx-1 text-sm font-semibold flex items-center gap-1",children:[t.jsx("span",{children:(o=e,"en"===o?t.jsx("span",{className:"fi fi-us",title:"English"}):"kh"===o?t.jsx("span",{className:"fi fi-kh",title:"Khmer"}):null)}),t.jsx("span",{children:"en"===e?"English":"ភាសាខ្មែរ"})]}),t.jsx("i",{className:"fas fa-chevron-down ml-[0.1rem] transition-transform transform scale-[0.7] "+(a?"rotate-180":"")})]}),a&&t.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white border border-gray-200 rounded-xl shadow-lg z-50",children:t.jsxs("div",{className:"px-2 py-2 space-y-1",children:[t.jsxs("button",{className:`flex items-center gap-2 w-full text-left px-4 py-2 text-sm ${"en"===e?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"} rounded-lg transition`,onClick:()=>i("en"),children:[t.jsx("span",{className:"fi fi-us",title:"English"}),t.jsx("span",{children:"English"})]}),t.jsxs("button",{className:`flex items-center gap-2 w-full text-left px-4 py-2 text-sm ${"kh"===e?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"} rounded-lg transition`,onClick:()=>i("kh"),children:[t.jsx("span",{className:"fi fi-kh",title:"Khmer"}),t.jsx("span",{children:"ភាសាខ្មែរ"})]})]})})]});var o}function P(e){return t.jsx("section",{className:"content-header",children:t.jsx("div",{className:"container-fluid",children:t.jsxs("div",{className:"row mb-2",children:[t.jsx("div",{className:"col-sm-6",children:t.jsx("h1",{children:e?.header})}),t.jsx("div",{className:"col-sm-6",children:t.jsx("ol",{className:"breadcrumb float-sm-right",children:e?.links&&e?.links.map((e,s)=>e?.url?t.jsx("li",{className:"breadcrumb-item",children:t.jsx(n,{href:route("dashboard"),children:e?.title},s)},s):t.jsx("li",{className:"breadcrumb-item active",children:e?.title},s))})})]})})})}function R({links:e}){return e?.length>1?t.jsx("ul",{className:"pagination pagination-sm m-0 float-right",children:e.map((e,s)=>t.jsx("li",{className:`page-item ${e.active?"active":""} ${null===e.url?"disabled":""}`,children:e.url?t.jsx(n,{className:"page-link",href:e.url,dangerouslySetInnerHTML:{__html:e.label}}):t.jsx("span",{className:"page-link",dangerouslySetInnerHTML:{__html:e.label}})},s))}):null}function D({children:e,show:s=!1,maxWidth:r="2xl",closeable:a=!0,onClose:n=()=>{}}){const l={sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"}[r];return t.jsx(o,{show:s,leave:"duration-200",children:t.jsxs(c,{as:"div",id:"modal",className:"fixed inset-0 z-50 flex transform items-center overflow-y-auto px-4 py-6 transition-all sm:px-0",onClose:()=>{a&&n()},children:[t.jsx(d,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:t.jsx("div",{className:"absolute inset-0 bg-gray-500/75"})}),t.jsx(d,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:t.jsx(x,{className:`mb-6 transform overflow-hidden rounded-xl bg-white shadow-xl transition-all sm:mx-auto sm:w-full ${l}`,children:e})})]})})}function q({message:e,className:s="",...r}){return e?t.jsx("p",{...r,className:"text-sm text-red-600 "+s,children:e}):null}function B({value:e,className:s="",children:r,...a}){return t.jsx("label",{...a,className:"block text-sm font-medium text-gray-700 "+s,children:e||r})}function H({className:e="",disabled:s,children:r,...a}){return t.jsx("button",{...a,className:`inline-flex items-center rounded-md border border-transparent bg-gray-800 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-gray-700 focus:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 active:bg-gray-900 ${s&&"opacity-25"} `+e,disabled:s,children:r})}F.Trigger=({children:e})=>{const{open:s,setOpen:a,toggleOpen:n}=r.useContext($);return t.jsxs(t.Fragment,{children:[t.jsx("div",{onClick:n,children:e}),s&&t.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)})]})},F.Content=({align:e="right",width:s="48",contentClasses:a="py-1 bg-white",children:n})=>{const{open:l,setOpen:i}=r.useContext($);let c="origin-top";"left"===e?c="ltr:origin-top-left rtl:origin-top-right start-0":"right"===e&&(c="ltr:origin-top-right rtl:origin-top-left end-0");let d="";return"48"===s&&(d="w-48"),t.jsx(t.Fragment,{children:t.jsx(o,{show:l,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:t.jsx("div",{className:`absolute z-50 mt-2 rounded-md shadow-lg ${c} ${d}`,onClick:()=>i(!1),children:t.jsx("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+a,children:n})})})})},F.Link=({className:e="",children:s,...r})=>t.jsx(n,{...r,className:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none "+e,children:s});const W=r.forwardRef(function({type:e="text",className:s="",isFocused:a=!1,...n},l){const i=r.useRef(null);return r.useImperativeHandle(l,()=>({focus:()=>i.current?.focus()})),r.useEffect(()=>{a&&i.current?.focus()},[a]),t.jsx("input",{...n,type:e,className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 "+s,ref:i})});function Y(){const e=r.useMemo(()=>[...Array(300)].map(()=>({left:120*Math.random()-10,width:.3*Math.random()+.1,opacity:.6*Math.random()+.3,duration:1*Math.random()+.5,delay:.2*Math.random()})),[]),s=r.useMemo(()=>[...Array(150)].map(()=>({left:100*Math.random(),size:8*Math.random()+4,opacity:.7*Math.random()+.3,duration:10*Math.random()+5,delay:.2*Math.random(),sway:20*Math.random()-10})),[]);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"weather absolute inset-0 w-full h-full overflow-hidden",children:[e.map((e,s)=>t.jsx("div",{className:"rain-drop absolute bg-blue-200",style:{width:`${e.width}vmin`,height:"2vmin",left:`${e.left}vw`,opacity:e.opacity,animation:`rain-fall-${s} ${e.duration}s linear infinite`,animationDelay:`${e.delay}s`}},`rain-${s}`)),s.map((e,s)=>t.jsx("div",{className:"snowflake absolute rounded-full bg-white",style:{width:`${e.size}px`,height:`${e.size}px`,left:`${e.left}%`,opacity:e.opacity,animation:`snow-fall-${s} ${e.duration}s linear infinite`,animationDelay:`${e.delay}s`}},`snow-${s}`))]}),t.jsx("style",{children:`\n        body, .weather {\n          margin: 0;\n          padding: 0;\n          width: 100vw;\n          height: 100vh;\n          overflow: hidden;\n          background: linear-gradient(\n            180deg,\n            #dbeafe 0%,    \n            #93c5fd 40%,   \n            #3b82f6 100%   \n          );\n        }\n\n        ${e.map((e,s)=>`\n          @keyframes rain-fall-${s} {\n            0% { transform: translateY(0); }\n            100% { transform: translateY(100vh); }\n          }\n        `).join("\n")}\n\n        ${s.map((e,s)=>`\n          @keyframes snow-fall-${s} {\n            0% { transform: translateY(0) translateX(0); }\n            50% { transform: translateY(50vh) translateX(${20*Math.random()-10}px); }\n            100% { transform: translateY(100vh) translateX(${20*Math.random()-10}px); }\n          }\n        `).join("\n")}\n      `})]})}function O({className:e="",...s}){return t.jsx("input",{...s,type:"checkbox",className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500 "+e})}function Q({className:e="",disabled:s,children:r,...a}){return t.jsx("button",{...a,className:`inline-flex items-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 active:bg-red-700 ${s&&"opacity-25"} `+e,disabled:s,children:r})}function V({type:e="button",className:s="",disabled:r,children:a,...n}){return t.jsx("button",{...n,type:e,className:`inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-xs font-semibold uppercase tracking-widest text-gray-700 shadow-sm transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 ${r&&"opacity-25"} `+s,disabled:r,children:a})}function G(){return t.jsxs("footer",{className:"bg-gradient-to-b from-gray-800 to-gray-900 text-gray-300 pt-12 pb-6 px-8 w-full",children:[t.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center gap-12 pb-8",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:"text-[16px] font-semibold mb-4 text-gray-400",children:"INFORMATION"}),t.jsx(n,{href:"#",className:"text-gray-300 hover:text-white text-[16px] mb-2",children:"Our Plans"}),t.jsx(n,{href:"#",className:"text-gray-300 hover:text-white text-[16px] mb-2",children:"Help Center"}),t.jsx(n,{href:"#",className:"text-gray-300 hover:text-white text-[16px]",children:"Contact"})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:"text-[16px] font-semibold mb-4 text-gray-400",children:"LEGAL"}),t.jsx(n,{href:"#",className:"text-gray-300 hover:text-white text-[16px] mb-2",children:"Terms of Use"}),t.jsx(n,{href:"#",className:"text-gray-300 hover:text-white text-[16px] mb-2",children:"Privacy Policy"}),t.jsx("span",{className:"invisible mb-2",children:" "})]}),t.jsx("div",{className:"flex flex-col items-center md:items-end gap-2",children:t.jsx(n,{href:"/",className:"flex items-center gap-2 flex-shrink-0",children:t.jsx("div",{className:"relative -mt-2",children:t.jsx("img",{src:"/images/sor-ser logo.png",alt:"Sor-Ser logo",className:"h-20 w-20 invert brightness-0"})})})})]}),t.jsx("hr",{className:"border-gray-700 mb-6"}),t.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center text-gray-400 text-[16px] px-2",children:[t.jsx("span",{children:"© 2025 Sor Ser"}),t.jsx("span",{children:"All rights reserved."})]})]})}function U(){const e=l(),{auth:s}=e.props||{},a=e.url||"",i=r.useRef(null),[o,c]=r.useState(!1),[d,x]=r.useState(!1);r.useEffect(()=>{const e=e=>{i.current&&!i.current.contains(e.target)&&c(!1),!d||e.target.closest("#mobile-menu")||e.target.closest("#mobile-menu-toggle")||x(!1)};return(o||d)&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[o,d]);const m=e=>a.startsWith(e)?"border-b-2 border-blue-600 text-blue-600":"text-blue-900 hover:text-blue-600";return t.jsx("header",{className:"sticky top-0 left-0 z-50 w-full bg-white shadow-sm",children:t.jsxs("nav",{className:"flex items-center justify-between px-6 sm:px-6 md:px-16 lg:px-28",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs(n,{href:"/",className:"flex items-center gap-2 flex-shrink-0",children:[t.jsx("div",{className:"relative -mt-2",children:t.jsx("img",{src:"/images/sor-ser logo.png",alt:"Sor-Ser logo",className:"h-9 w-9",style:{filter:"brightness(0) saturate(100%) invert(21%) sepia(94%) saturate(2783%) hue-rotate(210deg) brightness(96%) contrast(97%)"}})}),t.jsx("span",{className:"text-lg font-semibold text-[#0052CC]",children:"Sor-Ser"})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[t.jsx(n,{href:"/home",className:`px-3 py-[1.3rem] font-medium transition ${m("/home")}`,children:"Home"}),s?.can?.student&&t.jsx(n,{href:"/library",className:`px-3 py-[1.3rem] font-medium transition ${m("/library")}`,children:"Your History"}),t.jsx(n,{href:"/homophone-check",className:`px-3 py-[1.3rem] font-medium transition ${m("/homophone-check")}`,children:"Homophone Check"}),t.jsx(n,{href:"/quiz-practice",className:`px-3 py-[1.3rem] font-medium transition ${m("/quiz-practice")}`,children:"Quiz & Practice"}),t.jsx(n,{href:"/contacts",className:`px-3 py-[1.3rem] font-medium transition ${m("/contacts")}`,children:"Contacts"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[s.user?t.jsxs(t.Fragment,{children:[Array.isArray(s.user.roles)&&s.user.roles.length>0||Array.isArray(s.user.roles_list)&&s.user.roles_list.length>0?t.jsx(n,{href:route("dashboard"),className:"bg-orange-500 hover:bg-orange-400 text-white font-bold py-2 px-6 rounded-full hidden md:inline-block",children:"Dashboard"}):t.jsx(n,{href:"/subscribe",className:"bg-orange-500 hover:bg-orange-400 text-white font-bold py-2 px-6 rounded-full hidden md:inline-block",children:"Upgrade"}),t.jsxs("div",{className:"relative",ref:i,children:[t.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-2 text-blue-900 font-medium hover:text-blue-500 transition",children:[t.jsx("img",{src:"/images/person-icon.svg",className:"h-8 w-8 rounded-full",alt:"User avatar"}),t.jsx("span",{className:"hidden md:inline",children:s?.user?.name})]}),o&&t.jsxs("div",{className:"absolute right-0 mt-2 bg-white border mx-auto max-w-xl border-gray-100 rounded-xl shadow-lg z-50",children:[t.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium text-gray-800",children:s?.user?.name}),t.jsx("span",{className:"text-sm text-gray-500",children:s?.user?.email})]})}),t.jsxs("div",{className:"flex flex-col py-2 px-2",children:[t.jsxs(n,{href:route("profile.edit"),onClick:()=>c(!1),className:"flex items-center px-3 py-2 text-sm text-blue-900 hover:bg-gray-100 rounded-lg transition",children:[t.jsx("i",{className:"fas fa-user-circle w-4 mr-3 text-gray-500"}),"My Account"]}),t.jsx("hr",{className:"my-1 border-gray-200"}),t.jsxs(n,{method:"post",href:route("logout"),as:"button",onClick:()=>c(!1),className:"flex items-center w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition",children:[t.jsx("i",{className:"fas fa-sign-out-alt w-4 mr-3 text-red-500"}),"Sign Out"]})]})]})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(n,{href:route("login"),className:"text-blue-900 font-medium px-3 hover:text-secondary hidden md:inline-block",children:"Sign In"}),t.jsx(n,{href:route("register"),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-6 rounded-full flex items-center gap-2 md:inline-block",children:"Get Started"})]}),t.jsx("button",{className:"md:hidden text-blue-900",id:"mobile-menu-toggle",onClick:()=>x(!d),children:t.jsx("i",{className:"fas fa-bars text-2xl py-6"})})]}),d&&t.jsx("div",{id:"mobile-menu",className:"absolute top-full left-0 w-full bg-white shadow-md md:hidden z-40",children:t.jsxs("div",{className:"flex flex-col gap-1 py-4 px-4",children:[t.jsx(n,{href:"/home",className:`py-2 px-3 rounded-lg ${m("/home")} hover:bg-gray-50`,onClick:()=>x(!1),children:"Home"}),s?.can?.student&&t.jsx(n,{href:"/library",className:`py-2 px-3 rounded-lg ${m("/library")} hover:bg-gray-50`,onClick:()=>x(!1),children:"Your History"}),t.jsx(n,{href:"/homophone-check",className:`py-2 px-3 rounded-lg ${m("/homophone-check")} hover:bg-gray-50`,onClick:()=>x(!1),children:"Homophone Check"}),t.jsx(n,{href:"/quiz-practice",className:`py-2 px-3 rounded-lg ${m("/quiz-practice")} hover:bg-gray-50`,onClick:()=>x(!1),children:"Quiz & Practice"}),t.jsx(n,{href:"/contacts",className:`py-2 px-3 rounded-lg ${m("/contacts")} hover:bg-gray-50`,onClick:()=>x(!1),children:"Contacts"}),s.user?t.jsxs(t.Fragment,{children:[Array.isArray(s.user.roles)&&s.user.roles.length>0||Array.isArray(s.user.roles_list)&&s.user.roles_list.length>0?t.jsx(n,{href:route("dashboard"),className:"py-2 px-3 rounded-lg bg-orange-500 text-white text-center hover:bg-orange-400",onClick:()=>x(!1),children:"Dashboard"}):t.jsx(n,{href:"/subscribe",className:"py-2 px-3 rounded-lg bg-orange-500 text-white text-center hover:bg-orange-400",onClick:()=>x(!1),children:"Upgrade"}),t.jsx(n,{href:route("profile.edit"),className:"py-2 px-3 rounded-lg text-blue-900 text-center hover:bg-gray-50",onClick:()=>x(!1),children:"My Account"}),t.jsx(n,{method:"post",href:route("logout"),as:"button",className:"py-2 px-3 rounded-lg text-red-600 text-center hover:bg-red-50",onClick:()=>x(!1),children:"Sign Out"})]}):t.jsxs(t.Fragment,{children:[t.jsx(n,{href:route("login"),className:"py-2 px-3 rounded-lg text-blue-900 text-center hover:bg-gray-50",onClick:()=>x(!1),children:"Sign In"}),t.jsx(n,{href:route("register"),className:"py-2 px-3 rounded-lg bg-orange-500 text-white text-center hover:bg-orange-400",onClick:()=>x(!1),children:"Get Started"})]})]})})]})})}function Z(){const{auth:e}=l().props;return t.jsx("div",{className:"max-w-7xl mx-auto px-4 mt-10",children:e.user?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"text-center ",children:[t.jsxs("h1",{className:"text-2xl md:text-3xl font-semibold text-gray-600",children:["Triple your productivity with the"," ",t.jsx("span",{className:"text-blue-500 font-semibold",children:"Homophone Checker"})]}),t.jsx("p",{className:"text-gray-600 mt-4 max-w-6xl mx-auto",children:"SorSer's Homophone Checker uses AI to instantly fix grammar, spelling, and punctuation mistakes. Start typing, and the AI will detect and correct errors in real time, making your writing clear, accurate, and polished."})]})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-center mb-9",children:[t.jsxs("h1",{className:"text-2xl md:text-3xl font-semibold text-gray-600",children:["Triple your productivity with the"," ",t.jsx("span",{className:"text-blue-500 font-semibold",children:"Homophone Checker"})]}),t.jsx("p",{className:"text-gray-600 mt-4 max-w-6xl mx-auto",children:"SorSer's Homophone Checker uses AI to instantly fix grammar, spelling, and punctuation mistakes. Start typing, and the AI will detect and correct errors in real time, making your writing clear, accurate, and polished."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-gray-100 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(m,{className:"text-pink-500",size:28}),t.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"How To Use SorSer Tool"})]}),t.jsx("p",{className:"text-gray-600 mb-6",children:"SorSer's AI helps you write better by detecting and fixing grammar, spelling, and punctuation mistakes as you type. It works in real time, so you can focus on your ideas while the AI takes care of corrections."}),t.jsxs("div",{className:"bg-white border rounded-xl p-3",children:[t.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Sample Grammar Checker"}),t.jsxs("div",{className:"mt-1 p-3 rounded-xl border border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-800 mb-1",children:"Typing Your Sentence:"}),t.jsx("div",{className:"text-gray-600 text-sm mb-2",children:"What key difference distinguishes isotopes from one another?"}),t.jsxs("ul",{className:"mt-2 text-sm text-gray-700 space-y-2",children:[t.jsxs("li",{children:["•"," ",t.jsx("span",{className:"underline decoration-red-500 decoration-2 underline-offset-4",children:"She go"})," ","to the office every morning."]}),t.jsxs("li",{children:["•"," ",t.jsxs("span",{className:"underline decoration-green-500 decoration-2 underline-offset-4",children:["She ",t.jsx("strong",{children:"goes"})]})," ","to the office every morning."]})]})]})]})]}),t.jsxs("div",{className:"space-y-9",children:[t.jsxs("div",{className:"bg-gray-100 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(h,{className:"text-orange-500",size:28}),t.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Lightning Fast"})]}),t.jsx("p",{className:"text-gray-600",children:"Boost your writing speed with AI-powered grammar checking that instantly detects and fixes errors. SorSer helps you turn rough drafts into clear, polished text in seconds — no extra effort required"})]}),t.jsxs("div",{className:"bg-gray-100 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(u,{className:"text-pink-500",size:28}),t.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Features for Everyone"})]}),t.jsxs("p",{className:"text-gray-600",children:["Whether you're a student, teacher, or professional, SorSer makes writing easier and more accurate."," ",t.jsx("span",{className:"text-blue-600 cursor-pointer hover:underline",children:"Try it out"})," ","to experience real-time grammar, spelling, and punctuation checking that helps you write with confidence."]})]})]})]})]})})}function X(){return t.jsx("div",{className:"w-full max-w-7xl mx-auto text-left py-8 pl-2",children:t.jsxs("div",{className:"flex justify-between items-center text-md",children:[t.jsxs("span",{className:"text-gray-500 text-md",children:["Try it out above by using ",t.jsx("span",{className:"font-semibold",children:"handwritten notes."})]}),t.jsxs("span",{className:"text-gray-500 text-md",children:["Don't have any content? ","",t.jsx("button",{className:"text-blue-500 text-md hover:underline",children:"Create from scratch"})]})]})})}function K({text:e="",onReplace:s,checkerId:n,comparisonResult:i,setComparisonResult:o,articleId:c,isChecking:d=!1,liveProgress:x={currentAccuracy:0,minRequired:70,bestAccuracy:0},selectedArticle:m=null,currentAccuracy:h=0}){const[u,y]=r.useState([]),[f,j]=r.useState(!1),[N,v]=r.useState(!1),[w,k]=r.useState(null),[C,A]=r.useState(null),[_,z]=r.useState(null),[M,$]=r.useState(""),[F,E]=r.useState("idle"),[T,I]=r.useState(null),[P,R]=r.useState(0),[q,B]=r.useState([]),[H,W]=r.useState(""),[Y,O]=r.useState(null),[Q,V]=r.useState(!1),[G,U]=r.useState(null),[Z,X]=r.useState(null),[K,J]=r.useState(!1),ee=l(),{auth:se}=ee.props||{},[te,re]=r.useState(null),[ae,ne]=r.useState(null),le=(e,t,r=!1)=>{if(!e||!s||!i)return;S.post("/api/track/comparison-action",{grammar_checker_id:n,article_id:c??null,action:t,comparison_type:e.type,user_word:e.user_word?.user_word||"",article_word:e.article_word?.article_word||"",word_position:e.user_word?.user_index||e.article_word?.article_index,session_id:sessionStorage.getItem("sessionId")}).catch(e=>{});let a=[...i.comparison],l=[...i.user_words];const d=a.findIndex(s=>s===e);if(-1===d)return;if("dismiss"===t){const s=`${e.type}-${e.user_word?.user_index||"none"}-${e.article_word?.article_index||"none"}`;y(e=>[...e,s]),a=a.filter((e,s)=>s!==d)}else if("accept"===t){if("missing"===e.type){const s=e.article_word.article_index;l.splice(s,0,e.actions.accept.result)}else if("extra"===e.type){const s=e.user_word.user_index;"number"==typeof s&&l.splice(s,1)}else if("replaced"===e.type){const s=e.user_word.user_index;"number"==typeof s&&(l[s]=e.actions.accept.result)}a=a.filter((e,s)=>s!==d)}if(0!==a.filter(e=>"missing"===e.type||"replaced"===e.type||"extra"===e.type).length||r)o({...i,comparison:a,user_words:l});else{try{U(me({...i,comparison:a,user_words:l}))}catch(x){}0===u.length&&(l=[...i.article_words]),setTimeout(()=>{o(null),y([])},500)}if(!r){const e=l.join("");s(e)}},ie=e=>e?e.normalize("NFD").replace(/[\u17BB-\u17D2]/g,"").replace(/\s+/g,"").toLowerCase():"",oe=async()=>{if(C)return C;v(!0);const e=["/homophones.json","/storage/homophones.json","/homophones/json"];let s=[];for(const a of e)try{const e=await S.get(a,{headers:{Accept:"application/json"}});if(s=e.data?.homophones??e.data?.data??(Array.isArray(e.data)?e.data:null)??(Array.isArray(Object.values(e.data))?Object.values(e.data):[]),s.length)break}catch(r){}const t={};return s.forEach(e=>{const s=e.word?.trim(),r=ie(s);s&&(t[s]=e),r&&(t[r]=e)}),A(t),v(!1),t},ce=()=>{j(!1),k(null),re(null),ne(null)},de=()=>{ae&&te&&le(ae,te),ce()},xe=async(e,s)=>{if(!0===se?.can?.student){const r=e.article_word&&e.article_word.article_word||e.user_word&&e.user_word.user_word||"";if(!r)return void le(e,s);try{const t=await oe();t[r]||t[ie(r)]?(async(e,s=null)=>{if(!e)return;re(s),ne(e),k(null),j(!0),v(!0);const t=e.article_word&&e.article_word.article_word||e.user_word&&e.user_word.user_word||"";if(!t)return k({word:"",notFound:!0}),void v(!1);try{const e=await oe();if(e[t])return k({...e[t],displayedWord:t}),void v(!1);const s=ie(t),r=s?e[s]:null;if(r){const e=(Array.isArray(r.homophone)?r.homophone:[]).includes(t);k(e?{...r,displayedWord:t,isHomophone:!0}:{word:t,notFound:!0})}else k({word:t,notFound:!0})}catch(r){k({word:t,notFound:!0})}finally{v(!1)}})(e,s):le(e,s)}catch(t){le(e,s)}}else le(e,s)},me=e=>{if(!e||!Array.isArray(e.comparison))return{replaced:0,extra:0,missing:0,same:0,total:0,accuracy:null,avgPause:null};const s=e.comparison,t=s.filter(e=>"replaced"===e.type).length,r=s.filter(e=>"extra"===e.type).length,a=s.filter(e=>"missing"===e.type).length,n=s.filter(e=>"same"===e.type).length,l=Array.isArray(e.article_words)?e.article_words.length:s.length,i=l>0?Math.round(n/l*1e4)/100:null;let o=e.metadata?.avg_pause_duration??e.metadata?.avgPause??null;return{replaced:t,extra:r,missing:a,same:n,total:l,accuracy:i,avgPause:null==o||Number.isNaN(Number(o))?null:Math.round(100*Number(o))/100}};r.useEffect(()=>{i&&U(me(i))},[i]);const[he,ue]=r.useState(null),[ge,pe]=r.useState(!1);const be=e=>{const s=String(e||"").trim(),t=s.length,r=s?s.split(/\s+/).filter(Boolean).length:0,a=s?s.split(/[.!?]+/).map(e=>e.trim()).filter(Boolean).length:0,n=s?s.split(/\n+/).map(e=>e.trim()).filter(Boolean).length:0,l=r>0?Math.ceil(r/200*60):0;return{characters:t,words:r,sentences:a,paragraphs:n,readingTime:`${Math.floor(l/60)} m ${l%60} s`,readingSeconds:l}};async function ye(e){const s=String(e||"").trim();if(!s)return be(s);try{const e=await async function(e){if(!e||!e.trim())return null;const s=["/api/khmer-segment"];for(const r of s)try{const s=await S.post(r,{text:e},{headers:{"Content-Type":"application/json"}}),t=s.data?.tokens??s.data?.data?.tokens??(Array.isArray(s.data)?s.data:null);if(Array.isArray(t))return t}catch(t){}return null}(s),t=Array.isArray(e)?e.length:s.split(/\s+/).filter(Boolean).length,r=s.length,a=s?s.split(/[.!?]+/).map(e=>e.trim()).filter(Boolean).length:0,n=s?s.split(/\n+/).map(e=>e.trim()).filter(Boolean).length:0,l=t>0?Math.ceil(t/200*60):0,i=Math.floor(l/60);return{characters:r,words:t,sentences:a,paragraphs:n,readingTime:`${i} m ${l%60} s`,readingSeconds:l}}catch(t){return be(s)}}const[fe,je]=r.useState(!1),Ne=a.useRef(null),ve=()=>{Ne.current&&clearTimeout(Ne.current),Ne.current=setTimeout(()=>{(async()=>{const s=G??me(i);if(!s||0===s.total)return null;if(!n&&!c)return null;const t=await ye(e),r={grammar_checker_id:n??null,article_id:c??null,accuracy:s.accuracy??null,replaced_count:s.replaced??0,extra_count:s.extra??0,missing_count:s.missing??0,avg_pause_duration:Z?.avg_pause_duration??s.avgPause??null,user_word_count:t.words??null,article_total_words:s.total??null,reading_time_seconds:t.readingSeconds??null};if(null===r.avg_pause_duration)try{const e=await we();e&&"number"==typeof e.avg_pause_duration&&(r.avg_pause_duration=Number(e.avg_pause_duration))}catch(a){}if(fe)return null;je(!0);try{return await S.post("/api/accuracy",r,{headers:{Accept:"application/json"},withCredentials:!0}),!0}catch(l){return null}finally{je(!1)}})().catch(()=>{})},700)};async function we(e=null){J(!0),X(null);const s=["/api/user-activity-stats","/api/user-activities/stats","/api/track/stats","/user-activity-stats"],t="undefined"!=typeof sessionStorage?sessionStorage.getItem("sessionId"):null;for(const a of s)try{const s={};t&&(s.session_id=t),e&&(s.grammar_checker_id=e),c&&(s.article_id=c);const r=await S.get(a,{params:s,headers:{Accept:"application/json"}}),n=r.data?.data??r.data??null;if(n&&"object"==typeof n)return X(n),J(!1),n}catch(r){}return J(!1),null}if(r.useEffect(()=>{const e=G??me(i);if(e&&0!==e.total&&(n||c))return ve(),()=>{Ne.current&&(clearTimeout(Ne.current),Ne.current=null)}},[G,i,e,n,c]),r.useEffect(()=>{if(!Q)return;we(n).catch(()=>{});let s=!1;return pe(!0),ue(null),ye(e).then(e=>{s||ue(e)}).catch(()=>{}).finally(()=>{s||pe(!1)}),()=>{s=!0}},[Q,G]),i){const e=i.comparison.filter(e=>"missing"===e.type||"replaced"===e.type||"extra"===e.type),s=Math.max(...i.comparison.filter(e=>"same"===e.type||"replaced"===e.type||"extra"===e.type).map(e=>e.index_compared),-1),r=e.filter(e=>"missing"!==e.type||e.index_compared<=s),a=i?.stats?(i.stats.same||0)/(i.article_words?.length||1)*100:0;return t.jsxs("div",{className:"w-96 rounded-xl border border-gray-200 bg-white h-[75vh] flex flex-col overflow-hidden shadow-sm",children:[t.jsxs("div",{className:"px-6 pt-4 pb-2 border-gray-200",children:[m&&t.jsx("div",{className:"mb-3",children:t.jsx(L,{currentAccuracy:x.currentAccuracy,minRequired:x.minRequired,bestAccuracy:x.bestAccuracy,isVisible:!0,selectedArticle:m,comparisonAccuracy:a})}),d?t.jsxs("div",{className:"flex justify-between items-center border border-gray-200 rounded-xl px-4 py-2 bg-white shadow-sm animate-pulse mb-3",children:[t.jsx("div",{className:"h-4 w-40 bg-slate-200 rounded"}),t.jsx("div",{className:"h-6 w-20 bg-slate-300 rounded-full"})]}):t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsx("div",{className:"text-gray-800 text-base font-semibold",children:"Comparison Results"})}),d?t.jsxs("div",{className:"flex items-center space-x-2 animate-pulse mb-1",children:[t.jsx("div",{className:"h-8 w-20 bg-slate-200 rounded-lg"}),t.jsx("div",{className:"h-8 w-28 bg-slate-200 rounded-lg"})]}):t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{className:"text-sm text-blue-900 px-3 py-1.5 font-medium flex items-center hover:bg-gray-100 rounded-lg transition",children:["All"," ",t.jsx("span",{className:"text-xs bg-gray-200 rounded-full px-2 py-0.5 ml-2",children:r.length})]}),t.jsxs("button",{className:"text-sm text-green-600 px-3 py-1.5 font-medium flex items-center hover:bg-gray-100 rounded-lg transition",children:["Differences"," ",t.jsx("span",{className:"text-xs bg-gray-200 rounded-full px-2 py-0.5 ml-2",children:r.length})]})]}),t.jsx("div",{className:"border-b"})]}),t.jsx("div",{className:"space-y-2 px-4 py-0 mb-2 flex-1 overflow-y-auto hide-scrollbar",children:d?t.jsxs("div",{className:"space-y-4 animate-pulse",children:[t.jsxs("div",{className:"flex justify-between items-center border border-gray-200 rounded-xl px-4 py-2 bg-white shadow-sm",children:[t.jsx("div",{className:"h-4 w-40 bg-slate-200 rounded"}),t.jsx("div",{className:"h-6 w-20 bg-slate-300 rounded-full"})]}),[...Array(3)].map((e,s)=>t.jsxs("div",{className:"bg-white rounded-xl p-3 border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"h-3 w-24 bg-slate-200 rounded mb-3"}),t.jsxs("div",{className:"flex space-x-2 mb-4",children:[t.jsx("div",{className:"h-4 w-16 bg-slate-300 rounded"}),t.jsx("div",{className:"h-4 w-20 bg-slate-200 rounded"})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("div",{className:"h-6 w-20 bg-slate-300 rounded-full"}),t.jsx("div",{className:"h-6 w-20 bg-slate-200 rounded-full"}),t.jsx("div",{className:"h-6 w-20 bg-slate-200 rounded-full"})]})]},s))]}):t.jsxs(t.Fragment,{children:[r.length>0&&t.jsx("div",{className:"flex justify-between items-center border border-gray-200 rounded-xl px-4 py-2 bg-white shadow-sm",children:t.jsxs("span",{className:"flex items-center",children:[t.jsxs("span",{className:"text-red-500 text-sm font-semibold",children:[r.length," ","differences"]}),t.jsx("span",{className:"text-gray-600 text-sm ml-1",children:"found"})]})}),r.map((e,s)=>t.jsxs("div",{onClick:()=>(e=>{if(0===e||!i)return;const s=i.comparison.filter(e=>"missing"===e.type||"replaced"===e.type||"extra"===e.type);if(e>=s.length)return;const t=[s[e],...s.slice(0,e),...s.slice(e+1),...i.comparison.filter(e=>"missing"!==e.type&&"replaced"!==e.type&&"extra"!==e.type)];o({...i,comparison:t})})(s),className:"bg-white rounded-xl p-3 border shadow-sm cursor-pointer transition "+(0===s?"border-blue-500 border-2":"border-gray-200"),children:[t.jsxs("p",{className:"text-xs text-gray-500 font-medium mb-2",children:["missing"===e.type&&"Missing Word (Expected word is missing)","replaced"===e.type&&"Incorrect Word","extra"===e.type&&"Extra Word (Unmatched in the article)"]}),t.jsxs("div",{className:("missing"!==e.type?"gap-2 ":"")+" mb-3 flex items-center ",children:[t.jsx("span",{className:`${"missing"!==e.type?"line-through ":""}text-base ${0===s?"text-red-500":"text-gray-500"}`,children:"string"==typeof e.user_word?.user_word&&""!==e.user_word.user_word?e.user_word.user_word:""}),t.jsx("span",{children:"missing"!==e.type&&t.jsx(g,{className:"w-4 h-4 text-slate-500"})}),t.jsx("span",{className:"text-base font-semibold "+(0===s?"text-green-600":"text-green-700"),children:e.article_word?.article_word||"Removed"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-full flex items-center text-xs font-medium transition",onClick:s=>{s.stopPropagation(),xe(e,"accept")},children:[t.jsx(p,{className:"w-3.5 h-3.5 mr-1"})," ","Accept"]}),t.jsxs("button",{className:"flex items-center text-gray-700 hover:text-red-600 px-3 rounded-full border-2 hover:bg-red-50 text-xs font-medium transition",onClick:s=>{s.stopPropagation(),xe(e,"dismiss")},children:[t.jsx(b,{className:"w-3.5 h-3.5 mr-1"})," ","Ignore"]})]})]},`${e.index_compared}-${e.type}`)),0===r.length&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx(p,{className:"mt-20 w-12 h-12 text-green-500 mx-auto mb-3"}),t.jsx("h5",{className:"text-base font-semibold text-gray-700 mb-1",children:"Perfect Match!"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Your text matches the article exactly."})]})]})}),t.jsx(D,{show:f,onClose:ce,maxWidth:"xl",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"mb-2",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:N?t.jsx("div",{className:"py-2 text-center",children:"Loading…"}):w?w.notFound?"Are You Sure?":"Explanation":t.jsx(t.Fragment,{children:" "})}),t.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:ce,"aria-label":"Close",children:"✕"})]})}),N?t.jsx("div",{className:"py-8 text-center",children:"Loading…"}):w?t.jsx("div",{className:"space-y-3 text-sm text-gray-700",children:w.notFound?t.jsxs("div",{children:["accept"===te&&t.jsxs("div",{className:"text-sm text-gray-700 mb-4",children:["Are you sure you want to continue with the word"," ",t.jsx("span",{className:"font-semibold text-green-600",children:w.word})]}),"dismiss"===te&&t.jsxs("div",{className:"text-sm text-gray-700 mb-4",children:["Are you sure you want to ignore the word"," ",t.jsx("span",{className:"text-red-600 font-semibold",children:w.word})]}),t.jsxs("div",{className:"flex justify-between items-center pt-4 gap-3",children:[t.jsx("button",{type:"button",onClick:ce,className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",children:"Close"}),"accept"===te&&t.jsx("button",{type:"button",onClick:de,className:"rounded-[10px] px-9 py-1 bg-green-600 text-white font-semibold hover:bg-green-700 transition",children:"Accept"}),"dismiss"===te&&t.jsx("button",{type:"button",onClick:de,className:"rounded-[10px] px-9 py-1 bg-red-600 text-white font-semibold hover:bg-red-700 transition",children:"Ignore"})]})]}):t.jsxs(t.Fragment,{children:[w.displayedWord&&t.jsx("div",{children:t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold text-lg",children:w.displayedWord}),w.isHomophone&&t.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(homophone of"," ",t.jsx("strong",{children:w.word}),")"]})," — ",w.shortDescription||`This word is commonly used to describe or refer to ${w.word}.`]})}),t.jsxs("div",{className:"flex flex-row gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-base font-medium text-slate-500",children:"Part of Speech"}),t.jsx("div",{className:"text-sm",children:w.pos||"—"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-base font-medium text-slate-500",children:"Pronunciation"}),t.jsx("div",{className:"text-sm",children:w.pro||w.phoneme||"—"})]})]}),t.jsxs("div",{className:"flex flex-row gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-base font-medium text-slate-500",children:"Homophones"}),t.jsx("div",{className:"text-sm",children:Array.isArray(w.homophone)?w.homophone.join(", "):"—"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-base font-medium text-slate-500",children:"phoneme"}),t.jsx("div",{className:"text-sm",children:"string"==typeof w.phoneme&&w.phoneme.trim()?w.phoneme:Array.isArray(w.phoneme)&&w.phoneme.length?w.phoneme.join(", "):"—"})]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-base font-medium text-slate-500",children:"Definition"}),t.jsx("div",{className:"text-sm",children:w.definition||"—"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-base font-medium text-slate-500",children:"Example"}),t.jsx("div",{className:"text-sm",children:w.example||"—"})]}),t.jsxs("div",{className:"flex justify-between items-center pt-4 gap-3",children:[t.jsx("button",{type:"button",onClick:ce,className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",children:"Close"}),"accept"===te&&t.jsx("button",{type:"button",onClick:de,className:"rounded-[10px] px-9 py-1 bg-green-600 text-white font-semibold hover:bg-green-700 transition disabled:opacity-60",children:"Accept"}),"dismiss"===te&&t.jsx("button",{type:"button",onClick:de,className:"rounded-[10px] px-9 py-1 bg-red-600 text-white font-semibold hover:bg-red-700 transition",children:"Ignore"})]})]})}):t.jsx("div",{className:"py-6 text-center text-sm text-gray-500",children:"No data available."})]})})]})}return t.jsxs("div",{className:"w-96 rounded-xl border border-gray-200 bg-white h-[75vh] flex flex-col overflow-hidden shadow-sm",children:[t.jsxs("div",{className:"px-6 pt-4 pb-2 border-gray-200",children:[d?t.jsxs("div",{className:"flex justify-between items-center border border-gray-200 rounded-xl px-4 py-2 bg-white shadow-sm animate-pulse mb-3",children:[t.jsx("div",{className:"h-4 w-40 bg-slate-200 rounded"}),t.jsx("div",{className:"h-6 w-20 bg-slate-300 rounded-full"})]}):t.jsx("div",{className:"flex items-center justify-between font-semibold mb-3",children:e.split(" ").filter(e=>e.trim()).length<25?`Enter at least 25 words (${e.split(" ").filter(e=>e.trim()).length}/25)`:"Grammar Check Results"}),d?t.jsxs("div",{className:"flex items-center space-x-2 animate-pulse mb-1",children:[t.jsx("div",{className:"h-8 w-20 bg-slate-200 rounded-lg"}),t.jsx("div",{className:"h-8 w-28 bg-slate-200 rounded-lg"})]}):t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{className:"text-sm text-blue-900 px-3 py-1.5 font-medium flex items-center hover:bg-gray-100 rounded-lg transition",children:["All"," ",t.jsx("span",{className:"text-xs bg-gray-200 rounded-full px-2 py-0.5 ml-2",children:"0"})]}),t.jsxs("button",{className:"text-sm text-green-600 px-3 py-1.5 font-medium flex items-center hover:bg-gray-100 rounded-lg transition",children:["Grammar"," ",t.jsx("span",{className:"text-xs bg-gray-200 rounded-full px-2 py-0.5 ml-2",children:"0"})]})]}),t.jsx("div",{className:"border-b"})]}),t.jsx("div",{className:"space-y-2 px-4 py-0 mb-2 flex-1 overflow-y-auto hide-scrollbar",children:d?t.jsxs("div",{className:"space-y-4 animate-pulse",children:[t.jsxs("div",{className:"flex justify-between items-center border border-gray-200 rounded-xl px-4 py-2 bg-white shadow-sm",children:[t.jsx("div",{className:"h-4 w-40 bg-slate-200 rounded"}),t.jsx("div",{className:"h-6 w-20 bg-slate-300 rounded-full"})]}),[...Array(3)].map((e,s)=>t.jsxs("div",{className:"bg-white rounded-xl p-3 border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"h-3 w-24 bg-slate-200 rounded mb-3"}),t.jsxs("div",{className:"flex space-x-2 mb-4",children:[t.jsx("div",{className:"h-4 w-16 bg-slate-300 rounded"}),t.jsx("div",{className:"h-4 w-20 bg-slate-200 rounded"})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("div",{className:"h-6 w-20 bg-slate-300 rounded-full"}),t.jsx("div",{className:"h-6 w-20 bg-slate-200 rounded-full"}),t.jsx("div",{className:"h-6 w-20 bg-slate-200 rounded-full"})]})]},s))]}):t.jsxs("div",{className:"text-center flex flex-col items-center justify-center h-full",children:[t.jsx("img",{src:"/images/binoculars-see.svg",alt:"Icon",className:"w-16 h-16"}),t.jsx("h5",{className:"text-base font-semibold text-gray-700",children:"Nothing to check yet!"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Get started by adding text to the editor"})]})})]})}class J extends r.Component{constructor(e){super(e),s(this,"logErrorToService",(e,s)=>{}),s(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),s(this,"handleReload",()=>{window.location.reload()}),s(this,"handleGoHome",()=>{window.location.href="/"}),this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){this.setState(t=>({error:e,errorInfo:s,errorCount:t.errorCount+1})),this.logErrorToService(e,s)}render(){const{hasError:e,error:s,errorInfo:r,errorCount:a}=this.state,{children:n,fallback:l,showDetails:i=!1}=this.props;return e?l?"function"==typeof l?l(s,this.handleReset):l:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:t.jsxs("div",{className:"max-w-lg w-full bg-white rounded-lg shadow-lg p-8",children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx(y,{className:"text-red-600",size:32})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Oops! Something went wrong"}),t.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["We're sorry for the inconvenience. An unexpected error occurred.",a>1&&t.jsxs("span",{className:"block mt-2 text-sm text-red-600",children:["This error has occurred ",a," times."]})]}),i&&s&&t.jsxs("details",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 mb-2",children:"Error Details"}),t.jsxs("div",{className:"text-xs font-mono text-red-600 mt-2",children:[t.jsxs("div",{className:"mb-2",children:[t.jsx("strong",{children:"Error:"})," ",s.toString()]}),r&&t.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[t.jsx("strong",{children:"Component Stack:"}),t.jsx("pre",{className:"whitespace-pre-wrap mt-1",children:r.componentStack})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:this.handleReset,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[t.jsx(f,{size:18}),"Try Again"]}),t.jsxs("button",{onClick:this.handleReload,className:"w-full bg-white text-gray-700 py-3 px-4 rounded-lg font-medium border border-gray-300 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[t.jsx(f,{size:18}),"Reload Page"]}),t.jsxs("button",{onClick:this.handleGoHome,className:"w-full bg-white text-gray-700 py-3 px-4 rounded-lg font-medium border border-gray-300 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[t.jsx(j,{size:18}),"Go to Homepage"]})]}),t.jsx("p",{className:"mt-6 text-xs text-gray-500 text-center",children:"If this problem persists, please contact support."})]})}):n}}const ee=({size:e="md",color:s="blue",text:r=""})=>t.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[t.jsx(N,{className:`${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"}[e]} ${{blue:"text-blue-600",gray:"text-gray-600",white:"text-white",green:"text-green-600"}[s]} animate-spin`}),r&&t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:r})]}),se=({type:e="default"})=>"card"===e?t.jsxs("div",{className:"animate-pulse p-4 border border-gray-200 rounded-lg",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-3"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]}):"list"===e?t.jsx("div",{className:"space-y-3",children:[1,2,3].map(e=>t.jsxs("div",{className:"animate-pulse flex gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},e))}):"text"===e?t.jsxs("div",{className:"animate-pulse space-y-2",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]}):t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]}),te=({type:e="spinner",minHeight:s="200px"})=>t.jsx("div",{className:"flex items-center justify-center w-full",style:{minHeight:s},children:"spinner"===e?t.jsx(ee,{size:"lg",color:"blue",text:"Loading component..."}):t.jsx(se,{type:e})});function re(){const e=l().props||{},s=e.checkers?.data??e.checkers??e.grammar_checkers??e.grammarCheckers??[],a=e.user_homophone_accuracies??e.userHomophoneAccuracies??[],n=e.auth?.user?.id??e.auth?.id??null;e.checkers;const[i,o]=r.useState(Array.isArray(s)?s:[]),[c,d]=r.useState(a),[x,m]=r.useState(!1),[h,u]=r.useState(!1),[g,p]=r.useState(null),[b,y]=r.useState([]),[f,j]=r.useState(!1),[N,v]=r.useState(null),[w,k]=r.useState(!1),[C,A]=r.useState([]),[_,L]=r.useState(!1);r.useEffect(()=>{if(!h||!g)return;const e=g.raw?.id??g.id,s=g.raw?.article_id??g.raw?.articleId??null;(async function(e=null,s=null){j(!0),y([]);const t="undefined"!=typeof sessionStorage?sessionStorage.getItem("sessionId"):null;try{const r=await S.get("/api/user-comparison-activities",{params:{session_id:t||void 0,grammar_checker_id:e||void 0,article_id:s||void 0,limit:200},headers:{Accept:"application/json"},withCredentials:!0}),a=Array.isArray(r.data)?r.data:r.data?.data??[];y(Array.isArray(a)?a:[])}catch(r){y([])}finally{j(!1)}})(e,s).catch(()=>{}),async function(e=null,s=null){k(!0),v(null);const t="undefined"!=typeof sessionStorage?sessionStorage.getItem("sessionId"):null,r=["/api/user-activity-stats","/api/user-activities/stats","/api/track/stats","/user-activity-stats"];for(const n of r)try{const r=await S.get(n,{params:{session_id:t||void 0,grammar_checker_id:e||void 0,article_id:s||void 0},headers:{Accept:"application/json"},withCredentials:!0}),a=r.data?.data??r.data??null;if(a&&"object"==typeof a)return v(a),k(!1),a}catch(a){}return k(!1),null}(e,s).catch(()=>{}),async function(e=null){L(!0),A([]);try{const s=await S.get("/api/user-audio-activities",{params:{grammar_checker_id:e||void 0},headers:{Accept:"application/json"},withCredentials:!0}),t=Array.isArray(s.data)?s.data:s.data?.data??[];A(Array.isArray(t)?t:[])}catch(s){A([])}finally{L(!1)}}(e).catch(()=>{})},[h,g]),r.useEffect(()=>{if(Array.isArray(s)&&s.length>0)return o(Array.isArray(s)?s:[]),void d(a);let e=!1;return m(!0),(async()=>{try{const s=await S.get("/grammar-checkers",{headers:{Accept:"application/json"},withCredentials:!0});if(e)return;const t=s.data,r=Array.isArray(t)?t:t.data??[];Array.isArray(r)&&o(r)}catch(s){s?.response&&[401,403,404].includes(s.response.status)}try{const e=(await S.get("/api/user-homophone-accuracies",{headers:{Accept:"application/json"},withCredentials:!0})).data,s=Array.isArray(e)?e:e.data??[];Array.isArray(s)&&s.length>0&&d(s)}catch(t){t?.response&&[401,403,404].includes(t.response.status)}finally{e||m(!1)}})(),()=>{e=!0}},[]),e.article_id??e.articleId;const z=[...i||[]].filter(e=>!n||Number(e.user_id)===Number(n)).sort((e,s)=>Number(s.id)-Number(e.id)).map(e=>{const s=n?(c||[]).find(s=>Number(s.grammar_checker_id)===Number(e.id)&&Number(s.user_id)===Number(n)):null,t=s?.accuracy??null,r=s?.avg_pause_duration??s?.reading_time_seconds??e.reading_time??null;let a="0";const l=e.created_at??e.updated_at??e.date;if(l)try{a=new Date(l).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}catch(i){a=String(l)}return{id:e.id,title:e.title??`Article ${e.id}`,date:a,accuracy:null!=t?`${Number(t).toFixed(2)}%`:"0%",averagePause:null!=r?`${r}s`:"0s",raw:e,_acc:s??null}}),[M,$]=r.useState(1),F=Math.max(1,Math.ceil(z.length/10)),E=10*(M-1),T=z.slice(E,E+10);return r.useEffect(()=>{M>F&&F>0&&$(F)},[F,M]),t.jsxs("div",{className:"mb-8 mt-4",children:[t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-4 mt-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Grammar Checks"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Your latest homophone checker history"})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full text-sm",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"No."}),t.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Title"}),t.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Words"}),t.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:x?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"Loading..."})}):0===T.length?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"No grammar checks found."})}):T.map((e,s)=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:z.length-(E+s)}),t.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:e.title||"Untitled document"}),t.jsx("td",{className:"px-4 py-3 text-gray-700",children:e.date}),t.jsx("td",{className:"px-4 py-3 text-center text-gray-700",children:e.raw?.word_count??0}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsx("button",{type:"button",onClick:()=>{p(e),u(!0)},className:"rounded-[10px] border-2 border-blue-500 px-3 py-1 text-blue-700 hover:bg-blue-500 hover:text-white transition font-medium",children:"View"})})]},e.id))})]})})]})}),h&&g&&t.jsx(D,{show:h,onClose:()=>{u(!1),p(null)},maxWidth:"2xl",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Article Name: ",g.title]}),t.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Date: ",g.date]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4 text-sm text-gray-700",children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-slate-500",children:"Paragraph"}),t.jsx("div",{className:"mt-1 bg-slate-50 p-3 rounded text-sm leading-relaxed whitespace-pre-wrap break-words max-h-60 overflow-auto",children:g.raw?.paragraph??"—"})]})}),t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"font-medium text-slate-500 mb-2",children:"Recent Events"}),t.jsx("div",{className:"w-full bg-white border rounded-lg",children:f?t.jsx("div",{className:"p-3 text-sm text-gray-500",children:"Loading recent events…"}):0===b.length?t.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No recent events."}):t.jsx("div",{className:"max-h-40 overflow-y-auto hide-scrollbar",children:t.jsxs("table",{className:"w-full text-sm divide-y",children:[t.jsx("thead",{className:"bg-gray-50 sticky top-0",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"Type"}),t.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"Action"}),t.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"User word"}),t.jsx("th",{className:"text-left px-3 py-2 text-xs text-gray-500",children:"Article word"})]})}),t.jsx("tbody",{children:b.map(e=>t.jsxs("tr",{className:"odd:bg-white even:bg-gray-50",children:[t.jsx("td",{className:"px-3 py-2 text-xs text-gray-600",children:e.comparison_type??" "}),t.jsx("td",{className:"px-3 py-2 text-xs",children:t.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs "+("accept"===e.action?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.action??" "})}),t.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:e.user_word??" "}),t.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:e.article_word??" "})]},e.id))})]})})}),t.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-slate-600 mt-4",children:[t.jsxs("div",{children:["Replaced:"," ",t.jsx("span",{className:"font-medium text-green-700",children:b.filter(e=>"replaced"===e.comparison_type&&"accept"===e.action).length}),t.jsx("span",{className:"text-gray-400",children:" (a) / "}),t.jsx("span",{className:"font-medium text-red-700",children:b.filter(e=>"replaced"===e.comparison_type&&"dismiss"===e.action).length}),t.jsx("span",{className:"text-gray-400",children:" (d) "})]}),t.jsxs("div",{children:["Missing:"," ",t.jsx("span",{className:"font-medium text-green-700",children:b.filter(e=>"missing"===e.comparison_type&&"accept"===e.action).length}),t.jsx("span",{className:"text-gray-400",children:" (a) / "}),t.jsx("span",{className:"font-medium text-red-700",children:b.filter(e=>"missing"===e.comparison_type&&"dismiss"===e.action).length}),t.jsx("span",{className:"text-gray-400",children:" (d) "})]}),t.jsxs("div",{children:["Extra:"," ",t.jsx("span",{className:"font-medium text-green-700",children:b.filter(e=>"extra"===e.comparison_type&&"accept"===e.action).length}),t.jsx("span",{className:"text-gray-400",children:" (a) / "}),t.jsx("span",{className:"font-medium text-red-700",children:b.filter(e=>"extra"===e.comparison_type&&"dismiss"===e.action).length}),t.jsx("span",{className:"text-gray-400",children:" (d) "})]}),t.jsxs("div",{children:["Accuracy:"," ",t.jsx("span",{className:"font-medium text-gray-800",children:null!=g._acc?.accuracy?`${Number(g._acc.accuracy).toFixed(2)}%`:"—"})]})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-slate-600 mt-4",children:[t.jsxs("div",{children:["Avg Pause (s):"," ",t.jsx("span",{className:"font-medium text-gray-800",children:w?"…":null!=N?.avg_pause_duration?Number(N.avg_pause_duration).toFixed(2):null!=g._acc?.avg_pause_duration?Number(g._acc.avg_pause_duration).toFixed(2):"—"})]}),t.jsxs("div",{children:["Audio Plays:"," ",t.jsx("span",{className:"font-medium text-blue-700",children:_?"…":C.filter(e=>"audio_play"===e.activity_type).length||"0"})]}),t.jsxs("div",{children:["Audio Pauses:"," ",t.jsx("span",{className:"font-medium text-orange-700",children:_?"…":C.filter(e=>"audio_pause"===e.activity_type).length||"0"})]}),t.jsxs("div",{children:["Reading Time (s):"," ",t.jsx("span",{className:"font-medium text-gray-800",children:g.raw?.reading_time??"0"})]})]})]}),t.jsx("div",{className:"flex justify-end mt-4",children:t.jsx("button",{onClick:()=>{u(!1),p(null)},className:"rounded-[10px] border-2 border-gray-300 px-6 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",children:"Close"})})]})}),t.jsx("div",{className:"mt-4 px-6 py-4 border-t border-gray-100",children:F>1&&t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx("button",{className:"px-3 py-1.5 rounded-md border bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition",onClick:()=>$(e=>Math.max(1,e-1)),disabled:1===M,children:"Previous"}),t.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:F},(e,s)=>s+1).map(e=>t.jsx("button",{className:"px-3 py-1.5 rounded-md border transition "+(e===M?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 hover:bg-gray-100"),onClick:()=>$(e),children:e},e))}),t.jsx("button",{className:"px-3 py-1.5 rounded-md border bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition",onClick:()=>$(e=>Math.min(F,e+1)),disabled:M===F,children:"Next"})]})})]})}function ae(){const{auth:e,quizAnalysis:s}=l().props,a=e?.user,n=a?.id,[i,o]=r.useState(null),[c,d]=r.useState(0),[x,m]=r.useState(!1),[h,u]=r.useState(null),[g,p]=r.useState(0),[b,y]=r.useState(!1),[f,j]=r.useState(null),[N,A]=r.useState(0),[_,L]=r.useState(null),[z,M]=r.useState(!1),[$,F]=r.useState(!0),[E,T]=r.useState([]),[I,P]=r.useState([]),[R,D]=r.useState([]);r.useEffect(()=>(S.get("/api/user-homophone-accuracies",{headers:{Accept:"application/json"},withCredentials:!0}).then(e=>{const s=Array.isArray(e.data)?e.data:e.data?.data??[];T(s);const t=new Date,r=t.getMonth(),a=t.getFullYear(),n=s.filter(e=>{const s=new Date(e.created_at);return s.getMonth()===r&&s.getFullYear()===a}).map(e=>null===e.accuracy||void 0===e.accuracy||""===e.accuracy?null:"number"==typeof e.accuracy?e.accuracy:parseFloat(e.accuracy)).filter(e=>null!==e&&!isNaN(e));if(d(n.length),n.length>0){const e=n.reduce((e,s)=>e+s,0)/n.length;o(e)}else o(null)}).catch(()=>{o(null),d(0),T([])}).finally(()=>m(!0)),()=>{}),[]),r.useEffect(()=>{S.get("/api/quiz-attempts",{headers:{Accept:"application/json"},withCredentials:!0}).then(e=>{const s=Array.isArray(e.data)?e.data:e.data?.data??[];P(s);const t=new Date,r=t.getMonth(),a=t.getFullYear(),l=s.filter(e=>!n||e.user_id===n).filter(e=>{const s=new Date(e.created_at);return s.getMonth()===r&&s.getFullYear()===a});p(l.length);const i=l.map(e=>{const s="number"==typeof e.score?e.score:parseInt(e.score);let t=1;try{const s=JSON.parse(e.answers);Array.isArray(s)&&(t=s.length)}catch{}return t>0&&!isNaN(s)?s/t*100:null}).filter(e=>null!==e&&!isNaN(e));if(i.length>0){const e=i.reduce((e,s)=>e+s,0)/i.length;u(e)}else u(null)}).catch(()=>{u(null),p(0),P([])}).finally(()=>y(!0))},[n]),r.useEffect(()=>{S.get("/api/user-homophone-accuracies",{headers:{Accept:"application/json"},withCredentials:!0}).then(e=>{const s=Array.isArray(e.data)?e.data:e.data?.data??[],t=new Date,r=t.getMonth(),a=t.getFullYear(),n=s.filter(e=>{const s=new Date(e.created_at);return s.getMonth()===r&&s.getFullYear()===a}).filter(e=>null!==e.accuracy&&void 0!==e.accuracy&&""!==e.accuracy&&e.created_at);A(n.length),n.sort((e,s)=>new Date(e.created_at)-new Date(s.created_at));let l=null,i=null;if(n.length>1){const e=n.slice(0,-1).map(e=>"number"==typeof e.accuracy?e.accuracy:parseFloat(e.accuracy)).filter(e=>!isNaN(e));l=e.length>0?e.reduce((e,s)=>e+s,0)/e.length:null,i="number"==typeof n[n.length-1].accuracy?n[n.length-1].accuracy:parseFloat(n[n.length-1].accuracy)}else 1===n.length&&(l=null,i="number"==typeof n[0].accuracy?n[0].accuracy:parseFloat(n[0].accuracy));let o=null;o=null!==l&&null!==i&&0!==l?(i-l)/Math.abs(l)*100:null!==i&&null===l?i:null!==i&&0===l?0===i?0:100:null,j(o),L(l)}).catch(()=>{j(null),A(0),L(null)}).finally(()=>M(!0))},[]),r.useEffect(()=>{x&&b&&z&&F(!1)},[x,b,z]);const q=(()=>{const e={},s=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];s.forEach(s=>{e[s]={articles:0,quizzes:0}});const t=e=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(e).getDay()];return Array.isArray(E)&&E.filter(e=>!n||e.user_id===n).forEach(s=>{const r=t(s.created_at);e[r]&&(e[r].articles+=1)}),Array.isArray(I)&&I.filter(e=>!n||e.user_id===n).forEach(s=>{const r=t(s.created_at);e[r]&&(e[r].quizzes+=1)}),s.map(s=>({day:s,articles:e[s].articles,quizzes:e[s].quizzes}))})(),B={chart:{type:"line",toolbar:{show:!1},fontFamily:"Inter, sans-serif"},stroke:{curve:"smooth",width:3},colors:["#3B82F6","#BFDBFE"],dataLabels:{enabled:!1},grid:{borderColor:"#E5E7EB",strokeDashArray:3},xaxis:{categories:q.map(e=>e.day),labels:{style:{colors:"#6B7280",fontSize:"12px"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:e=>`${e}`,style:{colors:"#9CA3AF",fontSize:"12px"}}},legend:{show:!1},tooltip:{theme:"light",y:{formatter:e=>`${e}`}}},H=[{name:"Articles",data:q.map(e=>e.articles)},{name:"Quizzes",data:q.map(e=>e.quizzes)}];r.useEffect(()=>{S.get("/api/user-comparison-activities",{headers:{Accept:"application/json"},withCredentials:!0}).then(e=>{const s=Array.isArray(e.data)?e.data:e.data?.data??[],t=new Date,r=t.getMonth(),a=t.getFullYear(),l=(n?s.filter(e=>e.user_id===n):s).filter(e=>{const s=new Date(e.created_at);return s.getMonth()===r&&s.getFullYear()===a});D(l)}).catch(()=>{D([])})},[n]);const W=(()=>{const e={incorrect:0,missing:0,correct:0,extra:0};R.forEach(s=>{"replaced"===s.comparison_type?e.incorrect+=1:"missing"===s.comparison_type?e.missing+=1:"extra"===s.comparison_type&&(e.extra+=1)});const s=R.length;return e.correct=Math.max(0,s-(e.incorrect+e.missing+e.extra)),[{id:"incorrect",label:"Incorrect",value:e.incorrect,color:"hsl(232, 70%, 50%)"},{id:"missing",label:"Missing",value:e.missing,color:"hsl(121, 70%, 50%)"},{id:"correct",label:"Correct",value:e.correct,color:"hsl(245, 70%, 50%)"},{id:"extra",label:"Extra",value:e.extra,color:"hsl(314, 70%, 50%)"}]})(),Y=R.length>0;return t.jsxs("div",{className:"mb-8 mt-4",children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-sky-100 shadow-sm rounded-xl flex flex-col hover:shadow-md transition-all duration-200",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Homophone Accuracy"}),t.jsx("div",{className:"text-blue-500",children:t.jsx(v,{className:"w-7 h-7"})})]}),$?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),t.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-bold "+(null!==i?i<50?"text-red-600":"text-green-600":"text-blue-700"),children:[null!==i?i.toFixed(2):"00.00"," %"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c>0?"Average of total articles":"No accuracy data"})]})]}),t.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-amber-100 shadow-sm rounded-xl flex flex-col hover:shadow-md transition-all duration-200",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Average Score"}),t.jsx("div",{className:"text-blue-500",children:t.jsx(w,{className:"w-7 h-7"})})]}),$?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),t.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-bold "+(null!==h?h<50?"text-red-600":"text-green-600":"text-gray-900"),children:[null!==h?h.toFixed(2):"00.00"," %"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g>0?`${g} quiz${1!==g?"zes":""} completed`:"No quiz attempts"})]})]}),t.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-emerald-100 shadow-sm rounded-xl flex flex-col hover:shadow-md transition-all duration-200",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Performance Growth"}),t.jsx("div",{className:"text-blue-500",children:t.jsx(k,{className:"w-7 h-7"})})]}),$?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),t.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-bold "+(null!==f?f>=0?"text-green-600":"text-red-600":"text-gray-900"),children:[null!==f?f.toFixed(2):"00.00"," %"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Updated Daily"})]})]}),t.jsxs("div",{className:"bg-white px-3 pt-3 border-l-4 border-indigo-300 shadow-sm rounded-xl flex flex-col hover:shadow-md transition-all duration-200",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Study Sessions"}),t.jsx("div",{className:"text-blue-500",children:t.jsx(C,{className:"w-7 h-7"})})]}),$?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-6 w-24 bg-slate-300 rounded"}),t.jsx("div",{className:"h-6 w-40 bg-slate-200 rounded mb-3"})]}):t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-green-600",children:c+g}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total Articles & Quizzes"})]})]})]})}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"mt-6 mb-4 bg-white rounded-2xl shadow-sm border w-full border-gray-100 p-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Statistics Analytics"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Tracking total performance by Daily"})]})}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-blue-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Articles"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-blue-200"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Quizzes"})]})]}),t.jsx("div",{className:"w-full h-[370px] relative",children:t.jsx("div",{className:"absolute inset-x-0 -left-4 -right-4",children:t.jsx(Chart,{options:B,series:H,type:"line",height:370})})})]}),t.jsxs("div",{className:"mt-6 mb-4 bg-white rounded-2xl shadow-sm border w-full border-gray-100 p-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Comparison Accuracy Breakdown"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Distribution of comparison types (this month)"})]})}),Y?t.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[t.jsx("div",{className:"w-full h-[400px]",children:t.jsx(ResponsivePie,{data:W,margin:{top:30,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.6,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:10,arcLinkLabelsTextColor:"#333333",arcLinkLabelsThickness:2,arcLinkLabelsColor:"#93c5fd",arcLabelsSkipAngle:10,arcLabelsTextColor:{from:"color",modifiers:[["darker",2]]},legends:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:56,itemsSpacing:10,itemWidth:90,itemHeight:18,itemTextColor:"#4B5563",symbolSize:18,symbolShape:"circle"}]})}),t.jsxs("div",{className:"absolute flex -mt-12 flex-col items-center justify-center pointer-events-none",children:[t.jsx("span",{className:"text-2xl font-bold text-gray-800",children:"100%"}),t.jsx("span",{className:"text-xs text-gray-500 font-medium tracking-wide",children:"Overall Accuracy"})]})]}):t.jsxs("div",{className:"w-full h-[400px] flex flex-col items-center justify-center bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[t.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),t.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"No comparison data available"}),t.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Complete some grammar checks to see accuracy breakdown"})]})]})]}),t.jsx(re,{})]})}function ne({onConfirmed:e,children:s}){const[a,n]=r.useState(!1),l=r.useRef(),[o,c]=r.useState(localStorage.getItem("lang")||"en"),[d,x]=r.useState({}),[m,h]=r.useState(!1);r.useEffect(()=>{const e=()=>{c(localStorage.getItem("lang")||"en")};return window.addEventListener("lang-changed",e),window.addEventListener("storage",e),()=>{window.removeEventListener("lang-changed",e),window.removeEventListener("storage",e)}},[]);const{data:u,setData:g,post:p,processing:b,reset:y,errors:f}=i({password:""}),j=()=>{n(!1),y(),x({})};return t.jsxs("span",{children:[t.jsx("span",{onClick:()=>{n(!0),setTimeout(()=>l.current?.focus(),250)},children:s}),t.jsx(D,{show:a,onClose:j,maxWidth:"lg",children:t.jsxs("form",{className:"p-6",onSubmit:s=>{s.preventDefault(),h(!0),S.post(route("password.confirm"),{password:u.password}).then(s=>{j(),y(),x({}),setTimeout(()=>{e()},100)}).catch(e=>{if(e.response&&e.response.data&&e.response.data.errors){const s={};Object.keys(e.response.data.errors).forEach(t=>{s[t]=e.response.data.errors[t][0]}),x(s),g("password","")}l.current?.focus()}).finally(()=>h(!1))},children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Security Confirmation"}),t.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"For your security, please confirm your password to continue."}),t.jsxs("div",{className:"mt-6",children:[t.jsx(B,{htmlFor:"password",value:"Enter Password"}),t.jsx(W,{id:"password",ref:l,type:"password",name:"password",value:u.password,onChange:e=>g("password",e.target.value),className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm",placeholder:"Enter your Password"}),t.jsx(q,{message:d.password,className:"mt-2"})]}),t.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[t.jsx("button",{type:"button",onClick:j,className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold disabled:opacity-60",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:m,className:"rounded-[10px] px-9 py-1 bg-blue-600 text-white font-semibold hover:bg-blue-700 transition disabled:opacity-60",children:m?"Confirming...":"Confirm"})]})]})})]})}function le(){const{auth:e,quizSummary:s,quizDaily:a,recentQuizzes:i,quizChange:o=[]}=l().props,[c,d]=r.useState(()=>!!e?.can?.student||("undefined"!=typeof window&&void 0!==window.__canAccessLibrary?window.__canAccessLibrary:null));r.useEffect(()=>{if(null!==c||!e?.user)return;let s=!1;return(async()=>{try{const e="undefined"!=typeof window&&window.axios,t=e?await window.axios.get("/library",{headers:{"X-Requested-With":"XMLHttpRequest"},validateStatus:()=>!0}):await fetch("/library",{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}}),r=e?200===t.status:t.ok;s||(d(r),"undefined"!=typeof window&&(window.__canAccessLibrary=r))}catch{s||(d(!1),"undefined"!=typeof window&&(window.__canAccessLibrary=!1))}})(),()=>{s=!0}},[e?.user?.id,c]);const x=r.useMemo(()=>(Array.isArray(a)?a:[{day:"Monday",inProgress:80,completed:90},{day:"Tuesday",inProgress:60,completed:45},{day:"Wednesday",inProgress:70,completed:60},{day:"Thursday",inProgress:40,completed:40},{day:"Friday",inProgress:65,completed:80},{day:"Saturday",inProgress:45,completed:65},{day:"Sunday",inProgress:50,completed:70}]).map(e=>({day:e.day,accepts:Number(e.completed??e.accepts??0),ignores:Number(e.inProgress??e.ignores??0),avgScore:Number(e.avgScore??0)})),[a]),{options:g,series:p}=r.useMemo(()=>({options:{chart:{type:"line",toolbar:{show:!1},fontFamily:"Inter, sans-serif"},stroke:{curve:"smooth",width:[3,3,2]},colors:["#3B82F6","#10B981"],dataLabels:{enabled:!1},grid:{borderColor:"#E5E7EB",strokeDashArray:3},xaxis:{categories:x.map(e=>e.day),labels:{style:{colors:"#6B7280",fontSize:"12px"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:[{title:{text:"Attempts"},labels:{formatter:e=>`${Math.round(e)}`,style:{colors:"#9CA3AF",fontSize:"12px"}}},{opposite:!0,title:{text:"Avg Score (%)"},labels:{formatter:e=>`${Math.round(e)}%`,style:{colors:"#9CA3AF",fontSize:"12px"}}}],legend:{show:!0},tooltip:{theme:"light",y:[{formatter:e=>`${Math.round(e)}`},{formatter:e=>`${Math.round(e)}`},{formatter:e=>`${Math.round(e)}%`}]}},series:[{name:"Attempts (Completed)",data:x.map(e=>e.accepts)},{name:"Avg Score (%)",data:x.map(e=>e.avgScore??0)}]}),[x]),b=r.useMemo(()=>Array.isArray(i)&&i.length?i:[{id:"#DF429",date:"April 28, 2016",status:"Complete",color:"green"},{id:"#HTY274",date:"October 30, 2017",status:"Complete",color:"green"},{id:"#LKE600",date:"May 29, 2017",status:"In Progress",color:"yellow"},{id:"#HRP447",date:"May 20, 2015",status:"Cancelled",color:"red"},{id:"#HRP448",date:"May 20, 2015",status:"Cancelled",color:"red"}],[i]),y={green:"bg-green-100 text-green-700",yellow:"bg-yellow-100 text-yellow-700",red:"bg-red-100 text-red-700"},f=[{title:"My Quizzes",subtitle:"Total quizzes",value:Number(s?.total??0),icon:A,color:"text-blue-500",borderColor:"border-blue-100",bgColor:"bg-blue-50"},{title:"Quizzes Completed",subtitle:"Completed total quizzes",value:Number(s?.completed??0),icon:_,color:"text-green-500",borderColor:"border-green-100",bgColor:"bg-green-50"},{title:"Avg Score (7d)",subtitle:"Average score over last 7 days",value:`${Math.round(Number(s?.avgScore7d??0))}%`,icon:k,color:"text-orange-500",borderColor:"border-orange-100",bgColor:"bg-orange-50"}];return t.jsx("div",{className:"max-w-7xl mx-auto px-2 mb-12",children:e.user?t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"space-y-3 mb-9",children:[t.jsx("h1",{className:"text-xl font-semibold text-gray-600 text-start",children:"Quiz Practices for Students"}),t.jsx("p",{className:"text-gray-600 text-md text-start",children:"SorSer's Quiz Maker offers students ready-made quizzes designed for exams, lessons, and daily practice."})]}),t.jsxs("section",{className:""+(!1===c?"blur-sm pointer-events-none":""),children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:f.map((e,s)=>{const r=e.icon;return t.jsxs("div",{className:`bg-white px-3 pb-2 pt-3 border-l-4 ${e.borderColor} shadow-sm rounded-xl flex flex-col hover:shadow-md transition-all duration-200`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-gray-800 text-base font-semibold",children:e.title}),t.jsx("div",{className:e.color,children:t.jsx(r,{className:"w-7 h-7"})})]}),t.jsxs("div",{className:"",children:[t.jsx("h2",{className:"text-lg font-bold text-gray-900",children:e.value}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.subtitle})]})]},s)})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Completed Quiz Analysis"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Tracking total quizzes by Daily"})]})}),t.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Completed"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-200"}),t.jsx("span",{className:"text-sm text-gray-600",children:"In Progress"})]})]}),t.jsx("div",{className:"h-[280px]",children:t.jsx(Chart,{options:g,series:p,type:"line",height:280})})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Quizzes"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Your latest quiz history"})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[t.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Serial No."}),t.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Score"}),t.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:b.map(e=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:e.id}),t.jsx("td",{className:"px-4 py-3 text-gray-700",children:e.date}),t.jsx("td",{className:"px-4 py-3 text-gray-700",children:e.score??"-"}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded-full ${y[e.color]}`,title:`Score: ${e.score??"-"}%`,children:e.status})})]},e.id))})]})})]})]})]}),!1===c&&t.jsx("div",{className:"absolute inset-0 bg-opacity-30 flex items-center justify-center z-10 rounded-2xl",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 w-full max-w-xl mx-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"Upgrade to Access Quiz Practices"}),t.jsx("p",{className:"text-gray-600 text-base leading-relaxed mb-6",children:"You need the Student permission to access Quiz Practices. Contact your administrator or upgrade your account."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(n,{href:route("profile.edit"),className:"block w-full px-4 py-3 border-2 border-blue-500 rounded-2xl text-blue-600 font-medium hover:bg-blue-50 transition-colors",children:"Go to Profile"}),t.jsx(n,{href:route("contacts"),className:"block w-full px-4 py-3 border-2 border-gray-300 rounded-2xl text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Contact Support"})]}),t.jsx("div",{className:"mt-6",children:t.jsx(n,{method:"post",href:route("logout"),as:"button",children:t.jsx("span",{className:"text-red-500 font-medium hover:underline",children:"Sign Out"})})})]})})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsxs("h1",{className:"text-2xl md:text-3xl font-semibold text-gray-600",children:["Triple your productivity with the"," ",t.jsx("span",{className:"text-blue-500 font-semibold",children:"Quiz Practices"})]}),t.jsx("p",{className:"text-gray-600 mt-3 max-w-4xl mx-auto leading-relaxed",children:"SorSer's Quiz Maker offers students ready-made quizzes designed for exams, lessons, and daily practice. Each quiz is customized based on the student's role and subject to make learning more effective."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-9",children:[t.jsxs("div",{className:"bg-gray-100 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx(m,{className:"text-pink-500",size:28}),t.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Website at Every Step"})]}),t.jsx("p",{className:"text-gray-600 mb-6",children:"SorSer's application helps students at every step by providing quizzes made by Teachers. Students can take quizzes, check results, and get instant feedback."}),t.jsxs("div",{className:"bg-white border rounded-xl p-4",children:[t.jsx("p",{className:"text-gray-500 text-sm font-medium mb-2",children:"Quiz Example:"}),t.jsxs("div",{className:"p-3 rounded-xl border border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-800 mb-2",children:"What key difference distinguishes isotopes?"}),t.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[t.jsx("li",{children:t.jsx("span",{className:"underline decoration-red-500 decoration-2 underline-offset-4",children:"Different electrons"})}),t.jsx("li",{children:t.jsx("span",{className:"underline decoration-green-500 decoration-2 underline-offset-4",children:t.jsx("strong",{children:"Different neutrons"})})})]})]})]})]}),t.jsxs("div",{className:"space-y-9",children:[t.jsxs("div",{className:"bg-gray-100 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(h,{className:"text-orange-500",size:28}),t.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Lightning Fast"})]}),t.jsx("p",{className:"text-gray-600",children:"Access quizzes in seconds. No setup needed — just log in and start practicing instantly."})]}),t.jsxs("div",{className:"bg-gray-100 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(u,{className:"text-pink-500",size:28}),t.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Features for Everyone"})]}),t.jsxs("p",{className:"text-gray-600",children:["Teachers can"," ",t.jsx(n,{href:"/quizzes",className:"text-blue-600 hover:underline",children:"create and manage quizzes"}),", while students review answers and track progress — all in one platform."]})]})]})]})]})})}function ie({currentQuiz:e,currentQuestionIdx:s,userAnswers:r=[],showResult:n,reviewMode:l,score:i,onAnswerChange:o,onNext:c,onPrev:d,onSubmit:x,onRestart:m,onDone:h,onStartAgain:u,setCurrentQuestionIdx:g,setReviewMode:p,setQuizStarted:b}){const[y,f]=a.useState(!1),[j,N]=a.useState(null),[v,w]=a.useState(!1);if(a.useEffect(()=>{f(!1),N(null),w(!1)},[s]),!e)return null;const k=e.questions[s],C=e=>{N(e)},A=()=>{b(!1)},_=()=>!!j&&(!Array.isArray(j)||("Matching"===k.type?j.length>0&&j.every(e=>e.right):j.length>0));return t.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col",children:[!n&&t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsx("button",{onClick:A,className:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t.jsx("div",{className:"flex-1 mx-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex-1 bg-gray-200 h-3 rounded-full overflow-hidden",children:t.jsx(z.div,{className:"bg-green-500 h-full rounded-full",initial:{width:0},animate:{width:(s+1)/e.questions.length*100+"%"},transition:{duration:.3}})}),t.jsxs("span",{className:"text-sm font-semibold text-gray-600 min-w-[40px]",children:[s+1,"/",e.questions.length]})]})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 flex items-center justify-center",children:t.jsx("div",{className:"w-full max-w-2xl",children:k&&t.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:k.text}),k.description&&t.jsx("p",{className:"text-base text-gray-600 mb-2",children:k.description})]}),t.jsxs("div",{className:"space-y-3",children:["Multiple Choice"===k.type&&k.options.map((e,s)=>{const r=j===e;return t.jsxs("button",{onClick:()=>!y&&C(e),disabled:y,className:`w-full flex items-center p-4 rounded-2xl border-2 transition-all text-left ${y&&r?v?"bg-green-100 border-green-500":"bg-red-100 border-red-500":r?"bg-blue-50 border-blue-500":"bg-white border-gray-300 hover:border-gray-400 hover:bg-gray-50"} ${y?"cursor-not-allowed":"cursor-pointer"}`,children:[t.jsx("span",{className:"w-10 h-10 flex items-center justify-center rounded-xl font-bold text-lg mr-4 "+(y&&r?v?"bg-green-500 text-white":"bg-red-500 text-white":r?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"),children:["A","B","C","D","E","F"][s]}),t.jsx("span",{className:"text-lg text-gray-800",children:e})]},s)}),"True/False"===k.type&&["True","False"].map((e,s)=>{const r=j===e;return t.jsxs("button",{onClick:()=>!y&&C(e),disabled:y,className:`w-full flex items-center justify-between p-5 rounded-2xl border-3 transition-all ${y&&r?v?"bg-green-100 border-green-500":"bg-red-100 border-red-500":r?"bg-blue-50 border-blue-500 border-3":"bg-white border-2 border-gray-300 hover:border-gray-400 hover:bg-gray-50"} ${y?"cursor-not-allowed":"cursor-pointer"}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:["True"===e?t.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center "+(y&&r?v?"bg-green-500":"bg-red-500":r?"bg-blue-500":"bg-green-50 border-2 border-green-300"),children:t.jsx("svg",{className:"w-7 h-7 "+(r||y?"text-white":"text-green-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}):t.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center "+(y&&r?v?"bg-green-500":"bg-red-500":r?"bg-blue-500":"bg-red-50 border-2 border-red-300"),children:t.jsx("svg",{className:"w-7 h-7 "+(r||y?"text-white":"text-red-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})}),t.jsx("span",{className:"text-xl font-bold text-gray-800",children:e})]}),t.jsx("div",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center "+(r?"border-blue-500 bg-blue-500":"border-gray-300"),children:r&&t.jsx("div",{className:"w-3 h-3 rounded-full bg-white"})})]},s)}),"Checkboxes"===k.type&&t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-500 mb-2 flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Select all that apply"]}),k.options.map((e,s)=>{const r=Array.isArray(j)?j:[],a=r.includes(e);return t.jsxs("button",{onClick:()=>{if(y)return;let s=[...r];a?s=s.filter(s=>s!==e):s.push(e),C(s)},disabled:y,className:`w-full flex items-center gap-4 p-4 rounded-2xl border-2 transition-all text-left ${y&&a?"bg-green-50 border-green-500":a?"bg-blue-50 border-blue-500":"bg-white border-gray-300 hover:border-gray-400 hover:bg-gray-50"} ${y?"cursor-not-allowed":"cursor-pointer"}`,children:[t.jsx("div",{className:"w-6 h-6 rounded-md border-2 flex items-center justify-center flex-shrink-0 transition-all "+(y&&a?"bg-green-500 border-green-500":a?"bg-blue-500 border-blue-500":"border-gray-400 bg-white"),children:a&&t.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),t.jsx("span",{className:"text-lg text-gray-800 flex-1",children:e})]},s)})]}),"Fill-in-the-blank"===k.type&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"text-sm font-semibold text-gray-500 flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Type your answer"]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:j||"",onChange:e=>C(e.target.value),disabled:y,className:`w-full px-6 py-5 border-2 text-gray-800 text-lg focus:outline-none transition-all rounded-2xl ${y?v?"border-green-500 bg-green-50":"border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500 bg-white"} disabled:bg-gray-100`,placeholder:"Type your answer here..."}),j&&!y&&t.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})})]})]}),"Matching"===k.type&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-500 mb-3 flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Match each item with its pair"]}),k.options.map((e,s)=>t.jsx("div",{className:"relative",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex-1 px-5 py-4 bg-gradient-to-r from-blue-50 to-blue-100 text-gray-800 text-base border-2 border-blue-200 rounded-xl font-semibold shadow-sm",children:e.left}),t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("svg",{className:"w-8 h-8 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})}),t.jsx("div",{className:"flex-1",children:t.jsxs("select",{value:Array.isArray(j)&&j.find(s=>s.left===e.left)?.right||"",onChange:s=>{const t=(Array.isArray(j)?[...j]:[]).filter(s=>s.left!==e.left);s.target.value&&t.push({left:e.left,right:s.target.value}),C(t)},disabled:y,className:`w-full px-5 py-4 border-2 text-gray-800 text-base rounded-xl focus:outline-none transition-all appearance-none cursor-pointer ${y?"bg-gray-100 border-gray-300":Array.isArray(j)&&j.find(s=>s.left===e.left)?.right?"bg-green-50 border-green-500":"bg-white border-gray-300 hover:border-blue-500"} disabled:cursor-not-allowed`,style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5em 1.5em",paddingRight:"3rem"},children:[t.jsx("option",{value:"",className:"text-gray-400",children:"Select match..."}),k.options.map((e,s)=>t.jsx("option",{value:e.right,children:e.right},s))]})})]})},s))]})]})]})})}),y&&t.jsx(z.div,{initial:{y:100},animate:{y:0},className:`${v?"bg-green-100":"bg-red-100"} border-t-2 ${v?"border-green-500":"border-red-500"}`,children:t.jsxs("div",{className:"max-w-4xl mx-auto p-6 flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center flex-shrink-0 "+(v?"bg-green-500":"bg-red-500"),children:v?t.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):t.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold "+(v?"text-green-800":"text-red-800"),children:v?"Correct":"Correct answer:"}),!v&&t.jsx("p",{className:"text-lg text-red-700 mt-1",children:"Checkboxes"===k.type&&Array.isArray(k.correct_answer)?k.correct_answer.join(", "):"Matching"===k.type&&Array.isArray(k.correct_answer)?k.correct_answer.map(e=>`${e.left} = ${e.right}`).join("; "):String(k.correct_answer)})]})]}),t.jsx("button",{onClick:()=>{f(!1),N(null),s<e.questions.length-1?c():x()},className:`px-8 py-3 rounded-full font-bold text-white text-lg flex-shrink-0 ${v?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} transition-colors`,children:s===e.questions.length-1?"Finish":"Continue"})]})}),!y&&t.jsx("div",{className:"p-6 border-t bg-white",children:t.jsx("div",{className:"max-w-4xl mx-auto flex justify-end",children:t.jsx("button",{onClick:()=>{if(!j)return;o(s,j);let e=!1;if("Checkboxes"===k.type){const s=Array.isArray(k.correct_answer)?k.correct_answer.sort():[],t=Array.isArray(j)?[...j].sort():[];e=JSON.stringify(s)===JSON.stringify(t)}else if("Matching"===k.type){const s=k.correct_answer||[],t=j||[];e=s.every(e=>t.find(s=>s.left===e.left&&s.right===e.right))&&t.length===s.length}else e=String(j).trim().toLowerCase()===String(k.correct_answer).trim().toLowerCase();w(e),f(!0)},disabled:!_(),className:"px-8 py-4 rounded-full font-bold text-white text-lg transition-all "+(_()?"bg-green-600 hover:bg-green-700":"bg-gray-300 cursor-not-allowed"),children:"Check"})})})]}),n&&!l&&t.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-8",children:t.jsxs("div",{className:"w-full max-w-md text-center",children:[t.jsx(z.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"mb-8",children:t.jsx("div",{className:"w-32 h-32 mx-auto rounded-full bg-green-500 flex items-center justify-center",children:t.jsx("svg",{className:"w-20 h-20 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),t.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Quiz Complete"}),t.jsxs("p",{className:"text-2xl text-gray-600 mb-12",children:["Your final score is ",i,"/",e.questions.length," (",Math.round(i/e.questions.length*100),"%)"]}),t.jsxs("div",{className:"space-y-3 mb-8",children:[t.jsx("button",{onClick:()=>p(!0),className:"w-full py-4 px-6 rounded-full border-2 border-gray-300 text-gray-700 font-semibold text-lg hover:bg-gray-50 transition-colors",children:"Review"}),t.jsx("button",{onClick:u,className:"w-full py-4 px-6 rounded-full border-2 border-gray-300 text-gray-700 font-semibold text-lg hover:bg-gray-50 transition-colors",children:"Restart"})]}),t.jsx("div",{className:"pt-8 border-t",children:t.jsx("button",{onClick:h,className:"text-blue-600 font-semibold hover:underline",children:"Quit"})})]})}),n&&l&&t.jsxs("div",{className:"min-h-screen bg-white overflow-y-auto",children:[t.jsx("div",{className:"sticky top-0 bg-white border-b z-10 p-4",children:t.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between",children:[t.jsx("button",{onClick:()=>p(!1),className:"text-gray-600 hover:text-gray-800",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Answers Review"}),t.jsx("button",{onClick:A,className:"text-gray-600 hover:text-gray-800",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),t.jsxs("div",{className:"max-w-3xl mx-auto p-6 pb-20 space-y-6",children:[t.jsx("div",{className:"text-center mb-6",children:t.jsxs("p",{className:"text-lg text-gray-600",children:["Score: ",t.jsxs("span",{className:"font-bold text-gray-800",children:[i,"/",e.questions.length]})]})}),e.questions.map((e,s)=>{const a=r[s]||{},n=!!a.isCorrect;return t.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:t.jsxs("div",{className:"p-4 "+(n?"bg-green-50":"bg-white"),children:[t.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[t.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 "+(n?"bg-green-500 text-white":"bg-red-500 text-white"),children:n?"✓":"✗"}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-gray-500 text-sm font-semibold",children:[s+1,"."]}),t.jsx("span",{className:"text-xs font-semibold text-blue-500 bg-blue-100 px-2 py-0.5 rounded-full",children:e.type})]}),t.jsx("p",{className:"text-gray-800 font-semibold text-base mt-1",children:e.text})]}),n?t.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-green-500 text-white",children:"Correct"}):t.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-red-500 text-white",children:"Incorrect"})]}),t.jsxs("div",{className:"pl-9 space-y-2 text-sm",children:["True/False"===e.type&&t.jsxs("div",{children:[t.jsxs("p",{children:["Your answer:"," ",t.jsx("span",{className:"font-semibold "+(a.answer===e.correct_answer?"text-green-600":"text-red-600"),children:String(a.answer)})]}),t.jsxs("p",{children:["Correct answer:"," ",t.jsx("span",{className:"font-semibold text-green-600",children:String(e.correct_answer)})]})]}),"Multiple Choice"===e.type&&e.options?.map((s,r)=>{const n=a.answer===s,l=e.correct_answer===s;return n||l?t.jsx("div",{className:"px-3 py-2 rounded-md border "+(l?"border-green-400 bg-green-50 text-green-700":n?"border-red-400 bg-red-50 text-red-700":"border-gray-200"),children:s},r):null}),("Checkbox"===e.type||"Checkboxes"===e.type)&&t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"font-semibold",children:"Your answer:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[(Array.isArray(a.answer)?a.answer:[]).map((e,s)=>t.jsx("span",{className:"px-2 py-1 rounded-md bg-red-50 border border-red-400 text-red-700",children:e},s)),(!a.answer||0===a.answer.length)&&t.jsx("span",{className:"text-gray-400",children:"—"})]}),t.jsx("p",{className:"font-semibold mt-1",children:"Correct answer:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(Array.isArray(e.correct_answer)?e.correct_answer:[]).map((e,s)=>t.jsx("span",{className:"px-2 py-1 rounded-md bg-green-50 border border-green-400 text-green-700",children:e},s))})]}),("Fill-in"===e.type||"Fill-in-the-blank"===e.type)&&t.jsxs("div",{children:[t.jsxs("p",{children:["Your answer:"," ",t.jsx("span",{className:"font-semibold "+(a.answer?.toLowerCase()===e.correct_answer?.toLowerCase()?"text-green-600":"text-red-600"),children:a.answer||"—"})]}),t.jsxs("p",{children:["Correct answer:"," ",t.jsx("span",{className:"font-semibold text-green-600",children:e.correct_answer})]})]}),"Matching"===e.type&&t.jsxs("div",{className:"space-y-2",children:[a.answer&&t.jsxs("div",{className:"p-3 rounded-xl border "+(n?"border-green-400 bg-green-50":"border-red-300 bg-red-50"),children:[t.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Your answer:"}),Array.isArray(a.answer)&&a.answer.map((e,s)=>t.jsxs("div",{className:"flex justify-between text-gray-700",children:[t.jsx("span",{children:e.left}),t.jsxs("span",{children:["= ",e.right]})]},s))]}),t.jsxs("div",{className:"p-3 rounded-xl border border-green-500 bg-green-50",children:[t.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Correct answer:"}),Array.isArray(e.correct_answer)&&e.correct_answer.map((e,s)=>t.jsxs("div",{className:"flex justify-between text-gray-700",children:[t.jsx("span",{children:e.left}),t.jsxs("span",{children:["= ",e.right]})]},s))]})]})]})]})},s)})]})]})]})}export{M as A,P as B,O as C,F as D,J as E,G as F,Z as G,U as H,B as I,I as L,D as M,E as N,R as P,ie as Q,T as R,V as S,W as T,q as a,H as b,Y as c,Q as d,te as e,K as f,X as g,ae as h,ne as i,le as j};
