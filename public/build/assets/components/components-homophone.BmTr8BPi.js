import{j as e,r as s}from"../vendor/vendor-react.CSh4geB6.js";import{M as t}from"./components-common.mFbUzjoH.js";import{a as r}from"../vendor/vendor-common.B_9lrMAm.js";import{R as a,P as l,a as n,C as i,T as c,L as d}from"../vendor/vendor-charts.30OvePoC.js";import{g as o,j as x,k as m,l as g,m as h,f as u,S as p,F as b,n as y,o as j,C as f,p as N,M as v,q as w,P as C,r as _,s as S,e as k,t as A,X as T,E as z,u as $,i as D}from"../vendor/vendor-ui.wXUDVBjR.js";function W({currentAccuracy:s,minRequired:t,bestAccuracy:r,isVisible:a,selectedArticle:l,comparisonAccuracy:n=0,currentTypingSpeed:i=0}){if(!a)return null;const c=l?.min_typed_words_percentage||t||70,d=l?.min_completion_percentage,m=l?.min_typing_speed,g=s>=c,h=!d||n>=d,u=!m||i>=m,p=g&&h&&u,b=Math.min(100,s/c*100);return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Progress to Unlock"}),e.jsx("div",{className:"px-2 py-0.5 rounded-full text-xs font-semibold "+(p?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"),children:p?"âœ“ Ready":"In Progress"})]}),e.jsxs("div",{className:"relative w-full h-5 bg-gray-100 rounded-full overflow-hidden border border-gray-200 mb-2",children:[e.jsx("div",{className:"absolute top-0 left-0 h-full transition-all duration-300 "+(typingMet?"bg-gradient-to-r from-green-400 to-green-500":"bg-gradient-to-r from-blue-400 to-blue-500"),style:{width:`${b}%`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xs font-bold text-gray-700 drop-shadow-sm",children:["Typed: ",s.toFixed(1),"%"]})})]}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[g?e.jsx(o,{className:"w-3.5 h-3.5 text-green-600"}):e.jsx(x,{className:"w-3.5 h-3.5 text-gray-400"}),e.jsx("span",{className:"text-gray-700",children:"Typing"})]}),e.jsxs("span",{className:g?"text-green-600 font-semibold":"text-gray-600",children:[s.toFixed(1),"% / ",c,"%"]})]}),d&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-1.5",children:h?e.jsx(o,{className:"w-3.5 h-3.5 text-green-600"}):e.jsx(x,{className:"w-3.5 h-3.5 text-gray-400"})}),e.jsxs("span",{className:h?"text-green-600 font-semibold":"text-gray-600",children:[n.toFixed(1),"% / ",d,"%"]})]}),m&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[u?e.jsx(o,{className:"w-3.5 h-3.5 text-green-600"}):e.jsx(x,{className:"w-3.5 h-3.5 text-gray-400"}),e.jsx("span",{className:"text-gray-700",children:"Typing Speed"})]}),e.jsxs("span",{className:u?"text-green-600 font-semibold":"text-gray-600",children:[i," / ",m," WPM"]})]})]}),e.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:e.jsx("p",{className:"text-xs text-center text-gray-600",children:p?e.jsx("span",{className:"text-green-600 font-medium",children:'Click "Save" to unlock next article!'}):e.jsx("span",{children:"Complete all requirements above to unlock next article"})})})]})}const M=async e=>{if(!e||!e.trim())return 0;try{const s=await r.post("/api/khmer-segment",{text:e},{headers:{"Content-Type":"application/json"}});return s.data&&Array.isArray(s.data.tokens)?s.data.tokens.length:e.trim().split(/\s+/).length}catch(s){return e.trim().split(/\s+/).length}},P=e=>Math.ceil(e/200*60),F=(e,s,t)=>e.filter(e=>e.comparison_type===s&&e.action===t).length,O=(e,s)=>e.filter(e=>e.activity_type===s).length;function E({comparisonActivities:s=[],accuracyStats:t=null,activityStats:r=null,audioActivities:o=[],loadingAccuracyStats:x=!1,loadingActivityStats:m=!1,loadingAudioActivities:g=!1}){const h=(e=>{const s={replaced_accept:"#34d399",replaced_dismiss:"#f87171",missing_accept:"#60a5fa",missing_dismiss:"#fbbf24",extra_accept:"#a78bfa",extra_dismiss:"#f472b6"},t=[];return["replaced","missing","extra"].forEach(r=>{const a=e.filter(e=>e.comparison_type===r&&"accept"===e.action).length,l=e.filter(e=>e.comparison_type===r&&"dismiss"===e.action).length;t.push({name:"replaced"===r?"Incorrect Accept":`${r.charAt(0).toUpperCase()+r.slice(1)} Accept`,value:a,color:s[`${r}_accept`]}),t.push({name:"replaced"===r?"Incorrect Dismiss":`${r.charAt(0).toUpperCase()+r.slice(1)} Dismiss`,value:l,color:s[`${r}_dismiss`]})}),t.filter(e=>e.value>0)})(s);return e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Distribution Actions"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Share of action by group"})]}),e.jsx(a,{width:"100%",height:280,children:e.jsxs(l,{children:[e.jsx(n,{data:h,cx:"50%",cy:"50%",outerRadius:90,dataKey:"value",labelLine:!1,children:h.map((s,t)=>e.jsx(i,{fill:s.color},`cell-${t}`))}),e.jsx(c,{formatter:(e,s)=>[`${e}`,s]}),e.jsx(d,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-slate-600 mt-4",children:[e.jsxs("div",{children:["Replaced:"," ",e.jsx("span",{className:"font-medium text-green-700",children:F(s,"replaced","accept")}),e.jsx("span",{className:"text-gray-400",children:" (a) / "}),e.jsx("span",{className:"font-medium text-red-700",children:F(s,"replaced","dismiss")}),e.jsx("span",{className:"text-gray-400",children:" (d)"})]}),e.jsxs("div",{children:["Missing:"," ",e.jsx("span",{className:"font-medium text-green-700",children:F(s,"missing","accept")}),e.jsx("span",{className:"text-gray-400",children:" (a) / "}),e.jsx("span",{className:"font-medium text-red-700",children:F(s,"missing","dismiss")}),e.jsx("span",{className:"text-gray-400",children:" (d)"})]}),e.jsxs("div",{children:["Extra:"," ",e.jsx("span",{className:"font-medium text-green-700",children:F(s,"extra","accept")}),e.jsx("span",{className:"text-gray-400",children:" (a) / "}),e.jsx("span",{className:"font-medium text-red-700",children:F(s,"extra","dismiss")}),e.jsx("span",{className:"text-gray-400",children:" (d)"})]}),e.jsxs("div",{children:["Accuracy:"," ",e.jsx("span",{className:"font-medium text-gray-800",children:x?"â€¦":null!=t?.accuracy?`${Number(t.accuracy).toFixed(2)}%`:"0%"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-slate-600 mt-4",children:[e.jsxs("div",{children:["Avg Pause (s):"," ",e.jsx("span",{className:"font-medium text-gray-800",children:m?"â€¦":null!=r?.avg_pause_duration?Number(r.avg_pause_duration).toFixed(2):"0"})]}),e.jsxs("div",{children:["Audio Plays:"," ",e.jsx("span",{className:"font-medium text-blue-700",children:g?"â€¦":O(o,"audio_play")||"0"})]}),e.jsxs("div",{children:["Audio Pauses:"," ",e.jsx("span",{className:"font-medium text-orange-700",children:g?"â€¦":O(o,"audio_pause")||"0"})]}),e.jsxs("div",{children:["Reading Time (s):"," ",e.jsx("span",{className:"font-medium text-gray-800",children:t?.reading_time_seconds??"0"})]})]})]})}const L=Object.freeze(Object.defineProperty({__proto__:null,default:function({show:s,onClose:r,docTitle:a,paragraph:l,lastSavedAt:n,statsData:i}){return e.jsx(t,{show:s,onClose:r,maxWidth:"2xl",children:e.jsxs("div",{className:"p-6 flex flex-col",style:{maxHeight:"80vh"},children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Article Name: ",a||"Untitled document"]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Date:"," ",n?new Date(n).toLocaleDateString():"â€”"]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 mb-4 text-sm text-gray-700",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-500",children:"Your Article"}),e.jsx("div",{className:"mt-1 bg-slate-50 p-3 rounded text-sm leading-relaxed whitespace-pre-wrap break-words max-h-60 overflow-auto",children:l||""})]})}),e.jsx(E,{...i})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{onClick:r,className:"rounded-[10px] border-2 border-gray-300 px-6 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",children:"Close"})})]})})}},Symbol.toStringTag,{value:"Module"}));const R=Object.freeze(Object.defineProperty({__proto__:null,default:function({show:s,onClose:r,historyItems:a=[],loading:l=!1,onViewItem:n}){return e.jsx(t,{show:s,onClose:r,maxWidth:"2xl",children:e.jsxs("div",{className:"py-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 px-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Homophone History"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700 text-lg mr-2",onClick:r,children:"âœ•"})]}),l?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"text-gray-500",children:"Loading history..."})}):0===a.length?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"text-gray-500",children:"No Homophone found."})}):e.jsx("div",{className:"overflow-x-auto max-h-[50vh] overflow-y-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"No"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Title"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Words"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Reading Time"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:a.map((s,t)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-600",children:t+1}),e.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:s.title||"Untitled document"}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:new Date(s.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3 text-center text-gray-700",children:s.word_count??"0"}),e.jsxs("td",{className:"px-4 py-3 text-center text-gray-700",children:[s.reading_time??"0","s"]}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("button",{type:"button",className:"rounded-[10px] border-2 border-blue-500 px-3 py-1 text-blue-700 hover:bg-blue-500 hover:text-white transition font-medium",onClick:()=>n(s),children:"View"})})]},s.id))})]})}),e.jsx("div",{className:"mt-6 flex justify-end px-6",children:e.jsx("button",{onClick:r,className:"rounded-[10px] border-2 border-gray-500 px-4 py-1 text-gray-600 hover:bg-gray-500 hover:text-white transition font-medium",children:"Close"})})]})})}},Symbol.toStringTag,{value:"Module"}));const I=Object.freeze(Object.defineProperty({__proto__:null,default:function({show:s,onClose:r,historyItem:a,statsData:l}){return a?e.jsx(t,{show:s,onClose:r,maxWidth:"2xl",children:e.jsxs("div",{className:"p-6 flex flex-col",style:{maxHeight:"80vh"},children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Article Name: ",a.title||"Untitled document"]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Date:"," ",a.created_at?new Date(a.created_at).toLocaleDateString():"N/A"]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 mb-4 text-sm text-gray-700",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-500",children:"Your Article"}),e.jsx("div",{className:"mt-1 bg-slate-50 p-3 rounded text-sm leading-relaxed whitespace-pre-wrap break-words max-h-60 overflow-auto",children:a.paragraph||""})]})}),e.jsx(E,{...l})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{onClick:r,className:"rounded-[10px] border-2 border-gray-300 px-6 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",children:"Close"})})]})}):null}},Symbol.toStringTag,{value:"Module"}));const H=Object.freeze(Object.defineProperty({__proto__:null,default:function({show:s,completionData:t,onClose:r}){return s&&t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-10 w-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Article Completed!"}),e.jsxs("div",{className:"my-6",children:[e.jsxs("div",{className:"text-6xl font-bold text-blue-600 mb-2",children:["number"==typeof t.accuracy?t.accuracy.toFixed(1):t.accuracy,"%"]}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Accuracy Score"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:t.totalTimeSpent?`${Math.floor(t.totalTimeSpent/60)}:${(t.totalTimeSpent%60).toString().padStart(2,"0")}`:"0:00"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Total Time"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:t.deletedCharsCount||0}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Deleted Chars"})]})]}),t.deletedCharsDetail&&t.deletedCharsDetail.length>0&&e.jsxs("details",{className:"mb-6 text-left",children:[e.jsxs("summary",{className:"cursor-pointer text-sm text-gray-700 font-medium hover:text-gray-900",children:["View Deleted Characters Detail (",t.deletedCharsDetail.length," deletions)"]}),e.jsx("div",{className:"mt-3 max-h-32 overflow-y-auto bg-gray-50 rounded-lg p-3 space-y-2",children:t.deletedCharsDetail.map((s,t)=>e.jsxs("div",{className:"text-xs text-gray-600 border-b border-gray-200 pb-2 last:border-0",children:[e.jsxs("span",{className:"font-mono bg-red-100 text-red-700 px-1 rounded",children:['"',s.characters,'"']}),e.jsxs("span",{className:"ml-2 text-gray-500",children:["(",s.count," chars at position ",s.position,")"]})]},t))})]}),e.jsx("p",{className:"text-gray-700 mb-6 text-sm leading-relaxed",children:t.message}),t.unlocked_next&&t.next_article&&e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 mb-6",children:[e.jsx("div",{className:"text-sm text-blue-900 font-semibold mb-1",children:"ðŸŽ‰ New Article Unlocked!"}),e.jsx("div",{className:"text-blue-800 font-medium",children:t.next_article.title})]}),!t.unlocked_next&&e.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"text-sm text-yellow-900",children:["You need ",e.jsxs("strong",{children:[t.min_required,"%"]})," to unlock the next article.",e.jsx("br",{}),"Keep practicing to improve your score!"]})}),e.jsx("button",{onClick:()=>{r(),setTimeout(()=>{t.redirect_url?window.location.href=t.redirect_url:window.location.reload()},300)},className:"w-full px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 font-semibold transition-colors",children:"Continue"})]})})}):null}},Symbol.toStringTag,{value:"Module"})),Y=s.memo(({article:s,isSelected:t=!1,isCompleted:r=!1,isLocked:a=!1,onClick:l})=>{const n=()=>{!a&&l&&l(s)};return e.jsxs("div",{onClick:n,className:`\n                p-4 rounded-lg border-2 transition-all cursor-pointer\n                ${t?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}\n                ${a?"opacity-50 cursor-not-allowed":"hover:shadow-md"}\n            `,role:"button",tabIndex:a?-1:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n())},children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2",children:s.title}),s.category&&e.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:s.category}),e.jsxs("div",{className:"flex items-center gap-3 mt-3 text-sm text-gray-600",children:[s.word_count&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(m,{size:14}),s.word_count," words"]}),s.reading_time&&e.jsxs("span",{children:["~",s.reading_time," min"]})]})]}),e.jsxs("div",{className:"ml-3 flex-shrink-0",children:[r&&e.jsx(g,{className:"text-green-500",size:24}),a&&e.jsx(h,{className:"text-gray-400",size:24})]})]}),s.description&&e.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:s.description}),void 0!==s.accuracy&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Best Accuracy:"}),e.jsxs("span",{className:"font-semibold "+(s.accuracy>=80?"text-green-600":s.accuracy>=60?"text-yellow-600":"text-red-600"),children:[s.accuracy,"%"]})]})})]})});Y.displayName="ArticleCard";const q=s.memo(({articles:t=[],selectedArticle:r=null,onSelectArticle:a,loading:l=!1,completedArticleIds:n=[],lockedArticleIds:i=[]})=>{const[c,d]=s.useState(""),[o,x]=s.useState("all"),m=t.filter(e=>{const s=""===c||e.title.toLowerCase().includes(c.toLowerCase())||e.category?.toLowerCase().includes(c.toLowerCase()),t=n.includes(e.id);return s&&("all"===o||"completed"===o&&t||"incomplete"===o&&!t)}),y={total:t.length,completed:n.length,incomplete:t.length-n.length};return e.jsxs("div",{className:"h-full flex flex-col bg-gray-50 border-r border-gray-200",children:[e.jsxs("div",{className:"p-4 bg-white border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(u,{className:"text-blue-600",size:24}),e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Articles"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-bold text-gray-900",children:y.total}),e.jsx("div",{className:"text-gray-600",children:"Total"})]}),e.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[e.jsx("div",{className:"font-bold text-green-700",children:y.completed}),e.jsx("div",{className:"text-green-600",children:"Done"})]}),e.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded",children:[e.jsx("div",{className:"font-bold text-blue-700",children:y.incomplete}),e.jsx("div",{className:"text-blue-600",children:"Todo"})]})]})]}),e.jsx("div",{className:"p-4 bg-white border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search articles...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("div",{className:"p-4 bg-white border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{size:16,className:"text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"})]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("button",{onClick:()=>x("all"),className:"flex-1 px-3 py-1.5 text-xs font-medium rounded transition-colors "+("all"===o?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"All"}),e.jsxs("button",{onClick:()=>x("completed"),className:"flex-1 px-3 py-1.5 text-xs font-medium rounded transition-colors flex items-center justify-center gap-1 "+("completed"===o?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e.jsx(g,{size:12}),"Done"]}),e.jsxs("button",{onClick:()=>x("incomplete"),className:"flex-1 px-3 py-1.5 text-xs font-medium rounded transition-colors flex items-center justify-center gap-1 "+("incomplete"===o?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e.jsx(h,{size:12}),"Todo"]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:l?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading articles..."})]}):0===m.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(u,{className:"mx-auto text-gray-400 mb-2",size:48}),e.jsx("p",{className:"text-sm text-gray-600",children:c||"all"!==o?"No articles match your filters":"No articles available"}),(c||"all"!==o)&&e.jsx("button",{onClick:()=>{d(""),x("all")},className:"mt-3 text-sm text-blue-600 hover:text-blue-700",children:"Clear filters"})]}):m.map(s=>e.jsx(Y,{article:s,isSelected:r?.id===s.id,isCompleted:n.includes(s.id),isLocked:i.includes(s.id),onClick:a},s.id))}),e.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-600 text-center",children:["Showing ",m.length," of ",t.length," articles"]})})]})});q.displayName="ArticleSelectionSidebar";const U=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"})),V=s.memo(({title:s,wordCount:t=0,targetWordCount:r=0,isSaving:a=!1,lastSavedAt:l=null,readingTime:n=0,onTitleChange:i,readOnly:c=!1})=>{const d=r>0?Math.min(t/r*100,100):0;return e.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[e.jsx("div",{className:"mb-3",children:c?e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s}):e.jsx("input",{type:"text",value:s,onChange:e=>i?.(e.target.value),placeholder:"Enter article title...",className:"text-2xl font-bold text-gray-900 w-full border-0 focus:ring-0 p-0"})}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-4 text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(y,{size:16}),e.jsxs("span",{children:[t," ",1===t?"word":"words"]}),r>0&&e.jsxs("span",{className:"text-gray-400",children:["/ ",r]})]}),n>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(m,{size:16}),e.jsxs("span",{children:["~",n," min read"]})]}),r>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full transition-all "+(d>=100?"bg-green-500":"bg-blue-500"),style:{width:`${d}%`}})}),e.jsxs("span",{className:"text-xs",children:[Math.round(d),"%"]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:a?e.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[e.jsx(j,{size:16,className:"animate-pulse"}),e.jsx("span",{children:"Saving..."})]}):l?e.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(f,{size:16}),e.jsx("span",{children:(e=>{if(!e)return"Not saved";const s=Date.now()-new Date(e).getTime(),t=Math.floor(s/1e3);return t<60?"Just now":t<3600?`${Math.floor(t/60)}m ago`:t<86400?`${Math.floor(t/3600)}h ago`:new Date(e).toLocaleDateString()})(l)})]}):e.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[e.jsx(j,{size:16}),e.jsx("span",{children:"Not saved"})]})})]})]})});V.displayName="EditorHeader";const Z=s.memo(({value:t,onChange:r,placeholder:a="Start typing here...",disabled:l=!1,autoSave:n=!0,onSave:i,isZoomed:c=!1,onToggleZoom:d,minHeight:o="300px",maxHeight:x="600px"})=>{const m=s.useRef(null),g=s.useRef(null);s.useEffect(()=>{if(n&&i)return g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{t&&i(t)},2e3),()=>{g.current&&clearTimeout(g.current)}},[t,n,i]),s.useEffect(()=>{m.current&&!l&&m.current.focus()},[l]);return e.jsxs("div",{className:"relative "+(c?"fixed inset-0 z-50 bg-white":""),children:[e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border-b border-gray-200 px-4 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(N,{size:16}),e.jsx("span",{children:"Text Editor"}),n&&e.jsx("span",{className:"text-xs text-gray-500",children:"(Auto-save enabled)"})]}),d&&e.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-200 rounded transition-colors",title:c?"Exit fullscreen":"Enter fullscreen",type:"button",children:c?e.jsx(v,{size:18}):e.jsx(w,{size:18})})]}),e.jsx("div",{className:""+(c?"p-8 h-full overflow-auto":""),children:e.jsx("textarea",{ref:m,value:t,onChange:e=>{l||r?.(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&e.ctrlKey&&i&&(e.preventDefault(),i(t))},placeholder:a,disabled:l,className:`\n                        w-full p-4 border-0 focus:ring-0 resize-none font-mono text-base\n                        ${l?"bg-gray-50 cursor-not-allowed":"bg-white"}\n                        ${c?"h-full":""}\n                    `,style:{minHeight:c?"100%":o,maxHeight:c?"none":x},spellCheck:!1})}),e.jsx("div",{className:"bg-gray-50 border-t border-gray-200 px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[e.jsx("div",{children:t.trim()?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"font-medium",children:[t.trim().split(/\s+/).length," words"]}),e.jsx("span",{className:"mx-2",children:"â€¢"}),e.jsxs("span",{children:[t.length," characters"]})]}):e.jsx("span",{children:"0 words, 0 characters"})}),!l&&e.jsxs("div",{className:"text-gray-500",children:["Press ",e.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-200 rounded text-xs",children:"Ctrl"})," + ",e.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-200 rounded text-xs",children:"Enter"})," to save"]})]})})]})});Z.displayName="TextEditor";const K=s.memo(({article:t,title:r,userText:a,onTitleChange:l,onTextChange:n,onSave:i,isSaving:c=!1,lastSavedAt:d=null,isZoomed:o=!1,onToggleZoom:x,onCheckText:m,isChecking:h=!1,canCheck:u=!0,showProgress:p=!0,progress:b={currentAccuracy:0,minRequired:70,bestAccuracy:0,comparisonAccuracy:0,currentTypingSpeed:0},autoSave:y=!0,selectedArticle:j=null})=>{const[f,N]=s.useState(0),[v,w]=s.useState(0);s.useEffect(()=>{const e=a.trim()?a.trim().split(/\s+/).length:0;N(e);const s=Math.ceil(e/200);w(s)},[a]);const S=t?.word_count||0;return e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsx(V,{title:r,wordCount:f,targetWordCount:S,isSaving:c,lastSavedAt:d,readingTime:v,onTitleChange:l,readOnly:!t}),p&&t&&e.jsx(W,{currentAccuracy:b.currentAccuracy,minRequired:b.minRequired,bestAccuracy:b.bestAccuracy,comparisonAccuracy:b.comparisonAccuracy,currentTypingSpeed:b.currentTypingSpeed,selectedArticle:j,isVisible:!0,className:"border-b border-gray-200"}),e.jsx("div",{className:"flex-1 overflow-hidden",children:t?e.jsx(Z,{value:a,onChange:n,placeholder:`Start typing the article: "${t.title}"...\n\nOriginal text has ${S} words.`,disabled:h,autoSave:y,onSave:i,isZoomed:o,onToggleZoom:x,minHeight:"400px"}):e.jsx("div",{className:"h-full flex items-center justify-center text-gray-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx(C,{size:64,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg",children:"Select an article to start typing"})]})})}),t&&e.jsxs("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:f>0?e.jsxs("span",{children:["Progress: ",f," / ",S," words",S>0&&e.jsxs("span",{className:"ml-2",children:["(",Math.min(Math.round(f/S*100),100),"%)"]})]}):e.jsx("span",{children:"Start typing to begin..."})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>{confirm("Are you sure you want to reset? This will clear all your text.")&&n("")},disabled:!a||h,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",type:"button",children:[e.jsx(_,{size:16}),"Reset"]}),e.jsx("button",{onClick:()=>{u&&m&&!h&&m()},disabled:!u||h||!a.trim(),className:`\n                                    px-6 py-2 text-sm font-medium rounded-lg\n                                    transition-colors flex items-center gap-2\n                                    ${u&&!h&&a.trim()?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}\n                                `,type:"button",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Checking..."]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{size:16}),"Check Text"]})})]})]}),!a&&e.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-700",children:["ðŸ’¡ ",e.jsx("strong",{children:"Tip:"}),' Type the article text as accurately as possible. Your accuracy will be compared with the original text when you click "Check Text".']})}),a&&f<.8*S&&e.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-yellow-700",children:["âš ï¸ ",e.jsx("strong",{children:"Notice:"})," You've typed ",f," words, but the article has ",S," words. Try to type the complete article for best results."]})})]})]})});K.displayName="EditorSection";const B=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"})),G=s.memo(({label:s,value:t,icon:r,color:a="blue",suffix:l="",trend:n=null,size:i="md"})=>e.jsx("div",{className:`border rounded-lg ${{sm:"p-3",md:"p-4",lg:"p-6"}[i]} ${{blue:"bg-blue-50 border-blue-200 text-blue-700",green:"bg-green-50 border-green-200 text-green-700",red:"bg-red-50 border-red-200 text-red-700",yellow:"bg-yellow-50 border-yellow-200 text-yellow-700",gray:"bg-gray-50 border-gray-200 text-gray-700"}[a]}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium opacity-75",children:s}),e.jsxs("p",{className:`${{sm:"text-xl",md:"text-2xl",lg:"text-3xl"}[i]} font-bold mt-1`,children:[t,l]}),n&&e.jsx("span",{className:"text-xs mt-1 inline-block "+("up"===n?"text-green-600":"text-red-600"),children:"up"===n?"â†‘":"â†“"})]}),r&&e.jsx("div",{className:"text-3xl opacity-50",children:r})]})}));G.displayName="MetricCard";const J=s.memo(({accuracy:s=0,totalWords:t=0,correctWords:r=0,incorrectWords:a=0,missingWords:l=0,extraWords:n=0,onAccept:i,onDismiss:c,canAccept:d=!0,isProcessing:o=!1})=>{const m=s>=90?{label:"Excellent",color:"green",icon:e.jsx(S,{})}:s>=80?{label:"Good",color:"blue",icon:e.jsx(k,{})}:s>=70?{label:"Fair",color:"yellow",icon:e.jsx(g,{})}:{label:"Needs Improvement",color:"red",icon:e.jsx(x,{})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Comparison Results"}),e.jsx("p",{className:"text-gray-600",children:"Your typing has been compared with the original text"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:`\n                    inline-flex flex-col items-center justify-center\n                    w-40 h-40 rounded-full border-8\n                    ${"green"===m.color?"border-green-500 bg-green-50":"blue"===m.color?"border-blue-500 bg-blue-50":"yellow"===m.color?"border-yellow-500 bg-yellow-50":"border-red-500 bg-red-50"}\n                `,children:[e.jsx("div",{className:"text-4xl mb-1",children:m.icon}),e.jsxs("div",{className:"text-4xl font-bold "+("green"===m.color?"text-green-700":"blue"===m.color?"text-blue-700":"yellow"===m.color?"text-yellow-700":"text-red-700"),children:[s.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm font-medium "+("green"===m.color?"text-green-600":"blue"===m.color?"text-blue-600":"yellow"===m.color?"text-yellow-600":"text-red-600"),children:m.label})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(G,{label:"Total Words",value:t,color:"gray",size:"md"}),e.jsx(G,{label:"Correct Words",value:r,color:"green",icon:e.jsx(g,{}),size:"md"}),e.jsx(G,{label:"Incorrect Words",value:a,color:"red",icon:e.jsx(x,{}),size:"md"}),e.jsx(G,{label:"Missing Words",value:l,color:"yellow",size:"md"})]}),n>0&&e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:e.jsx("div",{className:"flex items-center gap-2 text-orange-700",children:e.jsxs("span",{className:"text-sm font-medium",children:["You typed ",n," extra word",1!==n?"s":""]})})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:i,disabled:!d||o,className:`\n                        flex-1 py-3 px-4 rounded-lg font-medium text-white\n                        transition-colors flex items-center justify-center gap-2\n                        ${d&&!o?"bg-green-600 hover:bg-green-700 cursor-pointer":"bg-gray-300 cursor-not-allowed"}\n                    `,children:[e.jsx(g,{size:20}),e.jsx("span",{children:o?"Processing...":"Accept & Continue"})]}),e.jsxs("button",{onClick:c,disabled:o,className:`\n                        flex-1 py-3 px-4 rounded-lg font-medium\n                        transition-colors flex items-center justify-center gap-2\n                        ${o?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-white border-2 border-gray-300 text-gray-700 hover:bg-gray-50"}\n                    `,children:[e.jsx(x,{size:20}),e.jsx("span",{children:"Dismiss"})]})]}),s<70&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-yellow-800 text-center",children:[e.jsx("strong",{children:"Note:"})," You need at least 70% accuracy to unlock the next article."," ","You're ",(70-s).toFixed(1),"% away from the goal."]})}),s>=70&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-green-800 text-center",children:[e.jsx("strong",{children:"Great job!"})," You've met the minimum requirement.",s>=90&&" You achieved excellent accuracy!"]})})]})});J.displayName="ComparisonResults";const Q=s.memo(({originalWords:s=[],userWords:t=[],differences:r=[],onWordClick:a})=>{const l=e=>{const s=r.find(s=>s.index===e);return s?s.type:"same"},n=e=>{switch(e){case"same":return"bg-green-100 text-green-800 border-green-300";case"different":return"bg-red-100 text-red-800 border-red-300";case"missing":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"extra":return"bg-orange-100 text-orange-800 border-orange-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},i=s=>{switch(s){case"same":return e.jsx(f,{size:14,className:"inline"});case"different":return e.jsx(T,{size:14,className:"inline"});case"missing":case"extra":return e.jsx(A,{size:14,className:"inline"});default:return null}};return Math.max(s.length,t.length),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Correct"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-4 h-4 bg-red-100 border border-red-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Incorrect"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-4 h-4 bg-yellow-100 border border-yellow-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Missing"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-4 h-4 bg-orange-100 border border-orange-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Extra"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Original Text"]}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 min-h-[200px]",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((s,t)=>{const r=l(t);return e.jsx("span",{className:`\n                                            px-2 py-1 rounded border text-sm font-mono\n                                            ${n(r)}\n                                            ${a?"cursor-pointer hover:opacity-75":""}\n                                        `,onClick:()=>a?.(t,"original"),title:`Word ${t+1}: ${s}`,children:s},t)})})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Your Text"]}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 min-h-[200px]",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((s,t)=>{const r=l(t);return e.jsx("span",{className:`\n                                            px-2 py-1 rounded border text-sm font-mono\n                                            ${n(r)}\n                                            ${a?"cursor-pointer hover:opacity-75":""}\n                                        `,onClick:()=>a?.(t,"user"),title:`Word ${t+1}: ${s}`,children:s},t)})})})]})]}),r.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:["Differences (",r.length,")"]}),e.jsx("div",{className:"max-h-60 overflow-y-auto space-y-1",children:r.map((s,t)=>e.jsxs("div",{className:`p-2 rounded border text-sm ${n(s.type)}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[i(s.type),e.jsxs("span",{className:"font-medium",children:["Position ",s.index+1]})]}),e.jsx("div",{className:"text-xs opacity-75",children:s.type})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs",children:[e.jsxs("span",{className:"font-mono",children:["Expected: ",e.jsx("strong",{children:s.expected||"(none)"})]}),e.jsx("span",{children:"â†’"}),e.jsxs("span",{className:"font-mono",children:["Got: ",e.jsx("strong",{children:s.actual||"(none)"})]})]})]},t))})]})]})});Q.displayName="WordDiffViewer";const X=s.memo(({comparisonData:t,onAccept:r,onDismiss:a,onClose:l,isProcessing:n=!1})=>{const[i,c]=s.useState("summary");if(!t)return null;const{accuracy:d=0,stats:o={},article_words:x=[],user_words:m=[],differences:g=[]}=t,h=x.length,u=o.same||0,p=o.different||0,b=o.missing||0,y=o.extra||0,j=d>=70;return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Comparison Results"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>c("summary"),className:`\n                                    px-3 py-1.5 text-sm font-medium rounded transition-colors\n                                    flex items-center gap-1\n                                    ${"summary"===i?"bg-white text-gray-900 shadow":"text-gray-600 hover:text-gray-900"}\n                                `,children:[e.jsx(z,{size:16}),"Summary"]}),e.jsxs("button",{onClick:()=>c("detailed"),className:`\n                                    px-3 py-1.5 text-sm font-medium rounded transition-colors\n                                    flex items-center gap-1\n                                    ${"detailed"===i?"bg-white text-gray-900 shadow":"text-gray-600 hover:text-gray-900"}\n                                `,children:[e.jsx($,{size:16}),"Detailed"]})]}),l&&e.jsx("button",{onClick:l,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Close",children:e.jsx(T,{size:24})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:"summary"===i?e.jsx(J,{accuracy:d,totalWords:h,correctWords:u,incorrectWords:p,missingWords:b,extraWords:y,onAccept:r,onDismiss:a,canAccept:j,isProcessing:n}):e.jsx(Q,{originalWords:x,userWords:m,differences:g,onWordClick:(e,s)=>{}})}),"detailed"===i&&e.jsxs("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"text-sm text-gray-600",children:["Overall Accuracy: ",e.jsxs("strong",{className:`\n                                    ${d>=90?"text-green-600":d>=80?"text-blue-600":d>=70?"text-yellow-600":"text-red-600"}\n                                `,children:[d.toFixed(1),"%"]})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:r,disabled:!j||n,className:`\n                                    flex-1 py-3 px-4 rounded-lg font-medium text-white\n                                    transition-colors flex items-center justify-center gap-2\n                                    ${j&&!n?"bg-green-600 hover:bg-green-700":"bg-gray-300 cursor-not-allowed"}\n                                `,children:n?"Processing...":"Accept & Continue"}),e.jsx("button",{onClick:a,disabled:n,className:`\n                                    flex-1 py-3 px-4 rounded-lg font-medium\n                                    transition-colors\n                                    ${n?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-white border-2 border-gray-300 text-gray-700 hover:bg-gray-50"}\n                                `,children:"Dismiss"})]}),!j&&e.jsxs("p",{className:"mt-3 text-xs text-center text-yellow-700 bg-yellow-50 p-2 rounded",children:["Need ",(70-d).toFixed(1),"% more to unlock next article"]})]})]})})});X.displayName="ComparisonSection";const ee=Object.freeze(Object.defineProperty({__proto__:null,default:X},Symbol.toStringTag,{value:"Module"})),se=s.memo(({currentAccuracy:s=0,bestAccuracy:t=0,totalWords:r=0,correctWords:a=0,incorrectWords:l=0,timeSpent:n=0,minRequired:i=70,showTarget:c=!0})=>{const d=s>=i;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Session Statistics"}),c&&e.jsxs("div",{className:"text-sm text-gray-600",children:["Target: ",i,"%"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(G,{label:"Current Accuracy",value:s.toFixed(1),suffix:"%",color:(o=s,o>=90?"green":o>=80?"blue":o>=70?"yellow":"red"),icon:e.jsx(D,{}),size:"lg"}),e.jsx(G,{label:"Best Accuracy",value:t.toFixed(1),suffix:"%",color:"green",icon:e.jsx(S,{}),size:"lg",trend:s>t?"up":null})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(G,{label:"Total Words",value:r,color:"gray",size:"sm"}),e.jsx(G,{label:"Correct",value:a,color:"green",size:"sm"}),e.jsx(G,{label:"Incorrect",value:l,color:"red",size:"sm"})]}),e.jsx(G,{label:"Time Spent",value:(e=>{if(e<60)return`${e}s`;return`${Math.floor(e/60)}m ${e%60}s`})(n),color:"blue",icon:e.jsx(m,{}),size:"md"}),c&&e.jsx("div",{className:"p-4 rounded-lg border-2 "+(d?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"),children:e.jsx("div",{className:"flex items-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"text-green-600",size:20}),e.jsxs("span",{className:"text-sm font-medium text-green-700",children:["âœ“ Meets minimum requirement (",i,"%)"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"text-yellow-600",size:20}),e.jsxs("span",{className:"text-sm font-medium text-yellow-700",children:["Need ",(i-s).toFixed(1),"% more to unlock next article"]})]})})}),r>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Progress Breakdown"}),e.jsxs("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden flex",children:[e.jsx("div",{className:"bg-green-500 transition-all",style:{width:a/r*100+"%"},title:`${a} correct words`}),e.jsx("div",{className:"bg-red-500 transition-all",style:{width:l/r*100+"%"},title:`${l} incorrect words`})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[e.jsxs("span",{children:[a," correct"]}),e.jsxs("span",{children:[l," incorrect"]})]})]})]});var o});se.displayName="StatisticsPanel";const te=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"}));export{U as A,H as C,L as D,B as E,R as H,W as L,te as S,P as a,I as b,M as c,ee as d};
