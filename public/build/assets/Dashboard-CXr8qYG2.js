import{X as D,r as a,j as e,S as K}from"./app-CILFAaJc.js";import{A as W}from"./AdminLayout-DKBYSkTK.js";import{B as $}from"./book-open-uNxcdif1.js";import{c as N}from"./createLucideIcon-B1CUg5AK.js";import{C as L}from"./chart-column-RYkTl-TN.js";import{R as l,T as d,L as i,C as g}from"./CategoricalChart-Doe4k2Ug.js";import{A as M,a as p}from"./AreaChart-BMttXRt9.js";import{C as n,X as c,Y as x,L as U,a as u,B as P,b as j}from"./BarChart-BSWsLqvt.js";import{P as y,a as f}from"./PieChart-Dc7O2h41.js";import{T as O}from"./trending-up-BZiae4oE.js";import"./with-selector-Dmzc-9tC.js";import"./defaultLocale-DZ0G4mR_.js";const T=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],v=N("activity",T);const B=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],k=N("users",B),Z=()=>{const{props:r}=D(),C=a.useMemo(()=>{const s=r?.stats||{};return[{id:"homophones",value:s?.homophones?.count??"—",label:"Total Homophones",trend:s?.homophones?.change??"+0%",icon:$,color:"text-blue-500",borderColor:"border-blue-100",bgColor:"bg-blue-50"},{id:"quizzes",value:s?.quizzes?.count??"—",label:"Quizzes Created",trend:s?.quizzes?.change??"+0%",icon:v,color:"text-green-500",borderColor:"border-green-100",bgColor:"bg-green-50"},{id:"students",value:s?.students?.count??"—",label:"Students Registered",trend:s?.students?.change??"+0%",icon:k,color:"text-orange-500",borderColor:"border-orange-100",bgColor:"bg-orange-50"},{id:"sessions",value:s?.sessions?.count??"—",label:"Student Vs No-Permission",trend:s?.sessions?.change??"+0%",icon:L,color:"text-purple-500",borderColor:"border-purple-100",bgColor:"bg-purple-50"},{id:"activeUsers",value:s?.activeUsers?.count??"—",label:"Active Users (7d)",trend:s?.activeUsers?.change??"+0%",icon:k,color:"text-sky-500",borderColor:"border-sky-100",bgColor:"bg-sky-50"},{id:"avgWords",value:s?.avgWords?.count??"—",label:"Avg Words/Check (7d)",trend:s?.avgWords?.change??"+0%",icon:v,color:"text-emerald-500",borderColor:"border-emerald-100",bgColor:"bg-emerald-50"}]},[r?.stats]),w=a.useMemo(()=>r?.weeklyData??[],[r?.weeklyData]),m=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ef4444","#06b6d4"],h=a.useMemo(()=>(r?.topArticles??[]).map((t,R)=>({name:t.name,value:t.attempts??t.value??0,color:m[R%m.length]})),[r?.topArticles]),o=r?.comparison||{},S=a.useMemo(()=>o.trend7d||[],[o.trend7d]),b=a.useMemo(()=>(o.distribution||[]).map((s,t)=>({...s,color:t===0?"#2563eb":"#f97316"})),[o.distribution]),A=a.useMemo(()=>{const s=o?.avgWordPerCheck||{},t=o?.avgChecksPerUser||{};return[{metric:"Avg Words/Check",Student:Number(s.student??0),"No Role":Number(s.norole??0)},{metric:"Avg Checks/User",Student:Number(t.student??0),"No Role":Number(t.norole??0)}]},[o?.avgWordPerCheck,o?.avgChecksPerUser]),z=({stat:s})=>{const t=s.icon;return e.jsxs("div",{className:`bg-white px-3 pb-2 pt-3 border-l-4 ${s.borderColor} shadow-sm rounded-xl flex flex-col hover:shadow-md transition-shadow duration-200`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-sm font-semibold",children:s.label}),e.jsx("div",{className:`${s.color}`,children:e.jsx(t,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s.value}),e.jsxs("p",{className:"text-xs text-green-600 font-medium mt-1 flex items-center",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),s.trend," vs last month"]})]})]})};return e.jsxs(W,{children:[e.jsx(K,{title:"Dashboard"}),e.jsxs("div",{className:"bg-gray-50 min-h-screen p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Welcome back! Here's your homophone learning analytics."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:C.map(s=>e.jsx(z,{stat:s},s.id))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Activity Overview"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Sessions and engagement last 7 days"})]}),e.jsx(l,{width:"100%",height:300,children:e.jsxs(M,{data:w,margin:{top:10,right:30,left:0,bottom:0},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorSessions",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorEngagement",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),e.jsx(n,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(c,{dataKey:"day",stroke:"#9ca3af",style:{fontSize:"12px"}}),e.jsx(x,{stroke:"#9ca3af",style:{fontSize:"12px"}}),e.jsx(d,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"}}),e.jsx(i,{wrapperStyle:{fontSize:"12px"}}),e.jsx(p,{type:"monotone",dataKey:"sessions",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorSessions)"}),e.jsx(p,{type:"monotone",dataKey:"engagement",stroke:"#10b981",fillOpacity:1,fill:"url(#colorEngagement)"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Top Articles"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"By checks"})]}),e.jsx(l,{width:"100%",height:300,children:e.jsxs(y,{children:[e.jsx(f,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,value:t})=>`${s.split("/")[0]}: ${t}`,outerRadius:80,fill:"#8884d8",dataKey:"value",style:{fontSize:"11px"},children:h.map((s,t)=>e.jsx(g,{fill:s.color},`cell-${t}`))}),e.jsx(d,{formatter:s=>`${s} checks`,contentStyle:{fontSize:"12px",borderRadius:"8px",border:"1px solid #e5e7eb"}})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Engagement Trend (7d)"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Student vs No-Role checks"})]}),e.jsx(l,{width:"100%",height:280,children:e.jsxs(U,{data:S,margin:{top:5,right:30,left:0,bottom:5},children:[e.jsx(n,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(c,{dataKey:"day",stroke:"#9ca3af"}),e.jsx(x,{stroke:"#9ca3af"}),e.jsx(d,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),e.jsx(i,{}),e.jsx(u,{type:"monotone",dataKey:"student",stroke:"#2563eb",strokeWidth:2,dot:{r:3},name:"Student"}),e.jsx(u,{type:"monotone",dataKey:"norole",stroke:"#f97316",strokeWidth:2,dot:{r:3},name:"No Role"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Checks Distribution"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Share of checks by group"})]}),e.jsx(l,{width:"100%",height:280,children:e.jsxs(y,{children:[e.jsx(f,{data:b,cx:"50%",cy:"50%",outerRadius:90,dataKey:"value",labelLine:!1,label:({name:s,value:t})=>`${s}: ${t}`,children:b.map((s,t)=>e.jsx(g,{fill:s.color},`cmp-${t}`))}),e.jsx(d,{formatter:(s,t)=>[`${s}`,t]}),e.jsx(i,{})]})})]})]}),e.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"KPI Comparison"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Student vs No-Role on Avg Words/Check and Avg Checks/User"})]}),e.jsx(l,{width:"100%",height:320,children:e.jsxs(P,{data:A,margin:{top:5,right:20,left:0,bottom:5},children:[e.jsx(n,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(c,{dataKey:"metric",stroke:"#9ca3af"}),e.jsx(x,{stroke:"#9ca3af"}),e.jsx(d,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),e.jsx(i,{}),e.jsx(j,{dataKey:"Student",fill:"#2563eb",radius:[4,4,0,0]}),e.jsx(j,{dataKey:"No Role",fill:"#f97316",radius:[4,4,0,0]})]})})]})]})]})};export{Z as default};
