import{X as C,r as u,j as e,S as M,x as j}from"./app-CktOwjHW.js";import{A as S}from"./AuthenticatedLayout-zAiNrtmy.js";import{C as A}from"./circle-alert-D2slTW58.js";import{T as $}from"./target-H7KTqIsN.js";import{C as o}from"./circle-check-big-BsZC2xC8.js";import{c as n}from"./createLucideIcon-DNy0YAAQ.js";import{B as L}from"./book-open-D5iG0zr3.js";import{L as I}from"./lock-D-pZc5Nf.js";import"./Dropdown-BPWDajvD.js";import"./transition-BXjfuQx7.js";const P=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],f=n("chart-no-axes-column",P);const T=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],v=n("chevron-right",T);const z=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],B=n("circle-play",z);const D=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],b=n("clock",D);const E=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],H=n("star",E);const q=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],V=n("timer",q);const F=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],R=n("trophy",F);function te({articles:a,progress:t,nextUnlock:l,currentArticle:r}){const{flash:x,auth:J}=C().props,[c,m]=u.useState(null);u.useEffect(()=>{if(!l?.time_remaining?.total_seconds)return;const s=()=>{const i=new Date(l.available_at)-new Date;if(i<=0){m(null),window.location.reload();return}const y=Math.floor(i/(1e3*60*60*24)),w=Math.floor(i%(1e3*60*60*24)/(1e3*60*60)),_=Math.floor(i%(1e3*60*60)/(1e3*60)),k=Math.floor(i%(1e3*60)/1e3);m({days:y,hours:w,minutes:_,seconds:k})};s();const d=setInterval(s,1e3);return()=>clearInterval(d)},[l]);const h=s=>s.is_passed?e.jsx(o,{className:"w-6 h-6 text-green-500"}):s.is_completed?e.jsx(o,{className:"w-6 h-6 text-blue-500"}):s.is_available?e.jsx(B,{className:"w-6 h-6 text-blue-600"}):s.available_at?e.jsx(b,{className:"w-6 h-6 text-orange-500"}):e.jsx(I,{className:"w-6 h-6 text-gray-400"}),g=s=>s.is_passed?"Passed":s.is_completed?"Completed":s.is_available?"Available":s.availability_reason,p=s=>s.is_passed?"border-green-200 bg-green-50":s.is_completed?"border-blue-200 bg-blue-50":s.is_available?"border-blue-300 bg-white hover:shadow-lg cursor-pointer":"border-gray-200 bg-gray-50 opacity-75";return e.jsxs(S,{header:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight flex items-center gap-2",children:[e.jsx(L,{className:"w-6 h-6"}),"My Learning Journey"]})}),children:[e.jsx(M,{title:"Learning Articles"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[x?.error&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(A,{className:"w-5 h-5"}),x.error]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx($,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Progress"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.completion_percentage,"%"]})]})]}),e.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${t.completion_percentage}%`}})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(o,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.completed_count," / ",t.total_articles]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(V,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.in_progress_count})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(R,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Passed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.passed_count})]})]})})]}),r&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5 text-yellow-500"}),"Continue Learning"]}),e.jsx(j,{href:route("learn.articles.show",r.article.id),className:"block bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl shadow-lg p-6 text-white hover:from-blue-700 hover:to-blue-800 transition",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-1",children:r.article.title}),e.jsx("p",{className:"text-blue-100 text-sm",children:r.setting?.description||"Continue where you left off"}),r.setting?.typing_mode==="nlp_la"&&e.jsxs("span",{className:"inline-flex items-center gap-1 mt-2 px-2 py-1 bg-white/20 rounded-full text-xs",children:[e.jsx(f,{className:"w-3 h-3"}),"Full Analytics Enabled"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:"Start Now"}),e.jsx(v,{className:"w-6 h-6"})]})]})})]}),l&&c&&e.jsxs("div",{className:"mb-8 bg-orange-50 border border-orange-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(b,{className:"w-6 h-6 text-orange-600"}),e.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"Next Article Unlocks In"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex gap-3",children:[c.days>0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-700",children:c.days}),e.jsx("div",{className:"text-xs text-orange-600",children:"days"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-700",children:String(c.hours).padStart(2,"0")}),e.jsx("div",{className:"text-xs text-orange-600",children:"hours"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-700",children:String(c.minutes).padStart(2,"0")}),e.jsx("div",{className:"text-xs text-orange-600",children:"min"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-700",children:String(c.seconds).padStart(2,"0")}),e.jsx("div",{className:"text-xs text-orange-600",children:"sec"})]})]}),e.jsxs("div",{className:"ml-6 text-orange-700",children:[e.jsx("p",{className:"font-medium",children:l.article.title}),e.jsx("p",{className:"text-sm",children:"will be available soon"})]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Articles"})}),e.jsx("div",{className:"space-y-3",children:a.map((s,d)=>e.jsx("div",{children:s.is_available&&!s.is_completed?e.jsx(j,{href:route("learn.articles.show",s.article.id),className:`block rounded-xl border-2 p-5 transition-all ${p(s)}`,children:e.jsx(N,{item:s,index:d,getArticleStatusIcon:h,getArticleStatusText:g})}):e.jsx("div",{className:`rounded-xl border-2 p-5 ${p(s)}`,children:e.jsx(N,{item:s,index:d,getArticleStatusIcon:h,getArticleStatusText:g})})},s.article.id))})]})})]})}function N({item:a,index:t,getArticleStatusIcon:l,getArticleStatusText:r}){return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center font-bold ${a.is_completed?"bg-green-200 text-green-700":a.is_available?"bg-blue-200 text-blue-700":"bg-gray-200 text-gray-500"}`,children:t+1}),e.jsxs("div",{className:"flex-grow min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:`font-semibold truncate ${a.is_available?"text-gray-900":"text-gray-500"}`,children:a.article.title}),a.setting?.typing_mode==="nlp_la"&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full text-xs",children:[e.jsx(f,{className:"w-3 h-3"}),"Full"]})]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:a.setting?.description||"Transcription practice"}),a.best_accuracy!==null&&e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Best score: ",a.best_accuracy,"% (",a.attempt_count," attempts)"]})]}),e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[l(a),e.jsx("span",{className:`text-sm font-medium ${a.is_passed?"text-green-600":a.is_completed||a.is_available?"text-blue-600":"text-gray-500"}`,children:r(a)})]}),a.available_at&&!a.is_available&&e.jsx("p",{className:"text-xs text-orange-600 mt-1",children:new Date(a.available_at).toLocaleDateString()})]}),a.is_available&&!a.is_completed&&e.jsx(v,{className:"w-5 h-5 text-gray-400"})]})]})}export{te as default};
