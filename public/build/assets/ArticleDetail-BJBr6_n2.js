import{j as e,S as k,x as L}from"./app-Cisu2Mpw.js";import{A as C}from"./AuthenticatedLayout-BDC35BbP.js";import{F as S}from"./file-text-dRQPl5Qz.js";import{C as F}from"./circle-check-big-25H5V0FC.js";import{T as _}from"./trending-up-DFQPjFDe.js";import{R as c,T as x,L as o}from"./CategoricalChart-nMrVRvES.js";import{L as N,C as m,X as p,Y as h,a as v,B as I,b as u}from"./BarChart-C3KdP6ZZ.js";import{A as D,a as j}from"./AreaChart-DpJWYCAq.js";import{C as T}from"./circle-alert-hGp5AOfx.js";import{c as g}from"./createLucideIcon-B7QK4j4T.js";import"./Dropdown-DVpaw7hy.js";import"./transition-DlWSItYj.js";import"./with-selector-Bv9lUhVi.js";import"./defaultLocale-DZ0G4mR_.js";const K=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],R=g("arrow-left",K);const B=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],f=g("download",B);const $=[["path",{d:"M5 12h14",key:"1ays0h"}]],z=g("minus",$);const P=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],H=g("trending-down",P);function re({auth:b,user:d,article:l,summaryMetrics:r,sessionTimeline:y,errorAnalysis:n,keystrokePatterns:i,audioBehavior:a,comparisonMetrics:s,temporalProgression:U}){const w=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=t=>t>=80?"text-green-600 bg-green-50":t>=60?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50",E=t=>t>5?e.jsx(_,{className:"w-5 h-5 text-green-600"}):t<-5?e.jsx(H,{className:"w-5 h-5 text-red-600"}):e.jsx(z,{className:"w-5 h-5 text-gray-600"});return e.jsxs(C,{user:b.user,header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(L,{href:route("users.progress",d.id),className:"inline-flex items-center px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Back to Progress"]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Article Detail Analytics"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[d.name," â€¢ ",l.title]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("a",{href:route("users.articles.export",{userId:d.id,articleId:l.id,format:"csv"}),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-sm",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),e.jsxs("a",{href:route("users.articles.export",{userId:d.id,articleId:l.id,format:"json"}),className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors shadow-sm",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Export JSON"]}),e.jsxs("a",{href:route("users.articles.export",{userId:d.id,articleId:l.id,format:"xml"}),className:"inline-flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors shadow-sm",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Export XML"]})]})]}),children:[e.jsx(k,{title:`Article Analysis: ${l.title}`}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),e.jsx(S,{className:"w-5 h-5 text-blue-600"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.total_attempts})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Learning Gain"}),E(r.learning_gain)]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[r.learning_gain>=0?"+":"",r.learning_gain,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[r.first_attempt_accuracy,"% â†’ ",r.last_attempt_accuracy,"%"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Best Accuracy"}),e.jsx(F,{className:"w-5 h-5 text-green-600"})]}),e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[r.best_accuracy,"%"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Avg Accuracy"})}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[r.avg_accuracy,"%"]})]})]}),s.has_comparison&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(_,{className:"w-5 h-5 mr-2 text-blue-600"}),"First vs Latest Attempt Comparison"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Accuracy Improvement"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[s.accuracy_comparison.improvement>=0?"+":"",s.accuracy_comparison.improvement,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["From ",s.accuracy_comparison.first,"% to ",s.accuracy_comparison.last,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Error Reduction"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["-",s.error_comparison.reduction_percent,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["From ",s.error_comparison.first," to ",s.error_comparison.last," errors"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Effect Size (Cohen's d)"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.effect_size_cohens_d}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s.effect_size_cohens_d>.8?"Large effect":s.effect_size_cohens_d>.5?"Medium effect":"Small effect"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Learning Curve: Accuracy Progression"}),e.jsx(c,{width:"100%",height:300,children:e.jsxs(N,{data:y,children:[e.jsx(m,{strokeDasharray:"3 3"}),e.jsx(p,{dataKey:"attempt_number",label:{value:"Attempt Number",position:"insideBottom",offset:-5}}),e.jsx(h,{label:{value:"Accuracy (%)",angle:-90,position:"insideLeft"},domain:[0,100]}),e.jsx(x,{}),e.jsx(o,{}),e.jsx(v,{type:"monotone",dataKey:"accuracy_percent",stroke:"#3B82F6",strokeWidth:3,name:"Accuracy %",dot:{r:5}})]})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600 bg-blue-50 p-3 rounded",children:[e.jsx("strong",{children:"Interpretation:"})," ",r.learning_gain>0?`Positive learning trajectory with ${r.learning_gain}% improvement. This indicates successful skill acquisition.`:"Performance remains stable or declined. May need additional support or practice."]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Error Pattern Evolution"}),e.jsx(c,{width:"100%",height:300,children:e.jsxs(D,{data:n.error_evolution,children:[e.jsx(m,{strokeDasharray:"3 3"}),e.jsx(p,{dataKey:"attempt",label:{value:"Attempt Number",position:"insideBottom",offset:-5}}),e.jsx(h,{label:{value:"Error Count",angle:-90,position:"insideLeft"}}),e.jsx(x,{}),e.jsx(o,{}),e.jsx(j,{type:"monotone",dataKey:"replaced",stackId:"1",stroke:"#F59E0B",fill:"#F59E0B",name:"Replaced Errors"}),e.jsx(j,{type:"monotone",dataKey:"extra",stackId:"1",stroke:"#FBBF24",fill:"#FBBF24",name:"Extra Errors"}),e.jsx(j,{type:"monotone",dataKey:"missing",stackId:"1",stroke:"#EF4444",fill:"#EF4444",name:"Missing Errors"})]})}),e.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Error Reduction"}),e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[n.error_reduction.reduction_percent,"%"]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[n.error_reduction.first_attempt_errors," â†’ ",n.error_reduction.last_attempt_errors]})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Repeated Errors"}),e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[n.repeated_error_analysis.repeated_error_rate_percent,"%"]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[n.repeated_error_analysis.errors_repeated," of ",n.repeated_error_analysis.unique_errors," unique errors"]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Total Unique Errors"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.repeated_error_analysis.unique_errors}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Across all attempts"})]})]})]}),i.typing_evolution&&i.typing_evolution.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Typing Fluency Evolution"}),e.jsx(c,{width:"100%",height:300,children:e.jsxs(N,{data:i.typing_evolution,children:[e.jsx(m,{strokeDasharray:"3 3"}),e.jsx(p,{dataKey:"attempt",label:{value:"Attempt Number",position:"insideBottom",offset:-5}}),e.jsx(h,{label:{value:"Speed (WPM)",angle:-90,position:"insideLeft"}}),e.jsx(x,{}),e.jsx(o,{}),e.jsx(v,{type:"monotone",dataKey:"typing_speed_wpm",stroke:"#8B5CF6",strokeWidth:2,name:"Typing Speed (WPM)",dot:{r:4}})]})}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-purple-50 p-4 rounded",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Speed Improvement"}),e.jsxs("div",{className:"text-xl font-bold text-purple-600",children:[i.trends.typing_speed_improvement_percent>=0?"+":"",i.trends.typing_speed_improvement_percent,"%"]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Backspace Reduction"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:["-",i.trends.backspace_reduction_percent,"%"]})]})]})]}),a.audio_evolution&&a.audio_evolution.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Audio Listening Behavior"}),e.jsx(c,{width:"100%",height:300,children:e.jsxs(I,{data:a.audio_evolution,children:[e.jsx(m,{strokeDasharray:"3 3"}),e.jsx(p,{dataKey:"attempt",label:{value:"Attempt Number",position:"insideBottom",offset:-5}}),e.jsx(h,{label:{value:"Count",angle:-90,position:"insideLeft"}}),e.jsx(x,{}),e.jsx(o,{}),e.jsx(u,{dataKey:"plays",fill:"#F59E0B",name:"Audio Plays"}),e.jsx(u,{dataKey:"rewinds",fill:"#EF4444",name:"Rewinds"}),e.jsx(u,{dataKey:"forwards",fill:"#10B981",name:"Forwards"})]})}),e.jsxs("div",{className:"mt-4 bg-yellow-50 p-4 rounded",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Dependency Trend"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.dependency_trend.trend==="declining"?"bg-green-100 text-green-700":a.dependency_trend.trend==="increasing"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:a.dependency_trend.trend.charAt(0).toUpperCase()+a.dependency_trend.trend.slice(1)}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",a.dependency_trend.change_percent>=0?"+":"",a.dependency_trend.change_percent,"% from first to last)"]})]}),e.jsx("div",{className:"text-xs text-gray-600 mt-2",children:a.dependency_trend.trend==="declining"?"Ã¢Å“â€¦ Positive trend: User is becoming more independent from audio support":a.dependency_trend.trend==="increasing"?"Ã¢ Ã¯Â¸ Increasing reliance on audio may indicate difficulty":"Stable audio usage across attempts"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detailed Session History"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attempt"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Accuracy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Errors"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Typing Speed"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acceptance Rate"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",t.attempt_number]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w(t.session_date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${A(t.accuracy_percent)}`,children:[t.accuracy_percent,"%"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[t.total_errors,e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(R:",t.replaced_errors," E:",t.extra_errors," M:",t.missing_errors,")"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.typing_speed_wpm?`${t.typing_speed_wpm} WPM`:"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.session_duration_minutes?`${t.session_duration_minutes} min`:"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.acceptance_rate_percent?`${t.acceptance_rate_percent}%`:"N/A"})]},t.attempt_number))})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(T,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Key Insights for Thesis Analysis"]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"H2.1 (Learning Gains):"})," ",r.learning_gain>15?`Ã¢Å“â€¦ Substantial improvement of ${r.learning_gain}% exceeds typical learning curves`:"Moderate improvement observed. Consider intervention duration or support level."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"H2.2 (Error Reduction):"})," ",n.repeated_error_analysis.repeated_error_rate_percent<30?`Ã¢Å“â€¦ Low repeated error rate (${n.repeated_error_analysis.repeated_error_rate_percent}%) indicates effective learning`:"Ã¢ Ã¯Â¸ High repeated error rate suggests need for targeted remediation"]}),s.has_comparison&&e.jsxs("p",{children:[e.jsx("strong",{children:"Effect Size:"})," Cohen's d = ",s.effect_size_cohens_d,s.effect_size_cohens_d>.8?" (Large effect - strong intervention impact)":s.effect_size_cohens_d>.5?" (Medium effect)":" (Small effect)"]}),e.jsx("p",{className:"text-xs text-gray-600 italic mt-3",children:"ðŸ’¡ Export data above for statistical analysis in SPSS, R, or Python. Use temporal progression to analyze spaced repetition effects."})]})]})]})})]})}export{re as default};
