import{X as n,j as e,S as l}from"./app-Cisu2Mpw.js";import{A as c}from"./AdminLayout-_pXQNJDa.js";import{B as d}from"./Breadcrumb-Bw2efUcI.js";import{P as i}from"./Pagination-_7H8P2SG.js";function x(a){if(!a)return{type:"plain",raw:a};try{const s=JSON.parse(a);if(s&&(s.type==="grammar_feedback"||s.type==="grammar"))return{type:"grammar",error:s.error||"",suggestion:s.suggestion||s.replacement||"",text:s.text||s.message||"",checker_id:s.checker_id||s.checkerId||null,timestamp:s.timestamp||null,raw:a}}catch{}const t=/^Issue with word "(.+?)" \(suggested: "(.+?)"\) -\s*(.*)$/i,r=a.match(t);return r?{type:"grammar",error:r[1],suggestion:r[2],text:r[3],checker_id:null,timestamp:null,raw:a}:{type:"plain",raw:a}}function m({message:a}){const t=x(a);return t.type!=="grammar"?e.jsx("span",{className:"whitespace-pre-wrap break-words",children:t.raw}):e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-[11px] font-semibold rounded bg-blue-100 text-blue-700 uppercase tracking-wide",children:"Grammar"}),t.checker_id&&e.jsxs("span",{className:"text-[11px] text-slate-500",children:["Doc #",t.checker_id]}),t.timestamp&&e.jsx("span",{className:"text-[11px] text-slate-400",children:new Date(t.timestamp).toLocaleString()})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded font-mono text-xs font-medium",children:t.error}),e.jsx("span",{className:"text-slate-400 text-xs",children:"→"}),e.jsx("span",{className:"px-2 py-0.5 bg-emerald-100 text-emerald-700 rounded font-mono text-xs font-medium",children:t.suggestion||"—"})]}),t.text&&e.jsx("div",{className:"text-slate-700 text-xs bg-slate-50 border border-slate-200 rounded p-2 leading-relaxed",children:t.text}),!t.text&&e.jsx("div",{className:"text-slate-400 text-xs italic",children:"No extra explanation provided."}),e.jsxs("details",{className:"text-[11px] text-slate-400 cursor-pointer select-none",children:[e.jsx("summary",{className:"outline-none focus:ring-0",children:"Raw"}),e.jsx("pre",{className:"mt-1 p-2 bg-slate-900 text-slate-200 rounded overflow-x-auto text-[10px] leading-snug max-h-40",children:a})]})]})}function j(){const{feedbacks:a}=n().props,t="User Feedback List",r=[{title:"Home",url:"/"},{title:t,url:""}];return e.jsxs(c,{breadcrumb:e.jsx(d,{header:t,links:r}),children:[e.jsx(l,{title:t}),e.jsx("section",{className:"content",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"card card-outline card-info",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"User Feedback"})}),e.jsx("div",{className:"card-body table-responsive p-0",children:e.jsxs("table",{className:"table table-hover text-nowrap align-middle",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"70px"},children:"#ID"}),e.jsx("th",{style:{width:"160px"},children:"User"}),e.jsx("th",{children:"Message"})]})}),e.jsx("tbody",{children:a.data.length>0?a.data.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.id}),e.jsx("td",{children:s.user?e.jsx("span",{className:"text-sm font-medium text-slate-700",children:s.user.name}):e.jsx("span",{className:"text-xs text-slate-400",children:"Unknown"})}),e.jsx("td",{children:e.jsx(m,{message:s.message})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,children:"No feedback found!"})})})]})}),e.jsx("div",{className:"card-footer clearfix",children:e.jsx(i,{links:a.links})})]})})})})]})}export{j as default};
