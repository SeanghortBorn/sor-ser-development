import{j as e,v as T,a9 as I,r as t,am as A,a7 as $,an as Z,ao as ee,ap as se,Q as te,b as z,a as L,aa as W,L as ae,u as re}from"../vendor/vendor-common.DkKXL0Tk.js";import{I as le,T as oe,e as N,f as ne,R as U,A as Y,B as H,g as Q,h as G,L as D}from"../components/components-common.Cz_RKLYJ.js";function ie({children:s}){return e.jsx("div",{className:"flex min-h-screen flex-col items-center bg-gray-100 pt-6 sm:justify-center sm:pt-0",children:e.jsx("div",{className:"mt-6 w-full overflow-hidden bg-white px-6 py-4 shadow-sm sm:max-w-md rounded-xl",children:s})})}function de(){const{data:s,setData:d,post:a,processing:u,errors:r,reset:c}=T({password:""}),m=f=>{f.preventDefault(),a(route("password.confirm"),{onFinish:()=>c("password")})};return e.jsxs(ie,{children:[e.jsx(I,{title:"Confirm Password"}),e.jsx("div",{className:"mb-4 text-sm text-gray-600",children:"This is a secure area of the application. Please confirm your password before continuing."}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"mt-4",children:[e.jsx(le,{htmlFor:"password",value:"Password"}),e.jsx(oe,{id:"password",type:"password",name:"password",value:s.password,className:"mt-1 block w-full",isFocused:!0,onChange:f=>d("password",f.target.value)}),e.jsx(N,{message:r.password,className:"mt-2"})]}),e.jsx("div",{className:"mt-4 flex items-center justify-end",children:e.jsx(ne,{className:"ms-4",disabled:u,children:"Confirm"})})]})]})}const we=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"}));function ce({status:s}){const{data:d,setData:a,post:u,processing:r,errors:c}=T({email:""}),m=f=>{f.preventDefault(),u(route("password.email"))};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Forgot Password"}),e.jsx(U,{}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-10",children:e.jsxs("div",{className:"relative bg-white rounded-xl w-full max-w-xl shadow-sm",style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.18)",border:"1px solid #e5e7eb"},children:[e.jsx("button",{type:"button",className:"absolute top-5 right-6 text-gray-400  text-2xl z-10","aria-label":"Close",onClick:()=>window.history.back(),children:"×"}),e.jsxs("div",{className:"px-7 py-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#222a54] mb-2",children:"Forgot Password"}),e.jsx("p",{className:"mb-3 text-base text-gray-600 leading-relaxed",children:"Enter your registered email address and we’ll send you a reset link to create a new password."}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-base font-semibold text-[#222a54] mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",name:"email",value:d.email,onChange:f=>a("email",f.target.value),placeholder:"Enter your email",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl transition-all duration-200 ease-in-out text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[16px] font-medium"}),e.jsx(N,{message:c.email,className:"mt-1"})]}),s&&e.jsx("div",{className:"text-center text-sm text-green-700",children:s}),e.jsx("div",{className:"flex flex-col items-center mt-3",children:e.jsx("button",{type:"submit",disabled:r,className:"w-full flex items-center justify-center bg-blue-600 text-white font-semibold py-2 px-6 rounded-xl hover:bg-blue-500 transition-all duration-200 transform disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:r?"Sending...":"Send Password Reset Link"})})]})]})]})})]})}const Ne=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"}));function me({title:s,children:d,showCloseButton:a=!0}){return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:s}),e.jsx(U,{}),e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-6xl bg-white rounded-xl shadow-sm overflow-hidden",children:e.jsxs("div",{className:"grid md:grid-cols-2 min-h-[600px]",children:[e.jsxs("div",{className:"hidden md:flex relative bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 p-12 flex-col justify-between",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"30px 30px"}})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx(Y,{size:"lg",variant:"white"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:H.NAME.SHORT}),e.jsx("p",{className:"text-blue-100 text-sm",children:H.TAGLINE.EN})]})]}),e.jsxs("div",{className:"mt-12",children:[e.jsxs("h2",{className:"text-4xl font-bold text-white mb-6 leading-tight",children:["Master Khmer",e.jsx("br",{}),"Writing with",e.jsx("br",{}),"Confidence"]}),e.jsx("p",{className:"text-blue-100 text-lg leading-relaxed",children:"Learn to identify and use Khmer homophones correctly. Improve your writing skills with interactive exercises and instant feedback."})]})]}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-center gap-3 text-blue-100",children:[e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm",children:"Trusted by students and educators"})]})}),e.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 bg-white opacity-10 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute bottom-20 left-10 w-40 h-40 bg-purple-300 opacity-10 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative bg-white p-8 md:p-12 flex flex-col justify-center",children:[a&&e.jsx("button",{type:"button",className:"absolute top-6 right-6 text-gray-400  transition-all duration-200 ease-in-out",onClick:()=>window.history.back(),"aria-label":"Close",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"md:hidden flex items-center gap-3 mb-8",children:[e.jsx(Y,{size:"md",variant:"blue"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-blue-700",children:H.NAME.SHORT}),e.jsx("p",{className:"text-gray-500 text-xs",children:H.TAGLINE.EN})]})]}),e.jsx("div",{className:"w-full",children:d})]})]})})})]})}function ue({status:s,canResetPassword:d}){const{data:a,setData:u,post:r,processing:c,errors:m,reset:f}=T({email:"",password:"",remember:!1}),[g,j]=t.useState(!1),S=x=>{x.preventDefault(),r(route("login"),{onFinish:()=>f("password")})};return e.jsx(me,{title:"Log in",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to continue to your account"}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsxs("p",{className:"text-sm text-blue-700",children:["✨ Try our new ",e.jsx("a",{href:route("auth"),className:"font-semibold underline ",children:"streamlined sign-in experience"})]})})]}),s&&e.jsx("div",{className:"p-3 text-sm text-green-700 bg-green-50 border border-green-200 rounded-xl",children:s}),e.jsxs("a",{href:route("auth.google"),className:"w-full flex items-center justify-center gap-3 px-4 py-3 border-2 border-gray-300 rounded-xl hover:bg-gray-50 transition-all duration-200 ease-in-out",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Continue with Google"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-1 border-t border-gray-300"}),e.jsx("span",{className:"px-3 text-sm text-gray-500",children:"Or"}),e.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),e.jsxs("form",{className:"space-y-4",onSubmit:S,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",value:a.email,onChange:x=>u("email",x.target.value),autoComplete:"username",placeholder:"Enter your email",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base"}),e.jsx(N,{message:m.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:g?"text":"password",value:a.password,onChange:x=>u("password",x.target.value),autoComplete:"current-password",placeholder:"Enter your password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base"}),e.jsx("button",{type:"button",onClick:()=>j(!g),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 ",tabIndex:-1,children:g?e.jsx(A,{className:"w-5 h-5"}):e.jsx($,{className:"w-5 h-5"})})]}),e.jsx(N,{message:m.password,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember",type:"checkbox",checked:a.remember,onChange:x=>u("remember",x.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"remember",className:"ml-2 text-sm text-gray-700",children:"Remember me"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 hover:scale-105 hover:shadow-sm text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",disabled:c,children:c?"Logging in...":"Sign In"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm",children:[d&&e.jsx("a",{href:route("password.reset.otp"),className:"text-blue-600  hover:underline font-medium",children:"Forgot your password?"}),e.jsx("a",{href:route("register"),className:"text-blue-600  hover:underline font-medium",children:"Create an account"})]})]})})}const Se=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"}));function xe(){const{data:s,setData:d,post:a,processing:u,errors:r,reset:c}=T({name:"",email:"",password:"",password_confirmation:"",agreeTerms:!1,age:"",education_level:"",khmer_experience:""}),[m,f]=t.useState(!1),[g,j]=t.useState(!1),[S,x]=t.useState(!1),w=t.useRef(null),k=t.useRef(null),E=[{value:"",label:"Select Experience Level"},{value:"None",label:"None"},{value:"Beginner",label:"Beginner"},{value:"Intermediate",label:"Intermediate"},{value:"Advanced",label:"Advanced"},{value:"Expert",label:"Expert"}],C=[{value:"",label:"Select Education Level"},{value:"Primary",label:"Primary"},{value:"Secondary",label:"Secondary"},{value:"High School",label:"High School"},{value:"Bachelor",label:"Bachelor"},{value:"Master",label:"Master"},{value:"Doctorate",label:"Doctorate"},{value:"Other",label:"Other"}];t.useEffect(()=>{d("password_confirmation",s.password)},[s.password]),t.useEffect(()=>{function n(P){w.current&&!w.current.contains(P.target)&&j(!1),k.current&&!k.current.contains(P.target)&&x(!1)}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[]);const v=n=>{n.preventDefault(),a(route("register"))};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Sign Up"}),e.jsx(U,{}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-10",children:e.jsxs("div",{className:"relative bg-white rounded-xl w-full max-w-3xl shadow-sm",children:[e.jsx("button",{type:"button",className:"absolute top-5 right-6 text-gray-400  text-2xl z-10","aria-label":"Close",onClick:()=>window.history.back(),style:{background:"none",border:"none"},children:"×"}),e.jsxs("div",{className:"px-8 py-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#222a54] mb-3",children:"Sign Up"}),e.jsxs("a",{href:route("auth.google"),className:"w-full flex items-center justify-center gap-3 px-3 py-[14px] border-[3px] border-gray-200 rounded-xl hover:bg-gray-50 transition-all duration-200 ease-in-out mb-3",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Sign Up with Google"})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex-1 border-t border-gray-200"}),e.jsx("span",{className:"px-3 text-md text-gray-400",children:"Or"}),e.jsx("div",{className:"flex-1 border-t border-gray-200"})]}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Full Name"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:n=>d("name",n.target.value),placeholder:"Full Name",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[18px]",required:!0}),e.jsx(N,{message:r.name,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"age",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Age"}),e.jsx("input",{type:"number",name:"age",value:s.age,onChange:n=>d("age",n.target.value),placeholder:"Age",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[18px]",required:!0}),e.jsx(N,{message:r.age,className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",ref:w,children:[e.jsx("label",{htmlFor:"khmer_experience",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Khmer Writing Experience"}),e.jsxs("button",{type:"button",className:`w-full px-3 py-[12px] text-[18px] rounded-xl border bg-white shadow-sm text-left flex justify-between items-center focus:outline-none focus:ring-2 ${r.khmer_experience?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"}`,onClick:()=>j(!g),children:[E.find(n=>n.value===s.khmer_experience)?.label||"Select Experience Level",e.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform ${g?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),g&&e.jsx("div",{className:"absolute left-0 top-full mt-2 w-full bg-white border border-gray-200 rounded-xl shadow-sm z-50 max-h-60 overflow-y-auto hide-scrollbar",children:e.jsx("div",{className:"px-2 py-2 space-y-1",children:E.map(n=>e.jsx("button",{type:"button",className:`flex items-center w-full text-left px-4 py-2 text-[16px] rounded-xl transition ${s.khmer_experience===n.value?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"}`,onClick:()=>{d("khmer_experience",n.value),j(!1)},children:n.label},n.value))})}),e.jsx(N,{message:r.khmer_experience,className:"mt-1"})]}),e.jsxs("div",{className:"relative",ref:k,children:[e.jsx("label",{htmlFor:"education_level",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Education Level"}),e.jsxs("button",{type:"button",className:`w-full px-3 py-[12px] text-[18px] rounded-xl border bg-white shadow-sm text-left flex justify-between items-center focus:outline-none focus:ring-2 ${r.education_level?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"}`,onClick:()=>x(!S),children:[C.find(n=>n.value===s.education_level)?.label||"Select Education Level",e.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform ${S?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),S&&e.jsx("div",{className:"absolute left-0 top-full mt-2 w-full bg-white border border-gray-200 rounded-xl shadow-sm z-50 max-h-60 overflow-y-auto hide-scrollbar",children:e.jsx("div",{className:"px-2 py-2 space-y-1",children:C.map(n=>e.jsx("button",{type:"button",className:`flex items-center w-full text-left px-4 py-2 text-[16px] rounded-xl transition ${s.education_level===n.value?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"}`,onClick:()=>{d("education_level",n.value),x(!1)},children:n.label},n.value))})}),e.jsx(N,{message:r.education_level,className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Email Address"}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:n=>d("email",n.target.value),placeholder:"Email Address",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[18px]",required:!0}),e.jsx(N,{message:r.email,className:"mt-1"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"password",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Password"}),e.jsx("input",{type:m?"text":"password",name:"password",value:s.password,onChange:n=>d("password",n.target.value),placeholder:"Password",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[18px]",required:!0}),e.jsx("button",{type:"button",onClick:()=>f(!m),className:"absolute right-4 top-[45px] text-gray-400 ",tabIndex:-1,children:m?e.jsx(A,{size:20}):e.jsx($,{size:20})}),e.jsx(N,{message:r.password,className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mt-2",children:e.jsxs("label",{className:"flex items-center cursor-pointer select-none",children:[e.jsx(Q,{name:"agreeTerms",checked:s.agreeTerms,onChange:n=>d("agreeTerms",n.target.checked),className:"w-4 h-4 text-blue-500 border-gray-300 rounded focus:ring-blue-400",required:!0}),e.jsx("span",{className:"ml-2 text-md text-gray-600",children:"I agree to the Terms & Privacy Policy"})]})}),e.jsx("div",{className:"flex justify-start",children:e.jsx("button",{type:"submit",disabled:u,className:"w-1/3 border-2 border-blue-500 text-blue-600 hover:bg-[#f5f7ff] font-semibold py-2 rounded-xl transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95 text-md disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:scale-100",children:u?"Registering...":"Register"})})]})]}),e.jsx("div",{className:"mt-2 text-start",children:e.jsx("a",{href:route("login"),className:"text-md font-medium text-[#2563eb] hover:underline block",children:"Login to an existing account!"})})]})]})})]})}const Ce=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"}));function he({token:s,email:d}){const{data:a,setData:u,post:r,processing:c,errors:m,reset:f}=T({token:s,email:d,password:"",password_confirmation:""}),g=j=>{j.preventDefault(),r(route("password.store"),{onFinish:()=>f("password","password_confirmation")})};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Reset Password"}),e.jsx(U,{}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-10",children:e.jsxs("div",{className:"relative bg-white rounded-xl w-full max-w-xl shadow-sm",style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.18)",border:"1px solid #e5e7eb"},children:[e.jsx("button",{type:"button",className:"absolute top-5 right-6 text-gray-400  text-2xl z-10","aria-label":"Close",onClick:()=>window.history.back(),style:{background:"none",border:"none"},children:"×"}),e.jsxs("div",{className:"px-7 py-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#222a54] mb-2",children:"Reset Your Password"}),e.jsx("p",{className:"mb-3 text-base text-gray-600 leading-relaxed",children:"Enter your email and new password to regain access to your account."}),e.jsxs("form",{onSubmit:g,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-base font-semibold text-[#222a54] mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",name:"email",value:a.email,onChange:j=>u("email",j.target.value),placeholder:"Enter your email",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl transition-all duration-200 ease-in-out text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[16px] font-medium"}),e.jsx(N,{message:m.email,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-base font-semibold text-[#222a54] mb-2",children:"New Password"}),e.jsx("input",{id:"password",type:"password",name:"password",value:a.password,onChange:j=>u("password",j.target.value),placeholder:"Enter new password",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl transition-all duration-200 ease-in-out text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[16px] font-medium"}),e.jsx(N,{message:m.password,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password_confirmation",className:"block text-base font-semibold text-[#222a54] mb-2",children:"Confirm Password"}),e.jsx("input",{id:"password_confirmation",type:"password",name:"password_confirmation",value:a.password_confirmation,onChange:j=>u("password_confirmation",j.target.value),placeholder:"Confirm new password",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl transition-all duration-200 ease-in-out text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[16px] font-medium"}),e.jsx(N,{message:m.password_confirmation,className:"mt-1"})]}),e.jsx("div",{className:"flex flex-col items-end mt-4",children:e.jsx("button",{type:"submit",className:"w-1/3 justify-center bg-blue-600 text-white font-semibold py-2 px-6 rounded-xl hover:bg-blue-500 transition-all duration-200 transform disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:c,children:c?"Resetting...":"Reset Password"})})]})]})]})})]})}const ke=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"}));function K({children:s,image:d=null,brandTitle:a=null,brandSubtitle:u=null,brandMessage:r=null}){return e.jsxs("div",{className:"flex h-screen bg-white overflow-hidden",children:[e.jsxs("div",{className:"hidden md:flex md:w-1/2 bg-gradient-to-br from-blue-600 via-indigo-600 to-blue-700 p-12 flex-col justify-between relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white opacity-5 rounded-full"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-white opacity-5 rounded-full"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"mb-16",children:e.jsx(G,{logoSize:"md",logoVariant:"white",textVariant:"full",textColor:"white",textSize:"md"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-white text-3xl font-bold leading-tight",children:r?.title||"Master Khmer Writing"}),e.jsx("p",{className:"text-blue-100 text-lg leading-relaxed",children:r?.description||"Improve your Khmer writing skills with interactive exercises, real-time feedback, and personalized learning paths."}),e.jsx("div",{className:"pt-8 space-y-4",children:(r?.features||[{icon:"✓",text:"Interactive homophone checker"},{icon:"✓",text:"Real-time grammar feedback"},{icon:"✓",text:"Personalized learning path"},{icon:"✓",text:"Track your progress"}]).map((c,m)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl text-white font-bold",children:c.icon}),e.jsx("span",{className:"text-blue-50",children:c.text})]},m))})]})]}),e.jsx("div",{className:"relative z-10 pt-12 border-t border-white border-opacity-20",children:e.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:"10K+"}),e.jsx("div",{className:"text-blue-100 text-sm mt-1",children:"Active Users"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:"500+"}),e.jsx("div",{className:"text-blue-100 text-sm mt-1",children:"Lessons"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:"98%"}),e.jsx("div",{className:"text-blue-100 text-sm mt-1",children:"Success Rate"})]})]})})]}),e.jsxs("div",{className:"w-full md:w-1/2 flex flex-col bg-white overflow-y-auto",children:[e.jsx("div",{className:"md:hidden px-8 pt-8 pb-4",children:e.jsx(G,{logoSize:"sm",logoVariant:"blue",textVariant:"short",textColor:"blue",textSize:"sm"})}),e.jsx("div",{className:"flex items-start justify-center p-8 sm:p-12 pt-12 sm:pt-16 pb-16",children:e.jsx("div",{className:"w-full max-w-md",children:s})})]})]})}function be(){const[s,d]=t.useState(1),[a,u]=t.useState(""),[r,c]=t.useState(["","","","","",""]),[m,f]=t.useState(""),[g,j]=t.useState(""),[S,x]=t.useState(!1),[w,k]=t.useState(!1),[E,C]=t.useState(""),[v,n]=t.useState(!1),[P,M]=t.useState(0),_=t.useRef([]);t.useEffect(()=>{j(m)},[m]),t.useEffect(()=>{if(P>0){const o=setTimeout(()=>M(P-1),1e3);return()=>clearTimeout(o)}},[P]);const h=[{number:1,title:"Email",icon:Z},{number:2,title:"Verify Code",icon:ee},{number:3,title:"New Password",icon:se}],b=async o=>{o.preventDefault(),k(!0),C("");try{(await L.post(route("password.reset.otp.send"),{email:a})).data.success&&(d(2),M(60))}catch(i){C(i.response?.data?.message||"Failed to send OTP")}finally{k(!1)}},p=(o,i)=>{if(i&&!/^\d$/.test(i))return;const l=[...r];l[o]=i,c(l),C(""),i&&o<5&&_.current[o+1]?.focus(),o===5&&i&&l.every(y=>y!=="")&&R(l.join(""))},F=(o,i)=>{i.key==="Backspace"&&!r[o]&&o>0&&_.current[o-1]?.focus(),i.key==="v"&&(i.ctrlKey||i.metaKey)&&(i.preventDefault(),navigator.clipboard.readText().then(l=>{const y=l.replace(/\D/g,"").slice(0,6).split(""),O=[...r];y.forEach((X,q)=>{q<6&&(O[q]=X)}),c(O);const J=Math.min(y.length,5);_.current[J]?.focus(),y.length===6&&R(O.join(""))}))},R=async(o=null)=>{const i=o||r.join("");if(i.length!==6){C("Please enter all 6 digits");return}k(!0),C("");try{(await L.post(route("password.reset.otp.verify"),{email:a,otp:i})).data.success&&d(3)}catch(l){C(l.response?.data?.message||"Invalid or expired OTP"),c(["","","","","",""]),_.current[0]?.focus()}finally{k(!1)}},V=async o=>{o.preventDefault(),k(!0),C("");try{const i=await L.post(route("password.reset.otp.reset"),{email:a,otp:r.join(""),password:m,password_confirmation:g});i.data.success&&(window.location.href=i.data.redirect)}catch(i){C(i.response?.data?.message||"Failed to reset password")}finally{k(!1)}},B=async()=>{n(!0),C("");try{(await L.post(route("password.reset.otp.resend"),{email:a})).data.success&&(M(60),c(["","","","","",""]),_.current[0]?.focus())}catch(o){C(o.response?.data?.message||"Failed to resend code")}finally{n(!1)}};return e.jsx(K,{brandTitle:"SOR-SER",brandSubtitle:"Khmer Learning Platform",brandMessage:{title:"Reset Your Password",description:"Follow the simple steps to reset your password and regain access to your account.",features:[{icon:"✓",text:"Secure process"},{icon:"✓",text:"3 simple steps"},{icon:"✓",text:"Email verification"},{icon:"✓",text:"Instant access"}]},children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"max-w-md mx-auto mb-8",children:e.jsx("div",{className:"flex items-center w-full",children:h.map((o,i)=>{const l=o.icon,y=s===o.number,O=s>o.number;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center transition-all ${O?"bg-green-500 text-white":y?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:O?e.jsx(te,{className:"w-6 h-6"}):e.jsx(l,{className:"w-6 h-6"})}),e.jsx("span",{className:`text-xs mt-2 font-medium whitespace-nowrap ${y?"text-blue-600":O?"text-green-600":"text-gray-500"}`,children:o.title})]},o.number),i<h.length-1&&e.jsx("div",{className:`flex-1 h-1 mx-4 rounded ${s>o.number?"bg-green-500":"bg-gray-200"}`})]})})})}),e.jsxs("div",{className:"max-w-md mx-auto mt-8",children:[s===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reset Your Password"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email to receive a verification code"})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",value:a,onChange:o=>u(o.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base",placeholder:"Enter your email",required:!0,autoFocus:!0}),E&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:E})]}),e.jsx("button",{type:"submit",disabled:w,className:"w-full bg-blue-600 hover:bg-blue-700 hover:shadow-sm hover:scale-105 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none flex items-center justify-center gap-2",children:w?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Sending..."})]}):"Send Verification Code"}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:route("auth"),className:"text-sm text-blue-600  hover:underline transition-all duration-200 ease-in-out hover:scale-105",children:"Back to Sign In"})})]})]}),s===2&&e.jsxs("div",{className:"space-y-6 text-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Verify Code"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Enter the 6-digit code sent to ",a]})]}),e.jsx("div",{className:"flex justify-center gap-3",children:r.map((o,i)=>e.jsx("input",{ref:l=>_.current[i]=l,type:"text",inputMode:"numeric",maxLength:1,value:o,onChange:l=>p(i,l.target.value),onKeyDown:l=>F(i,l),className:"w-12 h-14 text-center text-2xl font-bold border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",autoFocus:i===0},i))}),E&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-sm text-red-700",children:E})}),e.jsx("button",{onClick:()=>R(),disabled:w||r.some(o=>!o),className:"w-full bg-blue-600 hover:bg-blue-700 hover:shadow-sm hover:scale-105 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none flex items-center justify-center gap-2",children:w?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Verifying..."})]}):"Verify Code"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Didn't receive the code?"," ",P>0?e.jsxs("span",{className:"text-gray-500",children:["Resend in ",P,"s"]}):e.jsx("button",{onClick:B,disabled:v,className:"text-blue-600  font-semibold disabled:opacity-50",children:v?"Sending...":"Resend Code"})]})]}),s===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Password"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Choose a strong password for your account"})]}),e.jsxs("form",{onSubmit:V,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:S?"text":"password",value:m,onChange:o=>f(o.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base",placeholder:"Enter new password",required:!0,autoFocus:!0}),e.jsx("button",{type:"button",onClick:()=>x(!S),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 ",tabIndex:-1,children:S?e.jsx(A,{className:"w-5 h-5"}):e.jsx($,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password_confirmation",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),e.jsx("input",{id:"password_confirmation",type:S?"text":"password",value:g,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl bg-gray-50 text-base",placeholder:"Same as above"})]}),E&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-sm text-red-700",children:E})}),e.jsx("button",{type:"submit",disabled:w,className:"w-full bg-blue-600 hover:bg-blue-700 hover:shadow-sm hover:scale-105 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none flex items-center justify-center gap-2",children:w?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Resetting..."})]}):"Reset Password & Sign In"})]})]})]})]})})}const Ee=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"})),pe=()=>{const[s,d]=t.useState(!1),a=t.useRef(null),u=t.useRef(null),{data:r,setData:c,post:m,processing:f,errors:g}=T({code:"",recovery_code:"",remember_device:!1}),j=()=>d(x=>!x);t.useEffect(()=>{s?(a.current?.focus(),c("code","")):(u.current?.focus(),c("recovery_code",""))},[s]);const S=x=>{x.preventDefault(),m(route("two-factor.login"))};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Two-factor Confirmation"}),e.jsx(U,{}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-10",children:e.jsxs("div",{className:"relative bg-white rounded-xl w-full max-w-xl shadow-sm",style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.18)",border:"1px solid #e5e7eb"},children:[e.jsx("button",{type:"button",className:"absolute top-5 right-6 text-gray-400  text-2xl z-10","aria-label":"Close",onClick:()=>window.history.back(),style:{background:"none",border:"none"},children:"×"}),e.jsxs("div",{className:"px-7 py-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#222a54] mb-1",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-base text-gray-600 mb-3",children:s?"Enter one of your emergency recovery codes.":"Enter the 6-digit code from your authenticator app."}),e.jsxs("form",{onSubmit:S,className:"space-y-5",children:[s?e.jsxs("div",{children:[e.jsx("label",{htmlFor:"recovery_code",className:"block text-base font-semibold text-[#222a54] mb-2",children:"Recovery Code"}),e.jsx("input",{id:"recovery_code",ref:a,type:"text",placeholder:"ABCDEF-GHIJKL",autoComplete:"one-time-code",value:r.recovery_code,onChange:x=>c("recovery_code",x.target.value),className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl transition-all duration-200 ease-in-out text-gray-600 focus:ring-3 focus:ring-blue-100 focus:outline-none text-[16px] font-medium placeholder-gray-400",required:!0}),e.jsx(N,{message:g.recovery_code,className:"mt-1"})]}):e.jsxs("div",{children:[e.jsx("label",{htmlFor:"code",className:"block text-base font-semibold text-[#222a54] mb-2",children:"Authentication Code"}),e.jsx("input",{id:"code",ref:u,type:"text",inputMode:"numeric",maxLength:"6",autoComplete:"one-time-code",placeholder:"123456",value:r.code,onChange:x=>c("code",x.target.value.replace(/[^0-9]/g,"").slice(0,6)),className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl transition-all duration-200 ease-in-out text-gray-600 focus:ring-3 focus:ring-blue-100 focus:outline-none text-[16px] font-medium placeholder-gray-400",required:!0}),e.jsx(N,{message:g.code,className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Q,{name:"remember_device",checked:r.remember_device,onChange:x=>c("remember_device",x.target.checked)}),e.jsx("span",{className:"ms-2 text-sm text-gray-600",children:"Remember this device for 30 days"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-end sm:items-center gap-3 mt-2 space-x-1",children:[e.jsx("button",{type:"button",onClick:j,className:"text-sm font-semibold text-blue-600 hover:underline transition-all duration-200 ease-in-out hover:scale-105",children:s?"Use an authentication code":"Use a recovery code"}),e.jsx("button",{type:"submit",disabled:f,className:"w-1/3 flex items-center justify-center bg-blue-600 text-white font-semibold py-1.5 px-4 rounded-xl hover:bg-blue-500 transition-all duration-200 transform disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:f?"Verifying...":"Log In"})]})]})]})]})})]})},_e=Object.freeze(Object.defineProperty({__proto__:null,default:pe},Symbol.toStringTag,{value:"Module"}));function fe(){const[s,d]=t.useState("email"),[a,u]=t.useState(""),[r,c]=t.useState(""),[m,f]=t.useState(""),[g,j]=t.useState(""),[S,x]=t.useState(""),[w,k]=t.useState(""),[E,C]=t.useState(""),[v,n]=t.useState(!1),[P,M]=t.useState(!1),[_,h]=t.useState(!1),[b,p]=t.useState({}),[F,R]=t.useState(""),V=async l=>{l.preventDefault(),p({}),h(!0);try{(await L.post(route("auth.check-email"),{email:a})).data.exists?(d("password"),R("Welcome back! Please enter your password.")):(d("signup"),R("Create your account to get started."))}catch(y){p({email:y.response?.data?.message||"An error occurred"})}finally{h(!1)}},B=async l=>{l.preventDefault(),p({}),h(!0);try{const y=await L.post(route("auth.login"),{email:a,password:r,remember:P});y.data.success&&(y.data.requires_verification?W.visit(route("otp.verify")):window.location.href=y.data.redirect)}catch(y){p({password:y.response?.data?.message||"Invalid credentials"}),h(!1)}},o=async l=>{if(l.preventDefault(),p({}),r!==m){p({password_confirmation:"Passwords do not match"});return}h(!0);try{const y=await L.post(route("auth.register"),{email:a,password:r,password_confirmation:m,name:g||a,age:S,education_level:w,khmer_experience:E});y.data.success&&y.data.requires_verification&&W.visit(route("otp.verify"))}catch(y){const O=y.response?.data;O?.errors?p(O.errors):p({general:O?.message||"Registration failed"}),h(!1)}},i=()=>{d("email"),c(""),f(""),j(""),x(""),k(""),C(""),p({}),R("")};return e.jsx(K,{brandTitle:"SOR-SER",brandSubtitle:"Khmer Learning Platform",brandMessage:{title:"Master Khmer Writing",description:"Improve your Khmer writing skills with interactive exercises, real-time feedback, and personalized learning paths.",features:[{icon:"✓",text:"Interactive homophone checker"},{icon:"✓",text:"Real-time grammar feedback"},{icon:"✓",text:"Personalized learning path"},{icon:"✓",text:"Track your progress"}]},children:e.jsxs("div",{className:"space-y-6 mt-4",children:[e.jsxs("div",{className:"mb-2",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:[s==="email"&&"Get Started",s==="password"&&"Welcome Back",s==="signup"&&"Create Account"]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[s==="email"&&"Enter your email to continue",s==="password"&&F,s==="signup"&&F]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),e.jsxs("a",{href:route("auth.google"),className:"group hover:bg-blue-600 hover:border-blue-600 hover:shadow-sm hover:scale-[1.02] w-full flex items-center justify-center gap-3 px-4 py-3 border-2 border-gray-300 rounded-xl transition-all duration-200",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{className:"text-gray-700 group- transition-all duration-200 ease-in-out duration-200 font-medium",children:"Google"})]})]}),s==="email"&&e.jsxs("form",{onSubmit:V,className:"space-y-5 mt-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",value:a,onChange:l=>u(l.target.value),className:`w-full px-4 py-3 border-2 border-gray-300 ${D.ROUNDED.MEDIUM} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-base`,placeholder:"you@example.com",required:!0,autoFocus:!0}),e.jsx(N,{message:b.email,className:"mt-2"})]}),e.jsx("button",{type:"submit",disabled:_,className:`w-full bg-blue-600 hover:bg-blue-700 hover:scale-105 hover:shadow-sm text-white font-semibold py-3 px-6 ${D.ROUNDED.MEDIUM} transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm hover:shadow-sm`,children:_?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Checking..."})]}):"Continue"}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:route("password.reset.otp"),className:"text-sm text-blue-600  hover:underline transition-all duration-200 ease-in-out hover:scale-105",children:"Forgot your password?"})})]}),s==="password"&&e.jsxs("form",{onSubmit:B,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700",children:"Password"}),e.jsx("button",{type:"button",onClick:i,className:"text-sm text-blue-600 ",children:"Change email"})]}),e.jsx("div",{className:"text-sm text-gray-600 mb-3",children:a}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:v?"text":"password",value:r,onChange:l=>c(l.target.value),className:`w-full px-4 py-3 pr-12 border border-gray-300 ${D.ROUNDED.MEDIUM} focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base`,placeholder:"Enter your password",required:!0,autoFocus:!0}),e.jsx("button",{type:"button",onClick:()=>n(!v),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 ",tabIndex:-1,children:v?e.jsx(A,{className:"w-5 h-5"}):e.jsx($,{className:"w-5 h-5"})})]}),e.jsx(N,{message:b.password,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember",type:"checkbox",checked:P,onChange:l=>M(l.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded-xl focus:ring-blue-500"}),e.jsx("label",{htmlFor:"remember",className:"ml-2 text-sm text-gray-700 cursor-pointer",children:"Remember me"})]}),e.jsx("button",{type:"submit",disabled:_,className:`w-full bg-blue-600 hover:bg-blue-700 hover:shadow-sm hover:scale-105 text-white font-semibold py-3 px-6 ${D.ROUNDED.MEDIUM} transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none flex items-center justify-center gap-2`,children:_?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Signing in..."})]}):"Sign In"}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:route("password.reset.otp"),className:"text-sm text-blue-600  hover:underline transition-all duration-200 ease-in-out hover:scale-105",children:"Forgot your password?"})})]}),s==="signup"&&e.jsxs("form",{onSubmit:o,className:"space-y-4 mt-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Email Address"}),e.jsx("button",{type:"button",onClick:i,className:"text-sm text-blue-600 ",children:"Change email"})]}),e.jsx("div",{className:`text-sm text-gray-600 px-4 py-3 bg-gray-50 ${D.ROUNDED.MEDIUM} mb-3`,children:a})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:v?"text":"password",value:r,onChange:l=>c(l.target.value),className:`w-full px-4 py-3 pr-12 border-2 border-gray-300 ${D.ROUNDED.MEDIUM} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-base`,placeholder:"Create a strong password",required:!0,autoFocus:!0}),e.jsx("button",{type:"button",onClick:()=>n(!v),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 ",tabIndex:-1,children:v?e.jsx(A,{className:"w-5 h-5"}):e.jsx($,{className:"w-5 h-5"})})]}),e.jsx(N,{message:b.password,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password_confirmation",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password_confirmation",type:v?"text":"password",value:m,onChange:l=>f(l.target.value),className:`w-full px-4 py-3 pr-12 border-2 border-gray-300 ${D.ROUNDED.MEDIUM} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-base`,placeholder:"Confirm your password",required:!0}),e.jsx("button",{type:"button",onClick:()=>n(!v),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 ",tabIndex:-1,children:v?e.jsx(A,{className:"w-5 h-5"}):e.jsx($,{className:"w-5 h-5"})})]}),e.jsx(N,{message:b.password_confirmation,className:"mt-2"})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200 mt-4",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-3",children:"Optional: Help us personalize your experience"}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-xs font-medium text-gray-600 mb-1",children:"Full Name"}),e.jsx("input",{id:"name",type:"text",value:g,onChange:l=>j(l.target.value),className:`w-full px-3 py-2 border border-gray-300 ${D.ROUNDED.SMALL} focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all text-sm`,placeholder:"Your name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2.5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"age",className:"block text-xs font-medium text-gray-600 mb-1",children:"Age"}),e.jsx("input",{id:"age",type:"number",value:S,onChange:l=>x(l.target.value),className:`w-full px-3 py-2 border border-gray-300 ${D.ROUNDED.SMALL} focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all text-sm`,placeholder:"Age"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"education",className:"block text-xs font-medium text-gray-600 mb-1",children:"Education"}),e.jsxs("select",{id:"education",value:w,onChange:l=>k(l.target.value),className:`w-full px-3 py-2 border border-gray-300 ${D.ROUNDED.SMALL} focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all text-sm`,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Primary",children:"Primary"}),e.jsx("option",{value:"Secondary",children:"Secondary"}),e.jsx("option",{value:"High School",children:"High School"}),e.jsx("option",{value:"Bachelor",children:"Bachelor"}),e.jsx("option",{value:"Master",children:"Master"}),e.jsx("option",{value:"Doctorate",children:"Doctorate"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"khmer",className:"block text-xs font-medium text-gray-600 mb-1",children:"Khmer Writing Experience"}),e.jsxs("select",{id:"khmer",value:E,onChange:l=>C(l.target.value),className:`w-full px-3 py-2 border border-gray-300 ${D.ROUNDED.SMALL} focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-all text-sm`,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"None",children:"None"}),e.jsx("option",{value:"Beginner",children:"Beginner"}),e.jsx("option",{value:"Intermediate",children:"Intermediate"}),e.jsx("option",{value:"Advanced",children:"Advanced"}),e.jsx("option",{value:"Expert",children:"Expert"})]})]})]})]}),b.general&&e.jsx("div",{className:`p-3 bg-red-50 border border-red-200 ${D.ROUNDED.SMALL}`,children:e.jsx("p",{className:"text-sm text-red-700",children:b.general})}),e.jsx("button",{type:"submit",disabled:_,className:`w-full bg-blue-600 hover:bg-blue-700 hover:scale-105 hover:shadow-sm text-white font-semibold py-3 px-6 ${D.ROUNDED.MEDIUM} transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm hover:shadow-sm mt-5`,children:_?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Creating account..."})]}):"Create Account"})]})]})})}const De=Object.freeze(Object.defineProperty({__proto__:null,default:fe},Symbol.toStringTag,{value:"Module"}));function ge({status:s}){const{post:d,processing:a}=T({}),u=r=>{r.preventDefault(),d(route("verification.send"))};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Email Verification"}),e.jsx(U,{}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-10",children:e.jsxs("div",{className:"relative bg-white rounded-xl w-full max-w-xl shadow-sm",style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.18)",border:"1px solid #e5e7eb"},children:[e.jsx("button",{type:"button",className:"absolute top-5 right-6 text-gray-400  text-2xl z-10","aria-label":"Close",onClick:()=>window.history.back(),style:{background:"none",border:"none"},children:"×"}),e.jsxs("div",{className:"px-7 py-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#222a54] mb-3",children:"Verify Your Email"}),e.jsx("p",{className:"mb-3 text-base text-gray-600 leading-relaxed",children:"Thanks for signing up! Before getting started, please verify your email address by clicking on the link we just sent. Didn’t receive the email? You can request another below."}),s==="verification-link-sent"&&e.jsx("div",{className:"text-sm text-green-700 ",children:"A new verification link has been sent to your registered email address."}),e.jsx("form",{onSubmit:u,className:"space-y-3",children:e.jsxs("div",{className:"flex flex-col items-center mt-3",children:[e.jsx("button",{type:"submit",className:"w-full flex items-center justify-center bg-blue-600 text-white font-semibold py-2 px-6 rounded-xl hover:bg-blue-500 transition-all duration-200 transform disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:a,children:a?"Sending...":"Resend Verification Email"}),e.jsx(ae,{href:route("logout"),method:"post",as:"button",className:"text-base text-[#2563eb] hover:underline font-medium mt-3",children:"Log Out"})]})})]})]})})]})}const Pe=Object.freeze(Object.defineProperty({__proto__:null,default:ge},Symbol.toStringTag,{value:"Module"}));function je({email:s}){const{flash:d}=re().props,[a,u]=t.useState(["","","","","",""]),[r,c]=t.useState(!1),[m,f]=t.useState(""),[g,j]=t.useState(!1),[S,x]=t.useState(!1),[w,k]=t.useState(0),[E,C]=t.useState(d?.success||""),v=t.useRef([]);t.useEffect(()=>{if(w>0){const h=setTimeout(()=>k(w-1),1e3);return()=>clearTimeout(h)}},[w]);const n=(h,b)=>{if(b&&!/^\d$/.test(b))return;const p=[...a];p[h]=b,u(p),f(""),b&&h<5&&v.current[h+1]?.focus(),h===5&&b&&p.every(F=>F!=="")&&M(p.join(""))},P=(h,b)=>{b.key==="Backspace"&&!a[h]&&h>0&&v.current[h-1]?.focus(),b.key==="v"&&(b.ctrlKey||b.metaKey)&&(b.preventDefault(),navigator.clipboard.readText().then(p=>{const F=p.replace(/\D/g,"").slice(0,6).split(""),R=[...a];F.forEach((B,o)=>{o<6&&(R[o]=B)}),u(R);const V=Math.min(F.length,5);v.current[V]?.focus(),F.length===6&&M(R.join(""))}))},M=async(h=null)=>{const b=h||a.join("");if(b.length!==6){f("Please enter all 6 digits");return}c(!0),f("");try{const p=await L.post(route("otp.verify.submit"),{otp:b});p.data.success&&(j(!0),setTimeout(()=>{window.location.href=p.data.redirect},1e3))}catch(p){f(p.response?.data?.message||"Verification failed. Please try again."),u(["","","","","",""]),v.current[0]?.focus()}finally{c(!1)}},_=async()=>{x(!0),f("");try{(await L.post(route("otp.resend"))).data.success&&(k(60),u(["","","","","",""]),v.current[0]?.focus())}catch(h){f(h.response?.data?.message||"Failed to resend code")}finally{x(!1)}};return e.jsx(K,{brandTitle:"SOR-SER",brandSubtitle:"Khmer Learning Platform",brandMessage:{title:"Verify Your Email",description:"We sent a verification code to your email. Enter it below to continue.",features:[{icon:"✓",text:"Secure verification"},{icon:"✓",text:"Quick and simple"},{icon:"✓",text:"One-time code"},{icon:"✓",text:"Valid for 10 minutes"}]},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:g?"Email Verified!":"Verify Your Email"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:g?"Your email has been verified successfully":`We sent a 6-digit code to ${s}`})]}),!g&&e.jsxs(e.Fragment,{children:[E&&e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-xl",children:e.jsx("p",{className:"text-sm text-green-700",children:E})}),e.jsx("div",{className:"flex justify-center gap-2",children:a.map((h,b)=>e.jsx("input",{ref:p=>v.current[b]=p,type:"text",inputMode:"numeric",maxLength:1,value:h,onChange:p=>n(b,p.target.value),onKeyDown:p=>P(b,p),className:`w-12 h-12 text-center text-xl font-bold border-2 ${D.ROUNDED.MEDIUM} focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all ${m?"border-red-300":"border-gray-300"}`,autoFocus:b===0},b))}),m&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-sm text-red-700",children:m})}),e.jsx("button",{onClick:()=>M(),disabled:r||a.some(h=>!h),className:`w-full bg-blue-600 hover:bg-blue-700 hover:shadow-sm hover:scale-105 text-white font-semibold py-3 px-6 ${D.ROUNDED.MEDIUM} transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none flex items-center justify-center gap-2`,children:r?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Verifying..."})]}):"Verify Email"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Didn't receive the code?"," ",w>0?e.jsxs("span",{className:"text-gray-500",children:["Resend in ",w,"s"]}):e.jsx("button",{onClick:_,disabled:S,className:"text-blue-600  hover:scale-110 font-semibold transition-all duration-300 disabled:opacity-50",children:S?"Sending...":"Resend Code"})]})]}),g&&e.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[e.jsx(z,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Redirecting..."})]})]})})}const Re=Object.freeze(Object.defineProperty({__proto__:null,default:je},Symbol.toStringTag,{value:"Module"}));export{we as C,Ne as F,Se as L,Ce as R,_e as T,De as U,Pe as V,ke as a,Ee as b,Re as c};
