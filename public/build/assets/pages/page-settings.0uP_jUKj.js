import{r as e,j as s}from"../vendor/vendor-react.CSh4geB6.js";import{u as r,H as t,r as l}from"../vendor/vendor-inertia.HwN2lMYo.js";import{A as a}from"./page-articles.BtzFlrUy.js";import{a2 as i,o}from"../vendor/vendor-ui.wXUDVBjR.js";import"../vendor/vendor-common.B_9lrMAm.js";import"../vendor/vendor-charts.30OvePoC.js";import"../components/components-common.mFbUzjoH.js";import"../vendor/vendor-utils.BR2dU08x.js";import"../components/components-homophone.BmTr8BPi.js";import"../vendor/vendor-animation.B6GxcyWq.js";function n({roles:n,settings:d}){const{auth:m}=r().props,[c,x]=e.useState(d.default_role_id||""),[u,h]=e.useState(!1);return s.jsxs(a,{user:m.user,header:s.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"System Settings"}),children:[s.jsx(t,{title:"System Settings"}),s.jsx("div",{className:"py-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(i,{className:"w-6 h-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Registration Settings"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure default role for new user signups"})]})]})}),s.jsxs("form",{onSubmit:e=>{e.preventDefault(),h(!0),l.post(route("settings.update"),{default_role_id:c},{onSuccess:()=>{h(!1)},onError:()=>{h(!1)}})},className:"p-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Role for New Users"}),s.jsxs("select",{value:c,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select a role..."}),n.map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"When users register on the platform, they will automatically be assigned this role."})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"ðŸ“Œ Important Notes:"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"The first user to register will always become an Admin"}),s.jsx("li",{children:"This setting only affects subsequent user registrations"}),s.jsx("li",{children:"Admins can manually change user roles later"}),s.jsx("li",{children:"Create roles at /roles/create before setting default"})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Available Roles (",n.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:n.map(e=>s.jsx("div",{className:"px-3 py-2 rounded-lg border "+(e.id==c?"bg-blue-50 border-blue-300 text-blue-900":"bg-gray-50 border-gray-200 text-gray-700"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:e.name}),e.id==c&&s.jsx("span",{className:"text-xs bg-blue-200 text-blue-800 px-2 py-0.5 rounded",children:"Default"})]})},e.id))})]})]}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsxs("button",{type:"submit",disabled:u||!c,className:"inline-flex items-center px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors",children:[s.jsx(o,{className:"w-4 h-4 mr-2"}),u?"Saving...":"Save Settings"]})})]})]}),s.jsxs("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-900 mb-2",children:"ðŸ’¡ How to Create New Roles"}),s.jsxs("p",{className:"text-sm text-yellow-800",children:["Go to ",s.jsx("a",{href:route("roles.create"),className:"underline font-medium",children:"Roles â†’ Create Role"})," to create custom roles with specific permissions. Then return here to set which role new users should receive."]})]})]})})]})}export{n as default};
