import{r as e,j as t}from"../vendor/vendor-react.CSh4geB6.js";import{u as s,L as r,H as a,r as l}from"../vendor/vendor-inertia.HwN2lMYo.js";import{A as i,N as n,D as c,R as d,L as o,B as x,M as h,P as m}from"../components/components-common.mFbUzjoH.js";import"../vendor/vendor-common.B_9lrMAm.js";import{S as u,v as p,t as g,i as j,l as b,w as f,x as v,y as N,D as y,G as w,k,f as _,I as C,m as S}from"../vendor/vendor-ui.wXUDVBjR.js";function L({header:a,children:l}){const o=s().props.auth.user,[x,h]=e.useState(!1);return t.jsxs("div",{className:"min-h-screen bg-gray-100",children:[t.jsxs("nav",{className:"border-b border-gray-100 bg-white",children:[t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex h-16 justify-between",children:[t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex shrink-0 items-center",children:t.jsx(r,{href:"/",children:t.jsx(i,{className:"block h-9 w-auto fill-current text-gray-800"})})}),t.jsxs("div",{className:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex",children:[t.jsx(n,{href:route("dashboard"),active:route().current("dashboard"),children:"Dashboard"}),t.jsx(n,{href:route("categories.index"),active:route().current("categories.index"),children:"Categories"}),t.jsx(n,{href:route("article-settings.index"),active:route().current("article-settings.*"),children:"Article Settings"}),t.jsx(n,{href:route("learn.articles.index"),active:route().current("learn.articles.*"),children:"My Learning"})]})]}),t.jsx("div",{className:"hidden sm:ms-6 sm:flex sm:items-center",children:t.jsx("div",{className:"relative ms-3",children:t.jsxs(c,{children:[t.jsx(c.Trigger,{children:t.jsx("span",{className:"inline-flex rounded-md",children:t.jsxs("button",{type:"button",className:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none",children:[o.name,t.jsx("svg",{className:"-me-0.5 ms-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})}),t.jsxs(c.Content,{children:[t.jsx(c.Link,{href:route("profile.edit"),children:"Profile"}),t.jsx(c.Link,{href:route("logout"),method:"post",as:"button",children:"Log Out"})]})]})})}),t.jsx("div",{className:"-me-2 flex items-center sm:hidden",children:t.jsx("button",{onClick:()=>h(e=>!e),className:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none",children:t.jsxs("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("path",{className:x?"hidden":"inline-flex",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}),t.jsx("path",{className:x?"inline-flex":"hidden",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})]})})})]})}),t.jsxs("div",{className:(x?"block":"hidden")+" sm:hidden",children:[t.jsxs("div",{className:"space-y-1 pb-3 pt-2",children:[t.jsx(d,{href:route("dashboard"),active:route().current("dashboard"),children:"Dashboard"}),t.jsx(d,{href:route("article-settings.index"),active:route().current("article-settings.*"),children:"Article Settings"}),t.jsx(d,{href:route("learn.articles.index"),active:route().current("learn.articles.*"),children:"My Learning"})]}),t.jsxs("div",{className:"border-t border-gray-200 pb-1 pt-4",children:[t.jsxs("div",{className:"px-4",children:[t.jsx("div",{className:"text-base font-medium text-gray-800",children:o.name}),t.jsx("div",{className:"text-sm font-medium text-gray-500",children:o.email})]}),t.jsxs("div",{className:"mt-3 space-y-1",children:[t.jsx(d,{href:route("profile.edit"),children:"Profile"}),t.jsx(d,{method:"post",href:route("logout"),as:"button",children:"Log Out"})]})]})]})]}),a&&t.jsx("header",{className:"bg-white shadow",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:a})}),t.jsx("main",{children:l})]})}const A=Object.freeze(Object.defineProperty({__proto__:null,default:function({auth:e,article:s,stats:l,completed_users:i,not_completed_users:n}){return t.jsxs(L,{user:e.user,header:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx(r,{href:route("articles.index"),className:"text-sm text-gray-600 hover:text-gray-900 mb-2 inline-block",children:"← Back to Articles"}),t.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Article Completion Stats"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.title})]})}),children:[t.jsx(a,{title:`Completion Stats - ${s.title}`}),t.jsx("div",{className:"py-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[t.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),t.jsx("div",{className:"mt-2 text-3xl font-bold text-gray-900",children:l.total_users})]}),t.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[t.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Completed"}),t.jsx("div",{className:"mt-2 text-3xl font-bold text-green-600",children:l.completed_count})]}),t.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[t.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Not Completed"}),t.jsx("div",{className:"mt-2 text-3xl font-bold text-orange-600",children:l.not_completed_count})]}),t.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[t.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Completion Rate"}),t.jsxs("div",{className:"mt-2 text-3xl font-bold text-blue-600",children:[l.completion_rate,"%"]})]})]}),t.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Completed Users (",l.completed_count,")"]})}),t.jsx("div",{className:"overflow-x-auto",children:i.length>0?t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Accuracy"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Best Accuracy"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Typing Speed"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed At"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(e=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-500",children:e.email})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:e.role})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-900",children:e.accuracy?`${e.accuracy}%`:"N/A"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm font-medium text-green-600",children:e.best_accuracy?`${e.best_accuracy}%`:"N/A"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-900",children:e.typing_speed?`${e.typing_speed} WPM`:"N/A"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-500",children:e.completed_at})})]},e.id))})]}):t.jsx("div",{className:"p-6 text-center text-gray-500",children:"No users have completed this article yet."})})]}),t.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Not Completed Users (",l.not_completed_count,")"]})}),t.jsx("div",{className:"overflow-x-auto",children:n.length>0?t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member Since"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-500",children:e.email})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:e.role})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-500",children:e.member_since})})]},e.id))})]}):t.jsx("div",{className:"p-6 text-center text-gray-500",children:"All users have completed this article!"})})]})]})})]})}},Symbol.toStringTag,{value:"Module"}));function M({label:s,icon:r,children:a,active:l}){const[i,n]=e.useState(l);return e.useEffect(()=>{n(l)},[l]),t.jsxs("div",{className:"mb-2",children:[t.jsxs("button",{onClick:()=>n(e=>!e),className:"flex items-center w-full px-2 py-2.5 rounded-lg font-medium transition-all duration-300 group "+(i||l?"bg-blue-100 text-blue-700 border-l-4 border-blue-500":"hover:bg-gray-50 text-gray-700 hover:text-gray-900"),children:[t.jsx("span",{className:"mr-3 transition-colors duration-300 "+(i||l?"text-blue-600":"text-gray-400 group-hover:text-gray-600"),children:r}),t.jsx("span",{className:"flex-1 text-left text-sm font-semibold",children:s}),t.jsx("svg",{className:`w-4 h-4 ml-auto transition-all duration-300 ${i?"rotate-90":""} ${i||l?"text-blue-600":"text-gray-400 group-hover:text-gray-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),t.jsx("div",{className:"transition-all duration-300 overflow-hidden "+(i?"max-h-96 opacity-100 mt-2":"max-h-0 opacity-0"),children:t.jsx("div",{className:"pl-2 space-y-1",children:a})})]})}function W({href:e,icon:s,label:a,active:l}){return t.jsxs(r,{href:e,className:"flex items-center px-2 py-2.5 rounded-lg font-medium transition-all duration-200 "+(l?"bg-blue-100 text-blue-700 border-l-4 border-blue-500":"hover:bg-gray-50 text-gray-700 border-l-4 border-transparent"),children:[t.jsx("span",{className:"mr-3 "+(l?"text-blue-600":"text-gray-400"),children:s}),t.jsx("span",{className:"text-sm transition-colors duration-200 "+(l?"text-blue-700":"text-gray-600 group-hover:text-gray-900"),children:a})]})}function $(e){try{return route(e),!0}catch(t){return!1}}function z(e,t={}){try{return route(e,t)}catch(s){return"#"}}function U({lang:e,setLang:a}){const{auth:l}=s().props,i=l?.can??{},n=route().current(),c=(...e)=>e.some(e=>n?.includes(e)),d={dashboard:t.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[t.jsx("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}),t.jsx("rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}),t.jsx("rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}),t.jsx("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"})]}),user:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),t.jsx("path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}),t.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"})]}),role:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user-lock",children:[t.jsx("circle",{cx:"10",cy:"7",r:"4"}),t.jsx("path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2"}),t.jsx("path",{d:"M15 15.5V14a2 2 0 0 1 4 0v1.5"}),t.jsx("rect",{width:"8",height:"5",x:"13",y:"16",rx:".899"})]}),quiz:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-message-circle-question-mark-icon lucide-message-circle-question-mark",children:[t.jsx("path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"}),t.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),t.jsx("path",{d:"M12 17h.01"})]}),article:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-clipboard-plus-icon lucide-clipboard-plus",children:[t.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),t.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),t.jsx("path",{d:"M9 14h6"}),t.jsx("path",{d:"M12 17v-6"})]}),homophone:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-book-plus",children:[t.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),t.jsx("path",{d:"M4 4.5A2.5 2.5 0 0 1 6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15z"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),t.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),settings:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),progress:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 3v18h18"}),t.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]})};return t.jsxs("aside",{className:"main-sidebar bg-white border-r border-gray-200 w-64 fixed h-full overflow-y-auto pb-4",children:[t.jsx("div",{className:"px-4 py-3 border-b border-gray-100 mt-2",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(r,{href:"/",className:"flex items-center gap-2 flex-shrink-0",children:t.jsx("div",{className:"relative -mt-2",children:t.jsx("img",{src:"/images/sor-ser logo.png",alt:"Sor-Ser logo",className:"h-9 w-9",style:{filter:"brightness(0) saturate(100%) invert(21%) sepia(94%) saturate(2783%) hue-rotate(210deg) brightness(96%) contrast(97%)"}})})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-base font-semibold text-blue-700 leading-tight",children:"Sor-Ser"}),t.jsx("div",{className:"text-xs text-gray-500 leading-tight",children:"Application"})]})]})}),t.jsx("div",{className:"sidebar",children:t.jsxs("nav",{className:"flex-1 px-2 py-3 space-y-2",children:[t.jsxs(M,{label:"Dashboard",icon:d.dashboard,active:route().current("dashboard")||route().current("student.analytics"),children:[t.jsx(W,{href:route("dashboard"),label:"Dashboard Analytics",active:route().current("dashboard")}),t.jsx(W,{href:route("student.analytics"),label:"Student Analytics",active:route().current("student.analytics")})]}),$("user-progress.index")&&t.jsx(W,{href:z("user-progress.index"),icon:d.progress,label:"My Progress",active:c("user-progress")}),(i["article-list"]||i["article-create"])&&t.jsxs(M,{label:"Articles",icon:d.article,active:c("articles","article-settings"),children:[t.jsx(W,{href:route("articles.index"),label:"Article List",active:"articles.index"===n}),i["article-create"]&&t.jsx(W,{href:route("articles.create"),label:"Create Article",active:"articles.create"===n}),i["article-create"]&&$("article-settings.index")&&t.jsx(W,{href:z("article-settings.index"),label:"Article Settings",active:"article-settings.index"===n||c("article-settings")})]}),(i["homophone-list"]||i["homophone-create"])&&t.jsxs(M,{label:"Homophones",icon:d.homophone,active:c("homophones"),children:[t.jsx(W,{href:route("homophones.index"),label:"Homophone List",active:"homophones.index"===n}),i["homophone-create"]&&t.jsx(W,{href:route("homophones.create"),label:"Create Homophone",active:"homophones.create"===n})]}),(i["quiz-list"]||i["quiz-create"])&&t.jsxs(M,{label:"Quizzes",icon:d.quiz,active:c("quizzes"),children:[t.jsx(W,{href:route("quizzes.index"),label:"Quiz List",active:"quizzes.index"===n}),i["quiz-create"]&&t.jsx(W,{href:route("quizzes.create"),label:"Create Quiz",active:"quizzes.create"===n})]}),(i["role-list"]||i["user-list"])&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-xs font-semibold text-gray-400 mb-2 pt-2 px-2 tracking-wider uppercase",children:"Authentication"}),(i["role-list"]||i["role-create"])&&t.jsxs(M,{label:"Roles",icon:d.role,active:c("roles"),children:[t.jsx(W,{href:route("roles.index"),label:"Roles List",active:"roles.index"===n}),i["role-create"]&&t.jsx(W,{href:route("roles.create"),label:"Create Role",active:"roles.create"===n})]}),(i["user-list"]||i["user-create"])&&t.jsxs(M,{label:"Users",icon:d.user,active:c("users","learn"),children:[t.jsx(W,{href:route("users.index"),label:"User List",active:"users.index"===n}),i["user-create"]&&t.jsx(W,{href:route("users.create"),label:"Create User",active:"users.create"===n}),$("learn.articles.index")&&t.jsx(W,{href:z("learn.articles.index"),label:"User Learning",active:c("learn")})]}),i["settings-edit"]&&$("settings.index")&&t.jsx(W,{href:z("settings.index"),icon:d.settings,label:"Settings",active:"settings.index"===n||c("settings")})]})]})})]})}const D=({breadcrumb:a,children:l})=>{const{auth:i}=s().props,[n,c]=e.useState(!1),[d,x]=e.useState(()=>localStorage.getItem("lang")||"en"),h=e.useRef(null),m=e=>{h.current&&!h.current.contains(e.target)&&c(!1)};return e.useEffect(()=>{localStorage.setItem("lang",d)},[d]),e.useEffect(()=>(document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}),[]),t.jsxs("div",{className:"wrapper h-screen overflow-hidden flex flex-col",children:[t.jsxs("nav",{className:"main-header py-3 navbar navbar-expand navbar-white navbar-light",children:[t.jsx("ul",{className:"navbar-nav",children:t.jsx("li",{className:"nav-item",children:t.jsx("a",{className:"nav-link","data-widget":"pushmenu",href:"#",role:"button",children:t.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 border px-2 py-2 rounded-lg",children:t.jsx("svg",{className:"block",width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.583252 1C0.583252 0.585788 0.919038 0.25 1.33325 0.25H14.6666C15.0808 0.25 15.4166 0.585786 15.4166 1C15.4166 1.41421 15.0808 1.75 14.6666 1.75L1.33325 1.75C0.919038 1.75 0.583252 1.41422 0.583252 1ZM0.583252 11C0.583252 10.5858 0.919038 10.25 1.33325 10.25L14.6666 10.25C15.0808 10.25 15.4166 10.5858 15.4166 11C15.4166 11.4142 15.0808 11.75 14.6666 11.75L1.33325 11.75C0.919038 11.75 0.583252 11.4142 0.583252 11ZM1.33325 5.25C0.919038 5.25 0.583252 5.58579 0.583252 6C0.583252 6.41421 0.919038 6.75 1.33325 6.75L7.99992 6.75C8.41413 6.75 8.74992 6.41421 8.74992 6C8.74992 5.58579 8.41413 5.25 7.99992 5.25L1.33325 5.25Z",fill:"currentColor"})})})})})}),t.jsxs("ul",{className:"navbar-nav ml-auto mr-2",children:[t.jsx("li",{children:t.jsx(o,{lang:d,setLang:x})}),t.jsxs("li",{className:"nav-item dropdown position-relative",ref:h,children:[t.jsxs("button",{className:"nav-link btn btn-link d-flex align-items-center p-2 border-0 bg-transparent",onClick:()=>c(!n),style:{outline:"none",boxShadow:"none"},children:[t.jsx("img",{src:"/images/person-icon.svg",className:"mr-2 h-8 w-8 overflow-hidden rounded-full",alt:"User avatar"}),t.jsx("span",{className:"text-theme-sm mr-1 block font-medium",children:i?.user?.name}),t.jsx("i",{className:"fas fa-chevron-down ml-[0.1rem] transition-transform transform scale-[0.7] "+(n?"rotate-180":"")})]}),n&&t.jsxs("div",{className:"absolute right-[0.4rem] mt-2 mx-auto max-w-xl bg-white border border-gray-200 rounded-xl shadow-lg z-50",children:[t.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium text-gray-800",children:i?.user?.name}),t.jsx("span",{className:"text-sm text-gray-500",children:i?.user?.email})]})})}),t.jsxs("div",{className:"flex flex-col py-2 px-2",children:[t.jsxs(r,{href:route("profile.edit"),onClick:()=>c(!1),className:"flex items-center px-3 py-2 text-sm text-blue-900 hover:bg-gray-100 rounded-lg transition",children:[t.jsx("i",{className:"fas fa-user-circle w-4 mr-3 text-gray-500"}),"My Account"]}),t.jsx("hr",{className:"my-1 border-gray-200"}),t.jsxs(r,{method:"post",href:route("logout"),as:"button",onClick:()=>c(!1),className:"flex items-center w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition",children:[t.jsx("i",{className:"fas fa-sign-out-alt w-4 mr-3 text-red-500"}),"Sign Out"]})]})]})]})]})]}),t.jsx(U,{lang:d,setLang:x}),t.jsxs("div",{className:"content-wrapper flex-1 px-2 overflow-y-auto",children:[a&&a,t.jsx("section",{className:"content px-2",children:l})]})]})};const B=Object.freeze(Object.defineProperty({__proto__:null,default:function({datas:s,isEdit:i}){const n=i?"Edit Article":"Create Article",[c,d]=e.useState({title:s?.title??"",file:null,audio:null}),[o,h]=e.useState(null),[m,u]=e.useState(null),[p,g]=e.useState(!1),[j,b]=e.useState({}),f=e.useRef(null),v=e.useRef(null);e.useEffect(()=>{s&&(d({title:s.title||"",file:null,audio:null}),h(s.file?N(s.file,"files"):null),u(s.audio?N(s.audio,"audios"):null))},[s]);const N=(e,t)=>{if(!e)return null;if("string"==typeof e)return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/storage/")?e:`/storage/uploads/${t}/${e}`;if(e.file_path){const s=String(e.file_path);return s.startsWith("http://")||s.startsWith("https://")||s.startsWith("/storage/")?s:s.startsWith("storage/")?`/${s}`:s.startsWith("uploads/")?`/storage/${s}`:s.startsWith("public/")?`/storage/${s.replace(/^public\//,"")}`:`/storage/uploads/${t}/${s}`}if(e.url)return e.url;if(e.path){const t=e.path.replace(/^public\//,"");return e.path.startsWith("http")||e.path.startsWith("/")?e.path:`/storage/${t}`}return e.filename?`/storage/uploads/${t}/${e.filename}`:e.name?`/storage/uploads/${t}/${e.name}`:null},y=e=>e?"string"==typeof e?e.split("/").pop():e.title||e.filename||e.name||null:null,w=[{title:"Home",url:"/"},{title:n,url:""}];return t.jsxs(D,{breadcrumb:t.jsx(x,{header:n,links:w}),children:[t.jsx(a,{title:n}),t.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50/30 mb-12",children:t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"border-b mb-3",children:[t.jsx("h2",{className:"text-2xl font-semibold mb-2",children:i?"Edit Article":"Create New Article"}),t.jsx("p",{className:"text-sm text-gray-500",children:i?"Update the details of this article below.":"Fill out the form below to create a new article."})]}),t.jsxs("form",{onSubmit:e=>{e.preventDefault(),g(!0),b({});const t={...c},r=new FormData;r.append("title",t.title??""),t.file&&r.append("file",t.file),t.audio&&r.append("audio",t.audio);const a=()=>g(!1);i?(r.append("_method","PATCH"),l.post(route("articles.update",s.id),r,{forceFormData:!0,onFinish:a,onError:e=>{b(e||{}),a()}})):l.post(route("articles.store"),r,{forceFormData:!0,onFinish:a,onError:e=>{b(e||{}),a()}})},className:"space-y-4",encType:"multipart/form-data",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),t.jsx("input",{name:"title",type:"text",value:c.title,onChange:e=>{const{name:t,value:s}=e.target;d({...c,[t]:s})},className:"w-full border rounded-md px-3 py-2 "+(j.title?"border-red-500":""),placeholder:"Enter article title"}),j.title&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.title})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Select File ",t.jsx("span",{children:" "})]}),t.jsxs("div",{className:"flex items-center justify-center h-32 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 cursor-pointer relative bg-gray-50 hover:bg-blue-50 transition",onClick:()=>{f.current&&f.current.click()},style:{minHeight:100},children:[t.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.txt",ref:f,onChange:e=>{const t=e.target.files[0];d({...c,file:t||null}),h(t?URL.createObjectURL(t):null)},className:"absolute inset-0 opacity-0 cursor-pointer",tabIndex:-1,style:{pointerEvents:"auto"},onClick:e=>e.stopPropagation()}),t.jsxs("div",{className:"text-center space-y-2 pointer-events-none",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-8 w-8 text-gray-400 pointer-events-none",fill:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{d:"M12 16a1 1 0 0 1-1-1V9.414L8.707 11.707a1 1 0 1 1-1.414-1.414l4-4a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L13 9.414V15a1 1 0 0 1-1 1z"}),t.jsx("path",{d:"M4 18a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1z"})]}),t.jsx("div",{className:"text-sm text-gray-500 pointer-events-none",children:"Select a file or drag here"}),t.jsx("div",{className:"inline-block px-3 py-1 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition pointer-events-none",children:c.file?"Change file":"Select a file"})]})]}),j.file&&t.jsx("div",{className:"text-red-600 mt-2 text-sm",children:j.file}),o&&t.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border rounded-xl p-3 mt-3 hover:bg-gray-100 transition",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"bg-green-100 p-2 rounded-lg flex items-center justify-center text-green-600",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-json2-icon lucide-file-json-2",children:[t.jsx("path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"}),t.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),t.jsx("path",{d:"M4 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1"}),t.jsx("path",{d:"M8 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1"})]})}),t.jsx("div",{className:"flex items-center mt-2 space-x-2 justify-center",children:t.jsx("p",{className:"text-sm font-medium text-gray-800",children:c.file?c.file.name:y(s?.file)||"Download"})})]}),t.jsx("button",{onClick:()=>h(null),className:"ml-4 text-gray-400 hover:text-gray-600 flex items-center justify-center",children:"✕"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Upload Audio ",t.jsx("span",{})]}),t.jsxs("div",{className:"flex items-center justify-center h-32 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 cursor-pointer relative bg-gray-50 hover:bg-blue-50 transition",onClick:()=>{v.current&&v.current.click()},style:{minHeight:100},children:[t.jsx("input",{type:"file",accept:"audio/*",ref:v,onChange:e=>{const t=e.target.files[0];d({...c,audio:t||null}),u(t?URL.createObjectURL(t):null)},className:"absolute inset-0 opacity-0 cursor-pointer",tabIndex:-1,style:{pointerEvents:"auto"},onClick:e=>e.stopPropagation()}),t.jsxs("div",{className:"text-center space-y-2 pointer-events-none",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-8 w-8 text-gray-400 pointer-events-none",fill:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{d:"M12 16a1 1 0 0 1-1-1V9.414L8.707 11.707a1 1 0 1 1-1.414-1.414l4-4a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L13 9.414V15a1 1 0 0 1-1 1z"}),t.jsx("path",{d:"M4 18a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1z"})]}),t.jsx("div",{className:"text-sm text-gray-500 pointer-events-none",children:"Select an audio file or drag here"}),t.jsx("div",{className:"inline-block px-3 py-1 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition pointer-events-none",children:c.audio?"Change Audio":"Select Audio"})]})]}),j.audio&&t.jsx("div",{className:"text-red-600 mt-2 text-sm",children:j.audio}),m&&t.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border rounded-xl p-3 mt-3 hover:bg-gray-100 transition",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"bg-blue-100 p-2 rounded-lg flex items-center justify-center text-blue-600",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 18V5l12-2v13"}),t.jsx("circle",{cx:"6",cy:"18",r:"3"}),t.jsx("circle",{cx:"18",cy:"16",r:"3"})]})}),t.jsxs("div",{className:"flex items-center justify-between w-full space-x-4 mt-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:c.audio?.name||y(s?.audio)||"Play Audio"}),t.jsx("audio",{src:m,controls:!0,preload:"metadata",className:"w-96 border rounded-3xl"},m)]})]}),t.jsx("button",{onClick:()=>u(null),className:"ml-4 text-gray-400 hover:text-gray-600 flex items-center justify-center",children:"✕"})]})]}),t.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-3 pt-6 mt-6 border-t border-gray-200",children:[t.jsx(r,{href:route("articles.index"),className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-[10px] text-gray-600 border-2 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 transition duration-200",children:"Cancel"}),t.jsx("button",{type:"submit",className:"inline-flex items-center justify-center px-8 py-2 text-sm font-medium rounded-[10px] text-white bg-gradient-to-r from-blue-500 to-blue-500 transition duration-200 hover:from-blue-500 hover:to-blue-600",disabled:p,children:p?i?"Updating...":"Saving...":i?"Update Article":"Create Article"})]})]})]})})})]})}},Symbol.toStringTag,{value:"Module"}));const P=Object.freeze(Object.defineProperty({__proto__:null,default:function({articles:i,search:n=""}){const c=e=>{const t=e.user.roles?.some(e=>["Admin","Instructor"].includes(e.name)),s=e.user.permissions?.some(e=>"articles-view"===e.name);return t||s},{auth:d}=s().props,o=d?.can??{},g=i?.data||[],[j,b]=e.useState(!1),[f,v]=e.useState(null),[N,y]=e.useState(!1),[w,k]=e.useState(!1),[_,C]=e.useState(null),[S,L]=e.useState(""),[A,M]=e.useState(!1),[W,$]=e.useState(n),z=(e,t)=>{if(!e)return null;if("string"==typeof e)return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/storage/")?e:`/storage/uploads/${t}/${e}`;if(e.file_path){const s=String(e.file_path);return s.startsWith("http://")||s.startsWith("https://")||s.startsWith("/storage/")?s:s.startsWith("storage/")?`/${s}`:s.startsWith("uploads/")?`/storage/${s}`:s.startsWith("public/")?`/storage/${s.replace(/^public\//,"")}`:`/storage/uploads/${t}/${s}`}if(e.url)return e.url;if(e.path){const t=e.path.replace(/^public\//,"");return e.path.startsWith("http")||e.path.startsWith("/")?e.path:`/storage/${t}`}return e.filename?`/storage/uploads/${t}/${e.filename}`:e.name?`/storage/uploads/${t}/${e.name}`:null},U=e=>e?e.split(".").pop().toLowerCase():"",B="Articles List",P=[{title:"Home",url:"/"},{title:B,url:""}];return t.jsxs(D,{breadcrumb:t.jsx(x,{header:B,links:P}),children:[t.jsx(a,{title:B}),t.jsx("section",{className:"content",children:t.jsx("div",{className:"container-fluid",children:t.jsxs("div",{className:"bg-white shadow-md rounded-xl overflow-hidden border border-gray-200 mb-12",children:[t.jsxs("div",{className:"px-6 py-4 border-b flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-semibold",children:"Articles"}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-3 rounded-xl border hover:shadow-lg transition text-sm bg-white",children:[t.jsx(u,{className:"w-4 h-4 text-gray-500"}),t.jsx("input",{type:"text",className:"px-2 w-[250px] py-2 rounded-[10px] border-none border-gray-300 text-sm  focus:outline-none focus:ring-0",placeholder:"Search Title or File",value:W,onChange:e=>{const t=e.target.value;$(t),l.get(route("articles.index"),{search:t},{preserveState:!0,replace:!0})}})]}),o["article-create"]&&o["article-list"]&&t.jsxs(r,{href:route("articles.create"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm text-white bg-green-600 hover:bg-green-500 transition",children:[t.jsx(p,{className:"w-4 h-4"}),"Add Article"]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full table-auto",children:[t.jsx("thead",{className:"bg-blue-600 text-white text-sm",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3",children:"ID"}),t.jsx("th",{className:"px-4 py-3",children:"Title"}),t.jsx("th",{className:"px-4 py-3",children:"File"}),t.jsx("th",{className:"px-4 py-3",children:"Audio"}),t.jsx("th",{className:"px-4 py-3",children:"Created At"}),t.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-gray-200",children:g.length>0?g.map(e=>t.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[t.jsx("td",{className:"px-4 py-3",children:e.id}),t.jsx("td",{className:"px-4 py-3",children:e.title}),t.jsx("td",{className:"px-4 py-3",children:e.file?e.file.title:t.jsx("span",{className:"text-gray-400",children:"NULL"})}),t.jsx("td",{className:"px-4 py-3",children:e.audio?e.audio.title:t.jsx("span",{className:"text-gray-400",children:"NULL"})}),t.jsx("td",{className:"px-4 py-3",children:e.created_at?e.created_at.slice(0,10):""}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsxs("div",{className:"flex gap-2 justify-center",children:[o["article-list"]&&t.jsx("button",{type:"button",onClick:()=>(async e=>{C(e),L(""),k(!0),M(!0);const t=e.file?.title||e.file?.filename||"",s=U(t),r=z(e.file,"files");if(r&&"txt"===s)try{const e=await fetch(r),t=await e.text();L(t)}catch{L("Failed to load file content.")}M(!1)})(e),className:"px-3 py-1 rounded bg-gray-500 text-white text-xs hover:bg-gray-600",children:"View"}),o["article-list"]&&t.jsx(r,{href:route("articles.completion-stats",e.id),className:"px-3 py-1 rounded bg-purple-500 text-white text-xs hover:bg-purple-600",children:"Stats"}),o["article-edit"]&&o["article-list"]&&t.jsx(r,{href:route("articles.edit",e.id),className:"px-3 py-1 rounded bg-blue-500 text-white text-xs hover:bg-blue-600",children:"Edit"}),o["article-delete"]&&o["article-list"]&&t.jsx("button",{type:"button",onClick:()=>(e=>{v(e),b(!0)})(e),className:"px-3 py-1 rounded bg-red-500 text-white text-xs hover:bg-red-600",children:"Delete"}),c(d)&&t.jsx("button",{onClick:()=>window.location.href=route("articles.show",article.id),className:"text-blue-600 hover:text-blue-800",children:"View Article"})]})})]},e.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"text-center py-6 text-gray-500",children:"No articles found."})})})]})}),t.jsx(h,{show:j,onClose:()=>{b(!1),v(null),y(!1)},maxWidth:"lg",children:t.jsxs("form",{onSubmit:e=>{e?.preventDefault?.(),f&&(y(!0),l.delete(route("articles.destroy",f.id),{preserveScroll:!0,onFinish:()=>{y(!1),b(!1),v(null)}}))},className:"p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Delete Article"}),t.jsxs("p",{className:"text-gray-700 mb-4",children:['Are you sure you want to delete "',f?.title,'"?']}),t.jsxs("div",{className:"flex justify-between gap-3",children:[t.jsx("button",{type:"button",onClick:()=>{b(!1),v(null),y(!1)},className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:N,children:"Cancel"}),t.jsx("button",{type:"submit",className:"rounded-[10px] px-9 py-1 text-white font-semibold transition bg-red-600 hover:bg-red-700",disabled:N,children:N?"Deleting...":"Delete"})]})]})}),t.jsx(h,{show:w,onClose:()=>{k(!1),C(null),L("")},maxWidth:"2xl",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Article Name:",t.jsx("span",{className:"ml-1 text-blue-600",children:_?.title??""})]}),_&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"font-bold text-gray-700 mb-1",children:["File Name:"," ",t.jsx("span",{className:"text-gray-600",children:_.file?.title||_.file?.filename||"File"})]}),_.file?(()=>{const e=z(_.file,"files"),s=_.file.title||_.file.filename||"File";return"txt"===U(s)?t.jsx("div",{className:"border rounded-lg bg-gray-50 p-3 max-h-64 overflow-auto text-sm",children:A?"Loading...":S||"No content."}):t.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:["Download ",s]})})():t.jsx("span",{className:"text-gray-400",children:"No file"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"font-bold text-gray-700 mb-1",children:["Audio Name:"," ",t.jsx("span",{className:"text-gray-600",children:_.audio?.title||_.audio?.filename||"Audio"})]}),_.audio?(()=>{const e=z(_.audio,"audios");return t.jsx("audio",{src:e,controls:!0,preload:"metadata",className:"w-full rounded-lg"},e)})():t.jsx("span",{className:"text-gray-400",children:"No audio"})]})]}),t.jsx("div",{className:"flex justify-end mt-4",children:t.jsx("button",{type:"button",onClick:()=>k(!1),className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",children:"Close"})})]})}),i.total>10&&t.jsx("div",{className:"px-6 py-3 border-t flex justify-center",children:t.jsx(m,{links:i.links.map(e=>({...e,url:e.url?e.url+(W?(e.url.includes("?")?"&":"?")+"search="+encodeURIComponent(W):""):null})),currentPage:i.current_page,perPage:i.per_page})})]})})})]})}},Symbol.toStringTag,{value:"Module"}));function E({item:e,index:s,getArticleStatusIcon:r,getArticleStatusText:a}){return t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center font-bold "+(e.is_completed?"bg-green-200 text-green-700":e.is_available?"bg-blue-200 text-blue-700":"bg-gray-200 text-gray-500"),children:s+1}),t.jsxs("div",{className:"flex-grow min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h4",{className:"font-semibold truncate "+(e.is_available?"text-gray-900":"text-gray-500"),children:e.article.title}),"nlp_la"===e.setting?.typing_mode&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full text-xs",children:[t.jsx(y,{className:"w-3 h-3"}),"Full"]})]}),t.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.setting?.description||"Transcription practice"}),null!==e.best_accuracy&&t.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Best score: ",e.best_accuracy,"% (",e.attempt_count," attempts)"]})]}),t.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[r(e),t.jsx("span",{className:"text-sm font-medium "+(e.is_passed?"text-green-600":e.is_completed||e.is_available?"text-blue-600":"text-gray-500"),children:a(e)})]}),e.available_at&&!e.is_available&&t.jsx("p",{className:"text-xs text-orange-600 mt-1",children:new Date(e.available_at).toLocaleDateString()})]}),e.is_available&&!e.is_completed&&t.jsx(w,{className:"w-5 h-5 text-gray-400"})]})]})}const H=Object.freeze(Object.defineProperty({__proto__:null,default:function({articles:l,progress:i,nextUnlock:n,currentArticle:c}){const{flash:d,auth:o}=s().props,[x,h]=e.useState(null);e.useEffect(()=>{if(!n?.time_remaining?.total_seconds)return;const e=()=>{const e=new Date(n.available_at)-new Date;if(e<=0)return h(null),void window.location.reload();const t=Math.floor(e/864e5),s=Math.floor(e%864e5/36e5),r=Math.floor(e%36e5/6e4),a=Math.floor(e%6e4/1e3);h({days:t,hours:s,minutes:r,seconds:a})};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[n]);const m=e=>e.is_passed?t.jsx(b,{className:"w-6 h-6 text-green-500"}):e.is_completed?t.jsx(b,{className:"w-6 h-6 text-blue-500"}):e.is_available?t.jsx(C,{className:"w-6 h-6 text-blue-600"}):e.available_at?t.jsx(k,{className:"w-6 h-6 text-orange-500"}):t.jsx(S,{className:"w-6 h-6 text-gray-400"}),u=e=>e.is_passed?"Passed":e.is_completed?"Completed":e.is_available?"Available":e.availability_reason,p=e=>e.is_passed?"border-green-200 bg-green-50":e.is_completed?"border-blue-200 bg-blue-50":e.is_available?"border-blue-300 bg-white hover:shadow-lg cursor-pointer":"border-gray-200 bg-gray-50 opacity-75";return t.jsxs(L,{header:t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight flex items-center gap-2",children:[t.jsx(_,{className:"w-6 h-6"}),"My Learning Journey"]})}),children:[t.jsx(a,{title:"Learning Articles"}),t.jsx("div",{className:"py-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d?.error&&t.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[t.jsx(g,{className:"w-5 h-5"}),d.error]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:t.jsx(j,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Progress"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[i.completion_percentage,"%"]})]})]}),t.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${i.completion_percentage}%`}})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:t.jsx(b,{className:"w-6 h-6 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[i.completed_count," / ",i.total_articles]})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:t.jsx(f,{className:"w-6 h-6 text-orange-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"In Progress"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.in_progress_count})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:t.jsx(v,{className:"w-6 h-6 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Passed"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.passed_count})]})]})})]}),c&&t.jsxs("div",{className:"mb-8",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(N,{className:"w-5 h-5 text-yellow-500"}),"Continue Learning"]}),t.jsx(r,{href:route("learn.articles.show",c.article.id),className:"block bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl shadow-lg p-6 text-white hover:from-blue-700 hover:to-blue-800 transition",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-xl font-bold mb-1",children:c.article.title}),t.jsx("p",{className:"text-blue-100 text-sm",children:c.setting?.description||"Continue where you left off"}),"nlp_la"===c.setting?.typing_mode&&t.jsxs("span",{className:"inline-flex items-center gap-1 mt-2 px-2 py-1 bg-white/20 rounded-full text-xs",children:[t.jsx(y,{className:"w-3 h-3"}),"Full Analytics Enabled"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm",children:"Start Now"}),t.jsx(w,{className:"w-6 h-6"})]})]})})]}),n&&x&&t.jsxs("div",{className:"mb-8 bg-orange-50 border border-orange-200 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(k,{className:"w-6 h-6 text-orange-600"}),t.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"Next Article Unlocks In"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex gap-3",children:[x.days>0&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-orange-700",children:x.days}),t.jsx("div",{className:"text-xs text-orange-600",children:"days"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-orange-700",children:String(x.hours).padStart(2,"0")}),t.jsx("div",{className:"text-xs text-orange-600",children:"hours"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-orange-700",children:String(x.minutes).padStart(2,"0")}),t.jsx("div",{className:"text-xs text-orange-600",children:"min"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-orange-700",children:String(x.seconds).padStart(2,"0")}),t.jsx("div",{className:"text-xs text-orange-600",children:"sec"})]})]}),t.jsxs("div",{className:"ml-6 text-orange-700",children:[t.jsx("p",{className:"font-medium",children:n.article.title}),t.jsx("p",{className:"text-sm",children:"will be available soon"})]})]})]}),t.jsx("div",{className:"mb-4",children:t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Articles"})}),t.jsx("div",{className:"space-y-3",children:l.map((e,s)=>t.jsx("div",{children:e.is_available&&!e.is_completed?t.jsx(r,{href:route("learn.articles.show",e.article.id),className:`block rounded-xl border-2 p-5 transition-all ${p(e)}`,children:t.jsx(E,{item:e,index:s,getArticleStatusIcon:m,getArticleStatusText:u})}):t.jsx("div",{className:`rounded-xl border-2 p-5 ${p(e)}`,children:t.jsx(E,{item:e,index:s,getArticleStatusIcon:m,getArticleStatusText:u})})},e.article.id))})]})})]})}},Symbol.toStringTag,{value:"Module"}));export{L as A,A as C,P as I,H as P,D as a,B as b};
