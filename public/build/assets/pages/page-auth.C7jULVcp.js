import{j as e,s as A,a7 as I,r as t,ai as H,a5 as q,aj as J,ak as Z,al as ee,M as Q,b as M,a as L,a8 as G,L as se,u as te}from"../vendor/vendor-common.B-BNyr_k.js";import{I as re,T as ae,e as w,f as le,g as B,a as Y,B as K,h as X}from"../components/components-common.BmRY9Cl9.js";function oe({children:s}){return e.jsx("div",{className:"flex min-h-screen flex-col items-center bg-gray-100 pt-6 sm:justify-center sm:pt-0",children:e.jsx("div",{className:"mt-6 w-full overflow-hidden bg-white px-6 py-4 shadow-md sm:max-w-md sm:rounded-lg",children:s})})}function ne(){const{data:s,setData:i,post:r,processing:h,errors:l,reset:b}=A({password:""}),d=m=>{m.preventDefault(),r(route("password.confirm"),{onFinish:()=>b("password")})};return e.jsxs(oe,{children:[e.jsx(I,{title:"Confirm Password"}),e.jsx("div",{className:"mb-4 text-sm text-gray-600",children:"This is a secure area of the application. Please confirm your password before continuing."}),e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{className:"mt-4",children:[e.jsx(re,{htmlFor:"password",value:"Password"}),e.jsx(ae,{id:"password",type:"password",name:"password",value:s.password,className:"mt-1 block w-full",isFocused:!0,onChange:m=>i("password",m.target.value)}),e.jsx(w,{message:l.password,className:"mt-2"})]}),e.jsx("div",{className:"mt-4 flex items-center justify-end",children:e.jsx(le,{className:"ms-4",disabled:h,children:"Confirm"})})]})]})}const ye=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}));function ie({status:s}){const{data:i,setData:r,post:h,processing:l,errors:b}=A({email:""}),d=m=>{m.preventDefault(),h(route("password.email"))};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Forgot Password"}),e.jsx(B,{}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-10",children:e.jsxs("div",{className:"relative bg-white rounded-2xl w-full max-w-xl shadow-xl",style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.18)",border:"1px solid #e5e7eb"},children:[e.jsx("button",{type:"button",className:"absolute top-5 right-6 text-gray-400 hover:text-gray-600 text-2xl z-10","aria-label":"Close",onClick:()=>window.history.back(),children:"×"}),e.jsxs("div",{className:"px-7 py-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#222a54] mb-2",children:"Forgot Password"}),e.jsx("p",{className:"mb-3 text-base text-gray-600 leading-relaxed",children:"Enter your registered email address and we’ll send you a reset link to create a new password."}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-base font-semibold text-[#222a54] mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",name:"email",value:i.email,onChange:m=>r("email",m.target.value),placeholder:"Enter your email",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl transition-colors text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[16px] font-medium"}),e.jsx(w,{message:b.email,className:"mt-1"})]}),s&&e.jsx("div",{className:"text-center text-sm text-green-700",children:s}),e.jsx("div",{className:"flex flex-col items-center mt-3",children:e.jsx("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center bg-blue-600 text-white font-semibold py-2 px-6 rounded-xl hover:bg-blue-500 transition-all duration-200 transform disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:l?"Sending...":"Send Password Reset Link"})})]})]})]})})]})}const je=Object.freeze(Object.defineProperty({__proto__:null,default:ie},Symbol.toStringTag,{value:"Module"}));function W({title:s,children:i,showCloseButton:r=!0}){return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:s}),e.jsx(B,{}),e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-6xl bg-white rounded-3xl shadow-2xl overflow-hidden",children:e.jsxs("div",{className:"grid md:grid-cols-2 min-h-[600px]",children:[e.jsxs("div",{className:"hidden md:flex relative bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 p-12 flex-col justify-between",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"30px 30px"}})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx(Y,{size:"lg",variant:"white"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:K.NAME.SHORT}),e.jsx("p",{className:"text-blue-100 text-sm",children:K.TAGLINE.EN})]})]}),e.jsxs("div",{className:"mt-12",children:[e.jsxs("h2",{className:"text-4xl font-bold text-white mb-6 leading-tight",children:["Master Khmer",e.jsx("br",{}),"Writing with",e.jsx("br",{}),"Confidence"]}),e.jsx("p",{className:"text-blue-100 text-lg leading-relaxed",children:"Learn to identify and use Khmer homophones correctly. Improve your writing skills with interactive exercises and instant feedback."})]})]}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-center gap-3 text-blue-100",children:[e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm",children:"Trusted by students and educators"})]})}),e.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 bg-white opacity-10 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute bottom-20 left-10 w-40 h-40 bg-purple-300 opacity-10 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative bg-white p-8 md:p-12 flex flex-col justify-center",children:[r&&e.jsx("button",{type:"button",className:"absolute top-6 right-6 text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>window.history.back(),"aria-label":"Close",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"md:hidden flex items-center gap-3 mb-8",children:[e.jsx(Y,{size:"md",variant:"blue"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-blue-700",children:K.NAME.SHORT}),e.jsx("p",{className:"text-gray-500 text-xs",children:K.TAGLINE.EN})]})]}),e.jsx("div",{className:"w-full",children:i})]})]})})})]})}function de({status:s,canResetPassword:i}){const{data:r,setData:h,post:l,processing:b,errors:d,reset:m}=A({email:"",password:"",remember:!1}),[g,y]=t.useState(!1),N=u=>{u.preventDefault(),l(route("login"),{onFinish:()=>m("password")})};return e.jsx(W,{title:"Log in",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to continue to your account"}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700",children:["✨ Try our new ",e.jsx("a",{href:route("auth"),className:"font-semibold underline hover:text-blue-800",children:"streamlined sign-in experience"})]})})]}),s&&e.jsx("div",{className:"p-3 text-sm text-green-700 bg-green-50 border border-green-200 rounded-lg",children:s}),e.jsxs("a",{href:route("auth.google"),className:"w-full flex items-center justify-center gap-3 px-4 py-3 border-2 border-gray-300 rounded-xl hover:bg-gray-50 transition-colors",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Continue with Google"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-1 border-t border-gray-300"}),e.jsx("span",{className:"px-3 text-sm text-gray-500",children:"Or"}),e.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),e.jsxs("form",{className:"space-y-4",onSubmit:N,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",value:r.email,onChange:u=>h("email",u.target.value),autoComplete:"username",placeholder:"Enter your email",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base"}),e.jsx(w,{message:d.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:g?"text":"password",value:r.password,onChange:u=>h("password",u.target.value),autoComplete:"current-password",placeholder:"Enter your password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base"}),e.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",tabIndex:-1,children:g?e.jsx(H,{className:"w-5 h-5"}):e.jsx(q,{className:"w-5 h-5"})})]}),e.jsx(w,{message:d.password,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember",type:"checkbox",checked:r.remember,onChange:u=>h("remember",u.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"remember",className:"ml-2 text-sm text-gray-700",children:"Remember me"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:b,children:b?"Logging in...":"Sign In"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm",children:[i&&e.jsx("a",{href:route("password.reset.otp"),className:"text-blue-600 hover:text-blue-700 hover:underline font-medium",children:"Forgot your password?"}),e.jsx("a",{href:route("register"),className:"text-blue-600 hover:text-blue-700 hover:underline font-medium",children:"Create an account"})]})]})})}const ve=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"}));function ce(){const{data:s,setData:i,post:r,processing:h,errors:l,reset:b}=A({name:"",email:"",password:"",password_confirmation:"",agreeTerms:!1,age:"",education_level:"",khmer_experience:""}),[d,m]=t.useState(!1),[g,y]=t.useState(!1),[N,u]=t.useState(!1),j=t.useRef(null),_=t.useRef(null),E=[{value:"",label:"Select Experience Level"},{value:"None",label:"None"},{value:"Beginner",label:"Beginner"},{value:"Intermediate",label:"Intermediate"},{value:"Advanced",label:"Advanced"},{value:"Expert",label:"Expert"}],C=[{value:"",label:"Select Education Level"},{value:"Primary",label:"Primary"},{value:"Secondary",label:"Secondary"},{value:"High School",label:"High School"},{value:"Bachelor",label:"Bachelor"},{value:"Master",label:"Master"},{value:"Doctorate",label:"Doctorate"},{value:"Other",label:"Other"}];t.useEffect(()=>{i("password_confirmation",s.password)},[s.password]),t.useEffect(()=>{function o(k){j.current&&!j.current.contains(k.target)&&y(!1),_.current&&!_.current.contains(k.target)&&u(!1)}return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const F=o=>{o.preventDefault(),r(route("register"))};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Sign Up"}),e.jsx(B,{}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-10",children:e.jsxs("div",{className:"relative bg-white rounded-2xl w-full max-w-3xl shadow-xl",children:[e.jsx("button",{type:"button",className:"absolute top-5 right-6 text-gray-400 hover:text-gray-600 text-2xl z-10","aria-label":"Close",onClick:()=>window.history.back(),style:{background:"none",border:"none"},children:"×"}),e.jsxs("div",{className:"px-8 py-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#222a54] mb-3",children:"Sign Up"}),e.jsxs("a",{href:route("auth.google"),className:"w-full flex items-center justify-center gap-3 px-3 py-[14px] border-[3px] border-gray-200 rounded-2xl hover:bg-gray-50 transition-colors mb-3",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Sign Up with Google"})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex-1 border-t border-gray-200"}),e.jsx("span",{className:"px-3 text-md text-gray-400",children:"Or"}),e.jsx("div",{className:"flex-1 border-t border-gray-200"})]}),e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Full Name"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:o=>i("name",o.target.value),placeholder:"Full Name",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[18px]",required:!0}),e.jsx(w,{message:l.name,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"age",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Age"}),e.jsx("input",{type:"number",name:"age",value:s.age,onChange:o=>i("age",o.target.value),placeholder:"Age",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[18px]",required:!0}),e.jsx(w,{message:l.age,className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",ref:j,children:[e.jsx("label",{htmlFor:"khmer_experience",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Khmer Writing Experience"}),e.jsxs("button",{type:"button",className:`w-full px-3 py-[12px] text-[18px] rounded-xl border bg-white shadow-sm text-left flex justify-between items-center focus:outline-none focus:ring-2 ${l.khmer_experience?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"}`,onClick:()=>y(!g),children:[E.find(o=>o.value===s.khmer_experience)?.label||"Select Experience Level",e.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform ${g?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),g&&e.jsx("div",{className:"absolute left-0 top-full mt-2 w-full bg-white border border-gray-200 rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto hide-scrollbar",children:e.jsx("div",{className:"px-2 py-2 space-y-1",children:E.map(o=>e.jsx("button",{type:"button",className:`flex items-center w-full text-left px-4 py-2 text-[16px] rounded-lg transition ${s.khmer_experience===o.value?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"}`,onClick:()=>{i("khmer_experience",o.value),y(!1)},children:o.label},o.value))})}),e.jsx(w,{message:l.khmer_experience,className:"mt-1"})]}),e.jsxs("div",{className:"relative",ref:_,children:[e.jsx("label",{htmlFor:"education_level",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Education Level"}),e.jsxs("button",{type:"button",className:`w-full px-3 py-[12px] text-[18px] rounded-xl border bg-white shadow-sm text-left flex justify-between items-center focus:outline-none focus:ring-2 ${l.education_level?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"}`,onClick:()=>u(!N),children:[C.find(o=>o.value===s.education_level)?.label||"Select Education Level",e.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform ${N?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),N&&e.jsx("div",{className:"absolute left-0 top-full mt-2 w-full bg-white border border-gray-200 rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto hide-scrollbar",children:e.jsx("div",{className:"px-2 py-2 space-y-1",children:C.map(o=>e.jsx("button",{type:"button",className:`flex items-center w-full text-left px-4 py-2 text-[16px] rounded-lg transition ${s.education_level===o.value?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"}`,onClick:()=>{i("education_level",o.value),u(!1)},children:o.label},o.value))})}),e.jsx(w,{message:l.education_level,className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Email Address"}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:o=>i("email",o.target.value),placeholder:"Email Address",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[18px]",required:!0}),e.jsx(w,{message:l.email,className:"mt-1"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"password",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Password"}),e.jsx("input",{type:d?"text":"password",name:"password",value:s.password,onChange:o=>i("password",o.target.value),placeholder:"Password",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[18px]",required:!0}),e.jsx("button",{type:"button",onClick:()=>m(!d),className:"absolute right-4 top-[45px] text-gray-400 hover:text-gray-600",tabIndex:-1,children:d?e.jsx(H,{size:20}):e.jsx(q,{size:20})}),e.jsx(w,{message:l.password,className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mt-2",children:e.jsxs("label",{className:"flex items-center cursor-pointer select-none",children:[e.jsx(X,{name:"agreeTerms",checked:s.agreeTerms,onChange:o=>i("agreeTerms",o.target.checked),className:"w-4 h-4 text-blue-500 border-gray-300 rounded focus:ring-blue-400",required:!0}),e.jsx("span",{className:"ml-2 text-md text-gray-600",children:"I agree to the Terms & Privacy Policy"})]})}),e.jsx("div",{className:"flex justify-start",children:e.jsx("button",{type:"submit",disabled:h,className:"w-1/3 border-2 border-blue-500 text-blue-600 hover:bg-[#f5f7ff] font-semibold py-2 rounded-xl transition text-md",children:h?"Registering...":"Register"})})]})]}),e.jsx("div",{className:"mt-2 text-start",children:e.jsx("a",{href:route("login"),className:"text-md font-medium text-[#2563eb] hover:underline block",children:"Login to an existing account!"})})]})]})})]})}const we=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"}));function me({token:s,email:i}){const{data:r,setData:h,post:l,processing:b,errors:d,reset:m}=A({token:s,email:i,password:"",password_confirmation:""}),g=y=>{y.preventDefault(),l(route("password.store"),{onFinish:()=>m("password","password_confirmation")})};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Reset Password"}),e.jsx(B,{}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-10",children:e.jsxs("div",{className:"relative bg-white rounded-2xl w-full max-w-xl shadow-xl",style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.18)",border:"1px solid #e5e7eb"},children:[e.jsx("button",{type:"button",className:"absolute top-5 right-6 text-gray-400 hover:text-gray-600 text-2xl z-10","aria-label":"Close",onClick:()=>window.history.back(),style:{background:"none",border:"none"},children:"×"}),e.jsxs("div",{className:"px-7 py-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#222a54] mb-2",children:"Reset Your Password"}),e.jsx("p",{className:"mb-3 text-base text-gray-600 leading-relaxed",children:"Enter your email and new password to regain access to your account."}),e.jsxs("form",{onSubmit:g,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-base font-semibold text-[#222a54] mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",name:"email",value:r.email,onChange:y=>h("email",y.target.value),placeholder:"Enter your email",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl transition-colors text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[16px] font-medium"}),e.jsx(w,{message:d.email,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-base font-semibold text-[#222a54] mb-2",children:"New Password"}),e.jsx("input",{id:"password",type:"password",name:"password",value:r.password,onChange:y=>h("password",y.target.value),placeholder:"Enter new password",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl transition-colors text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[16px] font-medium"}),e.jsx(w,{message:d.password,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password_confirmation",className:"block text-base font-semibold text-[#222a54] mb-2",children:"Confirm Password"}),e.jsx("input",{id:"password_confirmation",type:"password",name:"password_confirmation",value:r.password_confirmation,onChange:y=>h("password_confirmation",y.target.value),placeholder:"Confirm new password",className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl transition-colors text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[16px] font-medium"}),e.jsx(w,{message:d.password_confirmation,className:"mt-1"})]}),e.jsx("div",{className:"flex flex-col items-end mt-4",children:e.jsx("button",{type:"submit",className:"w-1/3 justify-center bg-blue-600 text-white font-semibold py-2 px-6 rounded-xl hover:bg-blue-500 transition-all duration-200 transform disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:b,children:b?"Resetting...":"Reset Password"})})]})]})]})})]})}const Ne=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"}));function ue(){const[s,i]=t.useState(1),[r,h]=t.useState(""),[l,b]=t.useState(["","","","","",""]),[d,m]=t.useState(""),[g,y]=t.useState(""),[N,u]=t.useState(!1),[j,_]=t.useState(!1),[E,C]=t.useState(""),[F,o]=t.useState(!1),[k,z]=t.useState(0),O=t.useRef([]);t.useEffect(()=>{y(d)},[d]),t.useEffect(()=>{if(k>0){const a=setTimeout(()=>z(k-1),1e3);return()=>clearTimeout(a)}},[k]);const f=[{number:1,title:"Email",icon:J},{number:2,title:"Verify Code",icon:Z},{number:3,title:"New Password",icon:ee}],x=async a=>{a.preventDefault(),_(!0),C("");try{(await L.post(route("password.reset.otp.send"),{email:r})).data.success&&(i(2),z(60))}catch(n){C(n.response?.data?.message||"Failed to send OTP")}finally{_(!1)}},p=(a,n)=>{if(n&&!/^\d$/.test(n))return;const v=[...l];v[a]=n,b(v),C(""),n&&a<5&&O.current[a+1]?.focus(),a===5&&n&&v.every(T=>T!=="")&&S(v.join(""))},R=(a,n)=>{n.key==="Backspace"&&!l[a]&&a>0&&O.current[a-1]?.focus(),n.key==="v"&&(n.ctrlKey||n.metaKey)&&(n.preventDefault(),navigator.clipboard.readText().then(v=>{const T=v.replace(/\D/g,"").slice(0,6).split(""),c=[...l];T.forEach(($,U)=>{U<6&&(c[U]=$)}),b(c);const P=Math.min(T.length,5);O.current[P]?.focus(),T.length===6&&S(c.join(""))}))},S=async(a=null)=>{const n=a||l.join("");if(n.length!==6){C("Please enter all 6 digits");return}_(!0),C("");try{(await L.post(route("password.reset.otp.verify"),{email:r,otp:n})).data.success&&i(3)}catch(v){C(v.response?.data?.message||"Invalid or expired OTP"),b(["","","","","",""]),O.current[0]?.focus()}finally{_(!1)}},V=async a=>{a.preventDefault(),_(!0),C("");try{const n=await L.post(route("password.reset.otp.reset"),{email:r,otp:l.join(""),password:d,password_confirmation:g});n.data.success&&(window.location.href=n.data.redirect)}catch(n){C(n.response?.data?.message||"Failed to reset password")}finally{_(!1)}},D=async()=>{o(!0),C("");try{(await L.post(route("password.reset.otp.resend"),{email:r})).data.success&&(z(60),b(["","","","","",""]),O.current[0]?.focus())}catch(a){C(a.response?.data?.message||"Failed to resend code")}finally{o(!1)}};return e.jsx(W,{title:"Reset Password",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:f.map((a,n)=>{const v=a.icon,T=s===a.number,c=s>a.number;return e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center transition-all ${c?"bg-green-500 text-white":T?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:c?e.jsx(Q,{className:"w-6 h-6"}):e.jsx(v,{className:"w-6 h-6"})}),e.jsx("span",{className:`text-xs mt-2 font-medium ${T?"text-blue-600":c?"text-green-600":"text-gray-500"}`,children:a.title})]}),n<f.length-1&&e.jsx("div",{className:`flex-1 h-1 mx-4 rounded ${s>a.number?"bg-green-500":"bg-gray-200"}`})]},a.number)})}),e.jsxs("div",{className:"mt-8",children:[s===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reset Your Password"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email to receive a verification code"})]}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",value:r,onChange:a=>h(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base",placeholder:"Enter your email",required:!0,autoFocus:!0}),E&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:E})]}),e.jsx("button",{type:"submit",disabled:j,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:j?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Sending..."})]}):"Send Verification Code"}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:route("auth"),className:"text-sm text-blue-600 hover:text-blue-700 hover:underline",children:"Back to Sign In"})})]})]}),s===2&&e.jsxs("div",{className:"space-y-6 text-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Verify Code"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Enter the 6-digit code sent to ",r]})]}),e.jsx("div",{className:"flex justify-center gap-3",children:l.map((a,n)=>e.jsx("input",{ref:v=>O.current[n]=v,type:"text",inputMode:"numeric",maxLength:1,value:a,onChange:v=>p(n,v.target.value),onKeyDown:v=>R(n,v),className:"w-12 h-14 text-center text-2xl font-bold border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",autoFocus:n===0},n))}),E&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-700",children:E})}),e.jsx("button",{onClick:()=>S(),disabled:j||l.some(a=>!a),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:j?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Verifying..."})]}):"Verify Code"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Didn't receive the code?"," ",k>0?e.jsxs("span",{className:"text-gray-500",children:["Resend in ",k,"s"]}):e.jsx("button",{onClick:D,disabled:F,className:"text-blue-600 hover:text-blue-700 font-semibold disabled:opacity-50",children:F?"Sending...":"Resend Code"})]})]}),s===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Password"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Choose a strong password for your account"})]}),e.jsxs("form",{onSubmit:V,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:N?"text":"password",value:d,onChange:a=>m(a.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base",placeholder:"Enter new password",required:!0,autoFocus:!0}),e.jsx("button",{type:"button",onClick:()=>u(!N),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",tabIndex:-1,children:N?e.jsx(H,{className:"w-5 h-5"}):e.jsx(q,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password_confirmation",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),e.jsx("input",{id:"password_confirmation",type:N?"text":"password",value:g,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl bg-gray-50 text-base",placeholder:"Same as above"})]}),E&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-700",children:E})}),e.jsx("button",{type:"submit",disabled:j,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:j?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Resetting..."})]}):"Reset Password & Sign In"})]})]})]})]})})}const Ce=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"})),xe=()=>{const[s,i]=t.useState(!1),r=t.useRef(null),h=t.useRef(null),{data:l,setData:b,post:d,processing:m,errors:g}=A({code:"",recovery_code:"",remember_device:!1}),y=()=>i(u=>!u);t.useEffect(()=>{s?(r.current?.focus(),b("code","")):(h.current?.focus(),b("recovery_code",""))},[s]);const N=u=>{u.preventDefault(),d(route("two-factor.login"))};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Two-factor Confirmation"}),e.jsx(B,{}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-10",children:e.jsxs("div",{className:"relative bg-white rounded-2xl w-full max-w-xl shadow-xl",style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.18)",border:"1px solid #e5e7eb"},children:[e.jsx("button",{type:"button",className:"absolute top-5 right-6 text-gray-400 hover:text-gray-600 text-2xl z-10","aria-label":"Close",onClick:()=>window.history.back(),style:{background:"none",border:"none"},children:"×"}),e.jsxs("div",{className:"px-7 py-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#222a54] mb-1",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-base text-gray-600 mb-3",children:s?"Enter one of your emergency recovery codes.":"Enter the 6-digit code from your authenticator app."}),e.jsxs("form",{onSubmit:N,className:"space-y-5",children:[s?e.jsxs("div",{children:[e.jsx("label",{htmlFor:"recovery_code",className:"block text-base font-semibold text-[#222a54] mb-2",children:"Recovery Code"}),e.jsx("input",{id:"recovery_code",ref:r,type:"text",placeholder:"ABCDEF-GHIJKL",autoComplete:"one-time-code",value:l.recovery_code,onChange:u=>b("recovery_code",u.target.value),className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl transition-colors text-gray-600 focus:ring-3 focus:ring-blue-100 focus:outline-none text-[16px] font-medium placeholder-gray-400",required:!0}),e.jsx(w,{message:g.recovery_code,className:"mt-1"})]}):e.jsxs("div",{children:[e.jsx("label",{htmlFor:"code",className:"block text-base font-semibold text-[#222a54] mb-2",children:"Authentication Code"}),e.jsx("input",{id:"code",ref:h,type:"text",inputMode:"numeric",maxLength:"6",autoComplete:"one-time-code",placeholder:"123456",value:l.code,onChange:u=>b("code",u.target.value.replace(/[^0-9]/g,"").slice(0,6)),className:"w-full px-3 py-[12px] border border-gray-300 rounded-xl transition-colors text-gray-600 focus:ring-3 focus:ring-blue-100 focus:outline-none text-[16px] font-medium placeholder-gray-400",required:!0}),e.jsx(w,{message:g.code,className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(X,{name:"remember_device",checked:l.remember_device,onChange:u=>b("remember_device",u.target.checked)}),e.jsx("span",{className:"ms-2 text-sm text-gray-600",children:"Remember this device for 30 days"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-end sm:items-center gap-3 mt-2 space-x-1",children:[e.jsx("button",{type:"button",onClick:y,className:"text-sm font-semibold text-blue-600 hover:underline",children:s?"Use an authentication code":"Use a recovery code"}),e.jsx("button",{type:"submit",disabled:m,className:"w-1/3 flex items-center justify-center bg-blue-600 text-white font-semibold py-1.5 px-4 rounded-xl hover:bg-blue-500 transition-all duration-200 transform disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:m?"Verifying...":"Log In"})]})]})]})]})})]})},ke=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"}));function he(){const[s,i]=t.useState("email"),[r,h]=t.useState(""),[l,b]=t.useState(""),[d,m]=t.useState(""),[g,y]=t.useState(""),[N,u]=t.useState(""),[j,_]=t.useState(""),[E,C]=t.useState(""),[F,o]=t.useState(""),[k,z]=t.useState(!1),[O,f]=t.useState(!1),[x,p]=t.useState(!1),[R,S]=t.useState({}),[V,D]=t.useState("");t.useEffect(()=>{s==="signup"&&y(d)},[d,s]);const a=async c=>{c.preventDefault(),S({}),p(!0);try{(await L.post(route("auth.check-email"),{email:r})).data.exists?(i("password"),D("Welcome back! Please enter your password.")):(i("signup"),D("Create your account to get started."))}catch(P){S({email:P.response?.data?.message||"An error occurred"})}finally{p(!1)}},n=async c=>{c.preventDefault(),S({}),p(!0);try{const P=await L.post(route("auth.login"),{email:r,password:d,remember:O});P.data.success&&(P.data.requires_verification?G.visit(route("otp.verify")):window.location.href=P.data.redirect)}catch(P){S({password:P.response?.data?.message||"Invalid credentials"}),p(!1)}},v=async c=>{if(c.preventDefault(),S({}),r!==l){S({email_confirmation:"Email addresses do not match"});return}p(!0);try{const P=await L.post(route("auth.register"),{email:r,password:d,password_confirmation:g,name:N||r,age:j,education_level:E,khmer_experience:F});P.data.success&&P.data.requires_verification&&G.visit(route("otp.verify"))}catch(P){const $=P.response?.data;$?.errors?S($.errors):S({general:$?.message||"Registration failed"}),p(!1)}},T=()=>{i("email"),b(""),m(""),y(""),u(""),_(""),C(""),o(""),S({}),D("")};return e.jsx(W,{title:"Sign In",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900",children:[s==="email"&&"Get Started",s==="password"&&"Welcome Back",s==="signup"&&"Create Account"]}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[s==="email"&&"Enter your email to continue",s==="password"&&V,s==="signup"&&V]})]}),s==="email"&&e.jsxs("form",{onSubmit:a,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",value:r,onChange:c=>h(c.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base",placeholder:"Enter your email",required:!0,autoFocus:!0}),e.jsx(w,{message:R.email,className:"mt-2"})]}),e.jsx("button",{type:"submit",disabled:x,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Checking..."})]}):"Continue"}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:route("password.reset.otp"),className:"text-sm text-blue-600 hover:text-blue-700 hover:underline",children:"Forgot your password?"})})]}),s==="password"&&e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700",children:"Password"}),e.jsx("button",{type:"button",onClick:T,className:"text-sm text-blue-600 hover:text-blue-700",children:"Change email"})]}),e.jsx("div",{className:"text-sm text-gray-600 mb-3",children:r}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:k?"text":"password",value:d,onChange:c=>m(c.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base",placeholder:"Enter your password",required:!0,autoFocus:!0}),e.jsx("button",{type:"button",onClick:()=>z(!k),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",tabIndex:-1,children:k?e.jsx(H,{className:"w-5 h-5"}):e.jsx(q,{className:"w-5 h-5"})})]}),e.jsx(w,{message:R.password,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember",type:"checkbox",checked:O,onChange:c=>f(c.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"remember",className:"ml-2 text-sm text-gray-700",children:"Remember me"})]}),e.jsx("button",{type:"submit",disabled:x,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Signing in..."})]}):"Sign In"}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:route("password.reset.otp"),className:"text-sm text-blue-600 hover:text-blue-700 hover:underline",children:"Forgot your password?"})})]}),s==="signup"&&e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Email Address"}),e.jsx("button",{type:"button",onClick:T,className:"text-sm text-blue-600 hover:text-blue-700",children:"Change email"})]}),e.jsx("div",{className:"text-sm text-gray-600 px-4 py-3 bg-gray-50 rounded-xl mb-3",children:r}),e.jsx("label",{htmlFor:"email_confirmation",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Email Address"}),e.jsx("input",{id:"email_confirmation",type:"email",value:l,onChange:c=>b(c.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base",placeholder:"Re-enter your email",required:!0}),e.jsx(w,{message:R.email_confirmation,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Create Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:k?"text":"password",value:d,onChange:c=>m(c.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base",placeholder:"Create a strong password",required:!0,autoFocus:!0}),e.jsx("button",{type:"button",onClick:()=>z(!k),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",tabIndex:-1,children:k?e.jsx(H,{className:"w-5 h-5"}):e.jsx(q,{className:"w-5 h-5"})})]}),e.jsx(w,{message:R.password,className:"mt-2"})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Optional Information (helps us personalize your experience)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{id:"name",type:"text",value:N,onChange:c=>u(c.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",placeholder:"Your name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),e.jsx("input",{id:"age",type:"number",value:j,onChange:c=>_(c.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",placeholder:"Age"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"education",className:"block text-sm font-medium text-gray-700 mb-1",children:"Education"}),e.jsxs("select",{id:"education",value:E,onChange:c=>C(c.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Primary",children:"Primary"}),e.jsx("option",{value:"Secondary",children:"Secondary"}),e.jsx("option",{value:"High School",children:"High School"}),e.jsx("option",{value:"Bachelor",children:"Bachelor"}),e.jsx("option",{value:"Master",children:"Master"}),e.jsx("option",{value:"Doctorate",children:"Doctorate"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"khmer",className:"block text-sm font-medium text-gray-700 mb-1",children:"Khmer Writing Experience"}),e.jsxs("select",{id:"khmer",value:F,onChange:c=>o(c.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"None",children:"None"}),e.jsx("option",{value:"Beginner",children:"Beginner"}),e.jsx("option",{value:"Intermediate",children:"Intermediate"}),e.jsx("option",{value:"Advanced",children:"Advanced"}),e.jsx("option",{value:"Expert",children:"Expert"})]})]})]})]}),R.general&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-700",children:R.general})}),e.jsx("button",{type:"submit",disabled:x,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Creating account..."})]}):"Create Account"})]})]})})}const Se=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"}));function be({status:s}){const{post:i,processing:r}=A({}),h=l=>{l.preventDefault(),i(route("verification.send"))};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Email Verification"}),e.jsx(B,{}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-10",children:e.jsxs("div",{className:"relative bg-white rounded-2xl w-full max-w-xl shadow-xl",style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.18)",border:"1px solid #e5e7eb"},children:[e.jsx("button",{type:"button",className:"absolute top-5 right-6 text-gray-400 hover:text-gray-600 text-2xl z-10","aria-label":"Close",onClick:()=>window.history.back(),style:{background:"none",border:"none"},children:"×"}),e.jsxs("div",{className:"px-7 py-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#222a54] mb-3",children:"Verify Your Email"}),e.jsx("p",{className:"mb-3 text-base text-gray-600 leading-relaxed",children:"Thanks for signing up! Before getting started, please verify your email address by clicking on the link we just sent. Didn’t receive the email? You can request another below."}),s==="verification-link-sent"&&e.jsx("div",{className:"text-sm text-green-700 ",children:"A new verification link has been sent to your registered email address."}),e.jsx("form",{onSubmit:h,className:"space-y-3",children:e.jsxs("div",{className:"flex flex-col items-center mt-3",children:[e.jsx("button",{type:"submit",className:"w-full flex items-center justify-center bg-blue-600 text-white font-semibold py-2 px-6 rounded-xl hover:bg-blue-500 transition-all duration-200 transform disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:r,children:r?"Sending...":"Resend Verification Email"}),e.jsx(se,{href:route("logout"),method:"post",as:"button",className:"text-base text-[#2563eb] hover:underline font-medium mt-3",children:"Log Out"})]})})]})]})})]})}const _e=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"}));function pe({email:s}){const{flash:i}=te().props,[r,h]=t.useState(["","","","","",""]),[l,b]=t.useState(!1),[d,m]=t.useState(""),[g,y]=t.useState(!1),[N,u]=t.useState(!1),[j,_]=t.useState(0),[E,C]=t.useState(i?.success||""),F=t.useRef([]);t.useEffect(()=>{if(j>0){const f=setTimeout(()=>_(j-1),1e3);return()=>clearTimeout(f)}},[j]);const o=(f,x)=>{if(x&&!/^\d$/.test(x))return;const p=[...r];p[f]=x,h(p),m(""),x&&f<5&&F.current[f+1]?.focus(),f===5&&x&&p.every(R=>R!=="")&&z(p.join(""))},k=(f,x)=>{x.key==="Backspace"&&!r[f]&&f>0&&F.current[f-1]?.focus(),x.key==="v"&&(x.ctrlKey||x.metaKey)&&(x.preventDefault(),navigator.clipboard.readText().then(p=>{const R=p.replace(/\D/g,"").slice(0,6).split(""),S=[...r];R.forEach((D,a)=>{a<6&&(S[a]=D)}),h(S);const V=Math.min(R.length,5);F.current[V]?.focus(),R.length===6&&z(S.join(""))}))},z=async(f=null)=>{const x=f||r.join("");if(x.length!==6){m("Please enter all 6 digits");return}b(!0),m("");try{const p=await L.post(route("otp.verify.submit"),{otp:x});p.data.success&&(y(!0),setTimeout(()=>{window.location.href=p.data.redirect},1e3))}catch(p){m(p.response?.data?.message||"Verification failed. Please try again."),h(["","","","","",""]),F.current[0]?.focus()}finally{b(!1)}},O=async()=>{u(!0),m("");try{(await L.post(route("otp.resend"))).data.success&&(_(60),h(["","","","","",""]),F.current[0]?.focus())}catch(f){m(f.response?.data?.message||"Failed to resend code")}finally{u(!1)}};return e.jsx(W,{title:"Verify Email",showCloseButton:!1,children:e.jsxs("div",{className:"space-y-6 text-center",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center",children:g?e.jsx(Q,{className:"w-10 h-10 text-green-600"}):e.jsx(J,{className:"w-10 h-10 text-blue-600"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:g?"Verified!":"Verify Your Email"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:g?"Your email has been verified successfully":`We sent a 6-digit code to ${s}`})]}),!g&&e.jsxs(e.Fragment,{children:[E&&e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-700",children:E})}),e.jsx("div",{className:"flex justify-center gap-3",children:r.map((f,x)=>e.jsx("input",{ref:p=>F.current[x]=p,type:"text",inputMode:"numeric",maxLength:1,value:f,onChange:p=>o(x,p.target.value),onKeyDown:p=>k(x,p),className:"w-12 h-14 text-center text-2xl font-bold border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",autoFocus:x===0},x))}),d&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-700",children:d})}),e.jsx("button",{onClick:()=>z(),disabled:l||r.some(f=>!f),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Verifying..."})]}):"Verify Email"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Didn't receive the code?"," ",j>0?e.jsxs("span",{className:"text-gray-500",children:["Resend in ",j,"s"]}):e.jsx("button",{onClick:O,disabled:N,className:"text-blue-600 hover:text-blue-700 font-semibold disabled:opacity-50",children:N?"Sending...":"Resend Code"})]})]}),g&&e.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[e.jsx(M,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Redirecting..."})]})]})})}const Ee=Object.freeze(Object.defineProperty({__proto__:null,default:pe},Symbol.toStringTag,{value:"Module"}));export{ye as C,je as F,ve as L,we as R,ke as T,Se as U,_e as V,Ne as a,Ce as b,Ee as c};
