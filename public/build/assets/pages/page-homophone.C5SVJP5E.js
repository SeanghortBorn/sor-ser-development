import{u as xe,r as o,j as e,a9 as he,L as se,aa as b,d as _e,S as ze,ab as We,Q as Re}from"../vendor/vendor-common.DkKXL0Tk.js";import{A as pe}from"./page-articles.DcfUkLYT.js";import{M as Te,b as fe,d as Le}from"../components/components-common.qHFXWbqp.js";import{E as $e}from"../vendor/vendor-utils.CnYFReN_.js";function Ue({homophone:a}){const{auth:U}=xe().props;U?.can,a=a||{id:null,word:"",pos:"",pro:"",definition:"",example:"",phoneme:"",homophone:[]};const[n,v]=o.useState({word:a.word??"",pos:a.pos??"",pro:a.pro??"",definition:a.definition??"",example:a.example??"",phoneme:a.phoneme??"",homophone:Array.isArray(a.homophone)?a.homophone.join(", "):""}),[B,H]=o.useState(!1),[g,w]=o.useState(!1),d=r=>{const{name:c,value:i}=r.target;v({...n,[c]:i})},N=r=>{r.preventDefault(),w(!0);const c={...n,homophone:n.homophone.split(",").map(M=>M.trim()).filter(Boolean)},i=()=>w(!1);a.id?b.patch(route("homophones.update",a.id),c,{onFinish:i}):b.post(route("homophones.store"),c,{onFinish:i})},h=a.id?"Edit Homophone":"Create Homophone",K=[{title:"Home",url:"/"},{title:h,url:""}];return e.jsxs(pe,{breadcrumb:e.jsx(fe,{header:h,links:K}),children:[e.jsx(he,{title:h}),e.jsx("section",{className:"content",children:e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"bg-white shadow-sm rounded-xl overflow-hidden border border-gray-200 mb-12",children:[e.jsx("div",{className:"px-6 py-4 border-b bg-gray-50",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:a?.id?"Edit Homophone":"Create Homophone"}),e.jsx("p",{className:"text-sm text-gray-500",children:a?.id?"Update the details of this homophone below.":"Fill out the form below to create a new homophone."})]})})}),e.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Word"}),e.jsx("input",{name:"word",value:n.word,onChange:d,className:"block w-full px-3 py-2 rounded-xl border border-gray-300 focus:ring-blue-200 focus:border-blue-400 placeholder-gray-400 focus:outline-none focus:ring-1",placeholder:"Enter word"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"POS"}),e.jsx("input",{name:"pos",value:n.pos,onChange:d,className:"block w-full px-3 py-2 rounded-xl border border-gray-300 focus:ring-blue-200 focus:border-blue-400 placeholder-gray-400 focus:outline-none focus:ring-1",placeholder:"Enter part of speech"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pronunciation"}),e.jsx("input",{name:"pro",value:n.pro,onChange:d,className:"block w-full px-3 py-2 rounded-xl border border-gray-300 focus:ring-blue-200 focus:border-blue-400 placeholder-gray-400 focus:outline-none focus:ring-1",placeholder:"Enter pronunciation"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Definition"}),e.jsx("input",{name:"definition",value:n.definition,onChange:d,className:"block w-full px-3 py-2 rounded-xl border border-gray-300 focus:ring-blue-200 focus:border-blue-400 placeholder-gray-400 focus:outline-none focus:ring-1",placeholder:"Enter definition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Homophones (comma separated)"}),e.jsx("input",{name:"homophone",value:n.homophone,onChange:d,className:"block w-full px-3 py-2 rounded-xl border border-gray-300 focus:ring-blue-200 focus:border-blue-400 placeholder-gray-400 focus:outline-none focus:ring-1",placeholder:"Enter homophones separated by commas"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phoneme"}),e.jsx("input",{name:"phoneme",value:n.phoneme,onChange:d,className:"block w-full px-3 py-2 rounded-xl border border-gray-300 focus:ring-blue-200 focus:border-blue-400 placeholder-gray-400 focus:outline-none focus:ring-1",placeholder:"Enter phoneme"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Example"}),e.jsx("textarea",{name:"example",value:n.example,onChange:d,className:"block w-full px-3 py-2 rounded-xl border border-gray-300 focus:ring-blue-200 focus:border-blue-400 placeholder-gray-400 focus:outline-none focus:ring-1 resize-none overflow-hidden",rows:"3",onInput:r=>{r.target.style.height="auto",r.target.style.height=`${r.target.scrollHeight}px`},onPaste:r=>r.preventDefault(),onCopy:r=>r.preventDefault(),onCut:r=>r.preventDefault(),onContextMenu:r=>r.preventDefault(),onDrop:r=>r.preventDefault(),onKeyDown:r=>{(r.ctrlKey||r.metaKey)&&(r.key==="v"||r.key==="V")&&r.preventDefault(),r.shiftKey&&r.key==="Insert"&&r.preventDefault()}})]})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-3 pt-6 mt-6 border-t border-gray-200",children:[e.jsx(se,{href:route("homophones.index"),className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl text-gray-600 border-2 hover:bg-gray-50 hover:border-gray-300  transition duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",className:"inline-flex items-center justify-center px-8 py-2 text-sm font-medium rounded-xl text-white bg-gradient-to-r from-blue-500 to-blue-500 transition duration-200 hover:1rom-blue-500 hover:to-blue-600",disabled:g,children:g?a.id?"Updating...":"Saving...":a.id?"Update":"Save"})]})]}),e.jsx(Te,{show:B,onClose:()=>H(!1),maxWidth:"lg",children:e.jsxs("form",{onSubmit:r=>{r.preventDefault(),b.delete(route("homophones.destroy",a.id),{onFinish:()=>H(!1)})},className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Delete Homophone"}),e.jsxs("p",{className:"text-gray-700 mb-4",children:['Are you sure you want to delete "',n.word,'"?']}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:()=>H(!1),className:"rounded-xl border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-xl px-9 py-1 text-white font-semibold transition bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})})})]})}const Ge=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"}));function Ke({homophones:a,search:U=""}){const{auth:n}=xe().props,v=n?.can??{},B=a?.data||a||[],[H,g]=o.useState(!1),[w,d]=o.useState(null),[N,h]=o.useState(!1),[K,r]=o.useState(!1),[c,i]=o.useState(!1),[M,p]=o.useState(""),[be,O]=o.useState(!1),[_,P]=o.useState(!1),[z,V]=o.useState(!1),[J,te]=o.useState(U),[k,W]=o.useState(null),[ge,q]=o.useState(!1),[R,re]=o.useState([]),[C,F]=o.useState({}),[ye,oe]=o.useState(null),[ae,I]=o.useState(0),[je,le]=o.useState(!1),[T,Q]=o.useState(!1),[ne,ve]=o.useState(""),[ie,A]=o.useState(0),[u,de]=o.useState({pos:"",hasHomophones:"",sortBy:"id",sortDir:"asc"}),[G,L]=o.useState(!1),[X,Y]=o.useState(!1),[Z,$]=o.useState(!1),x=o.useRef(),we=o.useRef(null),Ne=s=>{d(s),g(!0)},ke=s=>{s?.preventDefault?.(),w&&(h(!0),b.delete(route("homophones.destroy",w.id),{preserveScroll:!0,onFinish:()=>{h(!1),g(!1),d(null)}}))},Ce=s=>{p("");const t=s.target.files[0];W(t||null)},De=async s=>{try{Q(!0),A(0);const t=setInterval(()=>{A(m=>m>=90?m:m+5)},300),l=await axios.post(route("homophones.import")+"?scan=true",s,{headers:s instanceof FormData?{"Content-Type":"multipart/form-data"}:{"Content-Type":"application/json"}});return clearInterval(t),A(100),setTimeout(()=>{Q(!1),A(0)},500),l.data.has_duplicates?(re(l.data.duplicates),ve(l.data.message||""),q(!0),i(!1),!0):!1}catch(t){return console.error("Duplicate scan error:",t),Q(!1),A(0),p("Failed to scan for duplicates."),i(!1),!1}},Se=async s=>{if(s.preventDefault(),p(""),!!k){i(!0);try{const t=k;let l=null,m=null;if(t.name.endsWith(".json")){const y=new FormData;y.append("file",t),l=y}else if(t.name.endsWith(".xlsx")||t.name.endsWith(".xls")){const y=await t.arrayBuffer(),S=new $e.Workbook;await S.xlsx.load(y);const Me=S.worksheets[0];let E=[];Me.eachRow({includeEmpty:!1},j=>{E.push(j.values.slice(1))}),E=E.map(j=>({...j,homophone:Array.isArray(j.homophone)?j.homophone:typeof j.homophone=="string"?j.homophone.split(",").map(Oe=>Oe.trim()).filter(Boolean):[]})),m=E,l={homophones:E}}else{p("Unsupported file type. Please upload .json or .xlsx/.xls file."),i(!1);return}oe({dataToScan:l,homophonesData:m,file:t}),await De(l)||ce(l,m,t)}catch(t){console.error("Import error:",t),p("Failed to parse file."),i(!1)}}},He=()=>{P(!0),b.post(route("homophones.clear"),{},{onFinish:()=>{P(!1),O(!1)},onError:()=>{P(!1)}})},ce=(s,t,l)=>{const m=t?{homophones:t,duplicate_resolutions:C}:s;s instanceof FormData&&Object.keys(C).length>0&&s.append("duplicate_resolutions",JSON.stringify(C));const D=t?m:s;I(0);const y=setInterval(()=>{I(S=>S>=90?S:S+10)},200);b.post(route("homophones.import"),D,{forceFormData:D instanceof FormData,headers:D instanceof FormData?{"Content-Type":"multipart/form-data"}:void 0,onFinish:()=>{clearInterval(y),I(100),setTimeout(()=>{i(!1),r(!1),q(!1),le(!0),W(null),F({}),oe(null),I(0),x.current&&(x.current.value=""),setTimeout(()=>{le(!1)},3e3)},500)},onError:()=>{clearInterval(y),p("Import failed."),i(!1),I(0)}})},me=(s,t)=>{F(l=>({...l,[s]:t}))},Pe=()=>{const s={};R.forEach(t=>{s[t.key]="replace"}),F(s)},Fe=()=>{const s={};R.forEach(t=>{s[t.key]="skip"}),F(s)},Ie=()=>{i(!0);const{dataToScan:s,homophonesData:t,file:l}=ye;ce(s,t)},ee="Homophones List",Ae=[{title:"Home",url:"/"},{title:ee,url:""}];_e.useEffect(()=>{if(!z)return;const s=t=>{t.target.closest(".filter-dropdown-parent")||V(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[z]);const Ee=s=>{const t=s.target.value;te(t),ue({search:t})},ue=(s={})=>{const t={...u,...s},l={};(J||s.search!==void 0)&&(l.search=s.search!==void 0?s.search:J),t.pos&&(l.pos=t.pos),t.hasHomophones&&(l.hasHomophones=t.hasHomophones),t.sortBy&&(l.sortBy=t.sortBy),t.sortDir&&(l.sortDir=t.sortDir),b.get(route("homophones.index"),l,{preserveState:!0,replace:!0})},f=(s,t)=>{const l={...u,[s]:t};de(l),ue(l)},Be=()=>{de({pos:"",hasHomophones:"",sortBy:"id",sortDir:"asc"}),te(""),b.get(route("homophones.index"),{},{preserveState:!0,replace:!0})};return e.jsxs(pe,{breadcrumb:e.jsx(fe,{header:ee,links:Ae}),children:[e.jsx(he,{title:ee}),e.jsxs("div",{className:"bg-white shadow-sm rounded-2xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-3 items-center flex-1",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 rounded-xl border border-gray-300 hover:border-gray-400 hover:shadow-sm transition text-sm bg-white",children:[e.jsx(ze,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",className:"px-2 w-[250px] py-2 rounded-xl border-none text-sm focus:outline-none focus:ring-0",placeholder:"Search Word, POS, Pronunciation",value:J,onChange:Ee})]}),e.jsx("div",{className:"relative flex gap-2 filter-dropdown-parent",children:e.jsxs("div",{className:"relative",ref:we,children:[e.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95 focus:outline-none",onClick:()=>V(s=>!s),children:[e.jsx("i",{className:"fas fa-filter w-4 h-4"}),e.jsx("span",{children:"Filter"}),e.jsx("i",{className:`fas fa-chevron-down transition-transform duration-300 ${z?"rotate-180":""}`})]}),z&&e.jsx("div",{className:"absolute left-0 mt-2 w-72 bg-white border border-gray-200 rounded-xl shadow-lg z-50 animate-fade-in",children:e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Sort By"}),e.jsxs("button",{type:"button",onClick:()=>L(!G),className:"w-full px-3 py-2 border border-gray-300 rounded-xl bg-white cursor-pointer focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm font-medium text-gray-700 transition-all duration-200 hover:border-purple-400 flex items-center justify-between",children:[e.jsxs("span",{children:[u.sortBy==="id"&&"Order Added",u.sortBy==="word"&&"Alphabetically",u.sortBy==="created_at"&&"Date Created"]}),e.jsx("i",{className:`fas fa-chevron-down transition-transform duration-200 ${G?"rotate-180":""}`})]}),G&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-xl shadow-lg overflow-hidden animate-fade-in",children:[e.jsx("div",{onClick:()=>{f("sortBy","id"),L(!1)},className:"px-3 py-2 text-sm font-medium text-gray-700 hover:bg-purple-50 cursor-pointer transition-colors duration-150",children:"Order Added"}),e.jsx("div",{onClick:()=>{f("sortBy","word"),L(!1)},className:"px-3 py-2 text-sm font-medium text-gray-700 hover:bg-purple-50 cursor-pointer transition-colors duration-150",children:"Alphabetically"}),e.jsx("div",{onClick:()=>{f("sortBy","created_at"),L(!1)},className:"px-3 py-2 text-sm font-medium text-gray-700 hover:bg-purple-50 cursor-pointer transition-colors duration-150",children:"Date Created"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Direction"}),e.jsxs("button",{type:"button",onClick:()=>Y(!X),className:"w-full px-3 py-2 border border-gray-300 rounded-xl bg-white cursor-pointer focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm font-medium text-gray-700 transition-all duration-200 hover:border-purple-400 flex items-center justify-between",children:[e.jsxs("span",{children:[u.sortDir==="asc"&&"Ascending",u.sortDir==="desc"&&"Descending"]}),e.jsx("i",{className:`fas fa-chevron-down transition-transform duration-200 ${X?"rotate-180":""}`})]}),X&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-xl shadow-lg overflow-hidden animate-fade-in",children:[e.jsx("div",{onClick:()=>{f("sortDir","asc"),Y(!1)},className:"px-3 py-2 text-sm font-medium text-gray-700 hover:bg-purple-50 cursor-pointer transition-colors duration-150",children:"Ascending"}),e.jsx("div",{onClick:()=>{f("sortDir","desc"),Y(!1)},className:"px-3 py-2 text-sm font-medium text-gray-700 hover:bg-purple-50 cursor-pointer transition-colors duration-150",children:"Descending"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Has Homophones"}),e.jsxs("button",{type:"button",onClick:()=>$(!Z),className:"w-full px-3 py-2 border border-gray-300 rounded-xl bg-white cursor-pointer focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm font-medium text-gray-700 transition-all duration-200 hover:border-purple-400 flex items-center justify-between",children:[e.jsxs("span",{children:[u.hasHomophones===""&&"All",u.hasHomophones==="yes"&&"With Homophones",u.hasHomophones==="no"&&"Without Homophones"]}),e.jsx("i",{className:`fas fa-chevron-down transition-transform duration-200 ${Z?"rotate-180":""}`})]}),Z&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-xl shadow-lg overflow-hidden animate-fade-in",children:[e.jsx("div",{onClick:()=>{f("hasHomophones",""),$(!1)},className:"px-3 py-2 text-sm font-medium text-gray-700 hover:bg-purple-50 cursor-pointer transition-colors duration-150",children:"All"}),e.jsx("div",{onClick:()=>{f("hasHomophones","yes"),$(!1)},className:"px-3 py-2 text-sm font-medium text-gray-700 hover:bg-purple-50 cursor-pointer transition-colors duration-150",children:"With Homophones"}),e.jsx("div",{onClick:()=>{f("hasHomophones","no"),$(!1)},className:"px-3 py-2 text-sm font-medium text-gray-700 hover:bg-purple-50 cursor-pointer transition-colors duration-150",children:"Without Homophones"})]})]}),e.jsxs("button",{type:"button",onClick:()=>{Be(),V(!1)},className:"w-full px-4 py-2 text-sm font-semibold text-white bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 rounded-xl transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95 flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-times-circle"}),"Clear Filters"]})]})})]})})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[v["homophone-delete"]&&e.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm text-white bg-red-600 hover:bg-red-500 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",onClick:()=>O(!0),children:[e.jsx("i",{className:"fas fa-trash w-4 h-4"}),"Clear All"]}),v["homophone-create"]&&e.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm text-white bg-blue-600 hover:bg-blue-500 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",onClick:()=>r(!0),children:[e.jsx("i",{className:"fas fa-file-import w-4 h-4"}),"Import"]}),v["homophone-create"]&&v["homophone-list"]&&e.jsxs(se,{href:route("homophones.create"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm text-white bg-green-600 hover:bg-green-500 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:[e.jsx(We,{className:"w-4 h-4"}),"Add New"]})]})]}),e.jsx("div",{className:"overflow-x-auto border border-gray-200",children:e.jsxs("table",{className:"min-w-full table-auto",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-4 font-semibold w-16",children:"No."}),e.jsx("th",{className:"px-4 py-4 font-semibold w-32",children:"Word"}),e.jsx("th",{className:"px-4 py-4 font-semibold w-20",children:"POS"}),e.jsx("th",{className:"px-4 py-4 font-semibold w-32",children:"Pronunciation"}),e.jsx("th",{className:"px-4 py-4 font-semibold w-64",children:"Definition"}),e.jsx("th",{className:"px-4 py-4 font-semibold w-48",children:"Example"}),e.jsx("th",{className:"px-4 py-4 font-semibold w-24",children:"Phoneme"}),e.jsx("th",{className:"px-4 py-4 font-semibold w-32",children:"Homophones"}),e.jsx("th",{className:"px-4 py-4 font-semibold w-32",children:"Actions"})]})}),e.jsx("tbody",{className:"text-sm divide-y divide-gray-200 bg-white",children:B.length>0?B.map((s,t)=>{const l=a?.current_page||1,m=a?.per_page||10,D=(l-1)*m+t+1;return e.jsxs("tr",{className:"hover:bg-blue-50 transition-all duration-200",children:[e.jsx("td",{className:"px-4 py-4 font-medium text-gray-900 text-center",children:D}),e.jsx("td",{className:"px-4 py-4 font-medium text-gray-900",children:s.word}),e.jsx("td",{className:"px-4 py-4 text-gray-700 text-center",children:s.pos}),e.jsx("td",{className:"px-4 py-4 text-gray-700",children:s.pro}),e.jsx("td",{className:"px-4 py-4 text-gray-700",children:s.definition}),e.jsx("td",{className:"px-4 py-4 text-gray-700",children:s.example}),e.jsx("td",{className:"px-4 py-4 text-gray-700 text-center",children:s.phoneme}),e.jsx("td",{className:"px-4 py-4 text-gray-700",children:Array.isArray(s.homophone)?s.homophone.join(", "):""}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx(se,{href:route("homophones.edit",s.id),className:"px-3 py-1 rounded-xl bg-blue-500 text-white text-xs hover:bg-blue-600 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:"Edit"}),e.jsx("button",{type:"button",onClick:()=>Ne(s),className:"px-3 py-1 rounded-xl bg-red-500 text-white text-xs hover:bg-red-600 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:"Delete"})]})})]},s.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"text-center py-6 text-gray-500",children:"No homophones found."})})})]})}),H&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900/50 backdrop-blur-sm",onClick:()=>{N||(g(!1),d(null),h(!1))}}),e.jsx("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-lg w-full mx-4 z-10 animate-fade-in",children:e.jsxs("form",{onSubmit:ke,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Delete Homophone"}),e.jsxs("p",{className:"text-gray-700 mb-4",children:['Are you sure you want to delete "',w?.word,'"?']}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{g(!1),d(null),h(!1)},className:"rounded-2xl border-2 border-gray-300 px-8 py-2 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:N,children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-2xl px-9 py-2 text-white font-semibold transition bg-red-600 hover:bg-red-700",disabled:N,children:N?"Deleting...":"Delete"})]})]})})]}),K&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900/50 backdrop-blur-sm",onClick:()=>{c||(r(!1),p(""),W(null),x.current&&(x.current.value=""))}}),e.jsx("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-lg w-full mx-4 z-10 animate-fade-in",children:e.jsxs("form",{className:"p-6",onSubmit:Se,children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Import Homophones"}),e.jsxs("p",{className:"text-gray-600 mb-4 text-sm",children:["Upload a ",e.jsx("b",{children:".json"}),", ",e.jsx("b",{children:".csv"}),", ",e.jsx("b",{children:".xlsx"})," or ",e.jsx("b",{children:".xls"})," ","file with homophone data."]}),c||T?e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-700 font-medium",children:T?"Scanning for duplicates...":"Importing homophones..."}),c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-blue-600 h-full transition-all duration-300 ease-out",style:{width:`${ae}%`}})}),e.jsxs("p",{className:"text-sm text-gray-500",children:[ae,"%"]})]}),T&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-blue-600 h-full transition-all duration-300 ease-out",style:{width:`${ie}%`}})}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Scanning: ",ie,"%"]})]})]})}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select File"}),e.jsxs("div",{className:"flex items-center justify-center h-32 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 cursor-pointer relative bg-gray-50 hover:bg-blue-50 transition-all duration-200",onClick:()=>{x.current&&x.current.click()},children:[e.jsx("input",{type:"file",accept:".json,.csv,.xlsx,.xls",ref:x,onChange:Ce,className:"absolute inset-0 opacity-0 cursor-pointer",onClick:s=>s.stopPropagation()}),e.jsxs("div",{className:"text-center space-y-2 pointer-events-none",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-8 w-8 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M12 16a1 1 0 0 1-1-1V9.414L8.707 11.707a1 1 0 1 1-1.414-1.414l4-4a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L13 9.414V15a1 1 0 0 1-1 1z"}),e.jsx("path",{d:"M4 18a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1z"})]}),e.jsx("div",{className:"text-sm text-gray-600",children:k?k.name:"Click to select a file"}),e.jsx("div",{className:"inline-block px-3 py-1 bg-blue-600 text-white rounded-xl text-xs",children:k?"Change file":"Browse"})]})]}),M&&e.jsx("div",{className:"text-red-600 mt-2 text-sm",children:M})]}),!c&&!T&&e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>{r(!1),p(""),W(null),x.current&&(x.current.value="")},className:"px-6 py-2 rounded-xl border border-gray-300 text-gray-700 hover:bg-gray-50 transition font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 rounded-xl bg-blue-600 text-white font-medium hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",disabled:!k,children:"Import"})]})]})})]}),be&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900/50 backdrop-blur-sm",onClick:()=>{_||(O(!1),P(!1))}}),e.jsx("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-lg w-full mx-4 z-10 animate-fade-in",children:e.jsxs("form",{onSubmit:s=>{s.preventDefault(),He()},className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Clear All Homophones"}),e.jsxs("p",{className:"text-gray-700 mb-4",children:["Are you sure you want to"," ",e.jsx("b",{children:"delete all homophones"}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{O(!1),P(!1)},className:"rounded-2xl border-2 border-gray-300 px-8 py-2 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:_,children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-2xl px-9 py-2 text-white font-semibold transition bg-red-600 hover:bg-red-700",disabled:_,children:_?"Clearing...":"Clear All"})]})]})})]}),ge&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900/50 backdrop-blur-sm"}),e.jsx("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-4xl w-full mx-4 z-10 animate-fade-in max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Duplicate Homophones Found"}),e.jsxs("p",{className:"text-gray-700 mb-2",children:["Found ",R.length," duplicate(s). Choose whether to replace the existing entries or skip importing them."]}),ne&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl px-4 py-2 mb-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("i",{className:"fas fa-info-circle mr-2"}),ne]})}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{type:"button",onClick:Pe,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-xl hover:bg-blue-700 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:"Replace All"}),e.jsx("button",{type:"button",onClick:Fe,className:"px-4 py-2 bg-gray-600 text-white text-sm rounded-xl hover:bg-gray-700 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:"Skip All"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto space-y-4 mb-6",children:R.map((s,t)=>e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 bg-gray-50",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Existing in Database"}),e.jsxs("div",{className:"bg-white p-3 rounded-xl border",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Word:"})," ",s.existing.word]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Pronunciation:"})," ",s.existing.pronunciation||"N/A"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Definition:"})," ",s.existing.definition]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"New from Import"}),e.jsxs("div",{className:"bg-white p-3 rounded-xl border border-blue-300",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Word:"})," ",s.new.word]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Pronunciation:"})," ",s.new.pronunciation||"N/A"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Definition:"})," ",s.new.definition]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>me(s.key,"replace"),className:`flex-1 px-4 py-2 rounded-xl text-sm font-medium transition ${C[s.key]==="replace"?"bg-blue-600 text-white":"bg-white text-blue-600 border border-blue-600 hover:bg-blue-50"}`,children:"Replace"}),e.jsx("button",{type:"button",onClick:()=>me(s.key,"skip"),className:`flex-1 px-4 py-2 rounded-xl text-sm font-medium transition ${C[s.key]==="skip"?"bg-gray-600 text-white":"bg-white text-gray-600 border border-gray-600 hover:bg-gray-50"}`,children:"Skip"})]})]},t))}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{q(!1),r(!0),re([]),F({})},className:"rounded-2xl border-2 border-gray-300 px-8 py-2 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:c,children:"Back"}),e.jsx("button",{type:"button",onClick:Ie,className:"rounded-2xl px-8 py-2 bg-green-600 text-white font-semibold hover:bg-green-700 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",disabled:c||Object.keys(C).length===0,children:c?"Importing...":"Proceed with Import"})]})]})})]}),a.total>10&&e.jsx("div",{className:"mt-6 mb-6",children:e.jsx(Le,{links:a.links,currentPage:a.current_page,total:a.total,perPage:a.per_page})})]}),je&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-fade-in",children:e.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 rounded-2xl shadow-lg flex items-center gap-3",children:[e.jsx(Re,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Import Complete!"}),e.jsx("p",{className:"text-sm text-green-100",children:"Homophones have been successfully imported"})]})]})})]})}const Xe=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"}));export{Ge as C,Xe as I};
