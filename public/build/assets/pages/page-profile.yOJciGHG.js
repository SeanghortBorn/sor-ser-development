import{r as e,j as s}from"../vendor/vendor-react.CSh4geB6.js";import{a as t,u as r,L as a,r as o,H as l}from"../vendor/vendor-inertia.HwN2lMYo.js";import{M as n,I as i,T as d,a as c,i as m,B as u,H as x}from"../components/components-common.mFbUzjoH.js";import{K as h}from"../vendor/vendor-ui.wXUDVBjR.js";import{a as p}from"./page-articles.BtzFlrUy.js";function b({className:r=""}){const[a,o]=e.useState(!1),l=e.useRef(),{data:m,setData:u,delete:x,processing:h,reset:p,errors:b,clearErrors:g}=t({password:""}),f=()=>{o(!1),g(),p()};return s.jsxs("section",{className:`space-y-6 ${r}`,children:[s.jsxs("header",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Delete Account"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Deleting your account will permanently remove all your data. Please download anything you want to keep before proceeding."})]}),s.jsxs("button",{onClick:()=>{o(!0)},className:"flex items-center space-x-2 px-4 py-2 border-2 border-red-500 rounded-xl font-semibold text-red-500 hover:bg-red-50 transition-colors",children:[s.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M9 7V4a1 1 0 011-1h4a1 1 0 011 1v3m-9 0h10"})}),s.jsx("span",{className:"text-sm",children:a?"Delete":"Delete Account"})]}),s.jsx(n,{show:a,onClose:f,maxWidth:"lg",children:s.jsxs("form",{onSubmit:e=>{e.preventDefault(),x(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>f(),onError:()=>l.current.focus(),onFinish:()=>p()})},className:"p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Are you sure you want to delete your account?"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Once your account is deleted, all of its resources and data will be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),s.jsxs("div",{className:"mt-6",children:[s.jsx(i,{htmlFor:"password",value:"Password",className:"sr-only"}),s.jsx(d,{id:"password",type:"password",name:"password",ref:l,value:m.password,onChange:e=>u("password",e.target.value),className:"mt-1 block w-full",isFocused:!0,placeholder:"Password"}),s.jsx(c,{message:b.password,className:"mt-2"})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4",children:[s.jsx("button",{type:"button",onClick:f,className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold disabled:opacity-60",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:h,className:"rounded-[10px] px-9 py-1 bg-red-600 text-white font-semibold hover:bg-red-700 transition disabled:opacity-60",children:h?"Deleting...":"Delete Account"})]})]})})]})}const g=Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"}));function f({className:r=""}){const a=e.useRef(),o=e.useRef(),[l,n]=e.useState(!1),[m,u]=e.useState(!0),{data:x,setData:p,errors:b,put:g,reset:f,processing:y,recentlySuccessful:j}=t({current_password:"",password:"",password_confirmation:""});return s.jsxs("section",{className:r,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Change Password"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Keep your account secure by updating your password regularly."})]}),s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 px-4 py-2 border-2 border-blue-500 rounded-xl font-semibold text-blue-600 hover:bg-blue-50 transition-colors",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),s.jsx("span",{className:"text-sm",children:l?"Cancel":"Edit"})]})]}),s.jsx("div",{className:"mb-6 bg-blue-50 border-l-4 border-blue-400 rounded p-4",children:s.jsxs("ul",{className:"list-disc list-inside text-gray-700 text-sm space-y-2",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-medium text-red-500",children:"Change your password regularly"})," ","to keep your account safe."]}),s.jsxs("li",{children:["Use a"," ",s.jsx("span",{className:"font-medium text-red-500",children:"strong password"})," ","with a mix of letters, numbers, and symbols."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-medium text-red-500",children:"Avoid simple passwords"})," ",'like "123456" or your name, and donâ€™t reuse passwords from other sites.']}),s.jsx("li",{children:"After changing your password, your old password will no longer work. Use your new password the next time you log in."})]})}),l&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onMouseDown:e=>{e.target===e.currentTarget&&n(!1)},children:s.jsxs("form",{onSubmit:e=>{e.preventDefault(),g(route("password.update"),{preserveScroll:!0,onSuccess:()=>{f(),n(!1)},onError:e=>{e.password&&(f("password","password_confirmation"),a.current.focus()),e.current_password&&(f("current_password"),o.current.focus())}})},className:"bg-white rounded-2xl w-full max-w-xl p-8 shadow-xl border border-gray-200",onMouseDown:e=>e.stopPropagation(),children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Change Password"}),s.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"Update your password to keep your account secure."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(i,{htmlFor:"current_password",value:"Current Password"}),s.jsx("div",{className:"relative",children:s.jsx(d,{id:"current_password",ref:o,value:x.current_password,onChange:e=>p("current_password",e.target.value),type:m?"text":"password",className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm pr-10",autoComplete:"current-password",placeholder:"Enter your current password"})}),s.jsx(c,{message:b.current_password,className:"mt-2 text-sm text-red-500"})]}),s.jsxs("div",{children:[s.jsx(i,{htmlFor:"password",value:"New Password"}),s.jsx(d,{id:"password",ref:a,value:x.password,onChange:e=>p("password",e.target.value),type:"password",className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm",autoComplete:"new-password",placeholder:"Enter a new password"}),s.jsx(c,{message:b.password,className:"mt-2 text-sm text-red-500"})]}),s.jsxs("div",{children:[s.jsx(i,{htmlFor:"password_confirmation",value:"Confirm Password"}),s.jsx(d,{id:"password_confirmation",value:x.password_confirmation,onChange:e=>p("password_confirmation",e.target.value),type:"password",className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm",autoComplete:"new-password",placeholder:"Re-enter your new password"}),s.jsx(c,{message:b.password_confirmation,className:"mt-2 text-sm text-red-500"})]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4",children:[s.jsx("button",{type:"button",onClick:()=>n(!1),disabled:y,className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold disabled:opacity-60",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:y,className:"rounded-[10px] px-9 py-1 bg-blue-600 text-white font-semibold hover:bg-blue-700 transition disabled:opacity-60",children:y?"Saving...":"Save"})]}),s.jsx(h,{show:j,enter:"transition ease-in-out",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("p",{className:"text-sm text-green-600 font-medium mt-2",children:"Password updated successfully."})})]})})]})}const y=Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"}));function j({mustVerifyEmail:o,status:l,className:m=""}){const u=r().props.auth.user,[x,p]=e.useState(!1),[b,g]=e.useState({info:!1}),[f,y]=e.useState(!1),[j,v]=e.useState(!1),w=e.useRef(null),N=e.useRef(null),k=t({name:u.name||"",email:u.email,age:u.age||"",education_level:u.education_level||"",khmer_experience:u.khmer_experience||""});e.useEffect(()=>{function e(e){w.current&&!w.current.contains(e.target)&&N.current&&!N.current.contains(e.target)&&(y(!1),v(!1))}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const _=[{value:"",label:"Select Experience Level"},{value:"None",label:"None"},{value:"Beginner",label:"Beginner"},{value:"Intermediate",label:"Intermediate"},{value:"Advanced",label:"Advanced"},{value:"Expert",label:"Expert"}],S=[{value:"",label:"Select Education Level"},{value:"Primary",label:"Primary"},{value:"Secondary",label:"Secondary"},{value:"High School",label:"High School"},{value:"Bachelor",label:"Bachelor"},{value:"Master",label:"Master"},{value:"Doctorate",label:"Doctorate"},{value:"Other",label:"Other"}];return s.jsx("section",{className:m,children:s.jsxs("div",{className:"pt-2 mx-auto max-w-7xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Noted: "}),"To update your personal information, please verify your email address first."]})]}),s.jsxs("button",{onClick:()=>p(e=>!e),className:"flex items-center space-x-2 px-4 py-2 border-2 border-blue-500 rounded-xl font-semibold text-blue-600 hover:bg-blue-50 transition-colors",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),s.jsx("span",{className:"text-sm",children:x?"Cancel":"Edit"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1 space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Full Name"}),s.jsx("div",{className:"text-gray-900 font-medium",children:u.name?u.name:"N/A"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Email Address"}),s.jsx("div",{className:"text-gray-900 font-medium",children:u.email?u.email:"N/A"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Age"}),s.jsx("div",{className:"text-gray-900 font-medium",children:u.age?u.age:"N/A"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Education Level"}),s.jsx("div",{className:"text-gray-900 font-medium",children:u.education_level?u.education_level:"N/A"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Khmer Writing Experience"}),s.jsx("div",{className:"text-gray-900 font-medium",children:u.khmer_experience?u.khmer_experience:"N/A"})]})]}),s.jsx(n,{show:x,onClose:()=>p(!1),maxWidth:"2xl",children:s.jsxs("form",{onSubmit:e=>{e.preventDefault(),k.patch(route("profile.update"),{onSuccess:()=>{p(!1),g({info:!0}),setTimeout(()=>g({info:!1}),2e3)}})},className:"bg-white w-full max-w-2xl p-8 shadow-xl border border-gray-200",onMouseDown:e=>e.stopPropagation(),children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Edit Personal Information"}),s.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"Update your details to keep your profile up-to-date."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(i,{htmlFor:"email",value:"Email Address"}),s.jsx(d,{id:"email",type:"email",value:k.data.email,placeholder:"Enter your email",onChange:e=>k.setData("email",e.target.value),className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm"}),s.jsx(c,{className:"mt-1 text-sm text-red-500",message:k.errors.email})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(i,{htmlFor:"name",value:"Full Name"}),s.jsx(d,{id:"name",value:k.data.name,placeholder:"Enter your full name",onChange:e=>k.setData("name",e.target.value),className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm"}),s.jsx(c,{className:"mt-1 text-sm text-red-500",message:k.errors.name})]}),s.jsxs("div",{children:[s.jsx(i,{htmlFor:"age",value:"Age"}),s.jsx(d,{id:"age",type:"number",value:k.data.age,placeholder:"Enter your age",onChange:e=>k.setData("age",e.target.value),className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm"}),s.jsx(c,{className:"mt-1 text-sm text-red-500",message:k.errors.age})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",ref:w,children:[s.jsx("label",{htmlFor:"khmer_experience",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Khmer Writing Experience"}),s.jsxs("button",{type:"button",className:"w-full px-3 py-2 text-[18px] rounded-xl border bg-white shadow-sm text-left flex justify-between items-center focus:outline-none focus:ring-2 "+(k.errors.khmer_experience?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"),onClick:()=>{y(!f),v(!1)},children:[_.find(e=>e.value===k.data.khmer_experience)?.label||"Select Experience Level",s.jsx("svg",{className:"w-4 h-4 ml-2 transition-transform "+(f?"rotate-180":"rotate-0"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&s.jsx("div",{className:"absolute right-0 bottom-full mb-0 w-full bg-white border border-gray-200 rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto hide-scrollbar",children:s.jsx("div",{className:"px-2 py-2 space-y-1",children:_.map(e=>s.jsx("button",{type:"button",className:"flex items-center w-full text-left px-4 py-2 text-[16px] rounded-lg transition "+(k.data.khmer_experience===e.value?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"),onClick:()=>{k.setData("khmer_experience",e.value),y(!1)},children:e.label},e.value))})}),s.jsx(c,{message:k.errors.khmer_experience,className:"mt-1"})]}),s.jsxs("div",{className:"relative",ref:N,children:[s.jsx("label",{htmlFor:"education_level",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Education Level"}),s.jsxs("button",{type:"button",className:"w-full px-3 py-2 text-[18px] rounded-xl border bg-white shadow-sm text-left flex justify-between items-center focus:outline-none focus:ring-2 "+(k.errors.education_level?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"),onClick:()=>{v(!j),y(!1)},children:[S.find(e=>e.value===k.data.education_level)?.label||"Select Education Level",s.jsx("svg",{className:"w-4 h-4 ml-2 transition-transform "+(j?"rotate-180":"rotate-0"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),j&&s.jsx("div",{className:"absolute right-0 bottom-full mb-1 w-full bg-white border border-gray-200 rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto hide-scrollbar",children:s.jsx("div",{className:"px-2 py-2 space-y-1",children:S.map(e=>s.jsx("button",{type:"button",className:"flex items-center w-full text-left px-4 py-2 text-[16px] rounded-lg transition "+(k.data.education_level===e.value?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"),onClick:()=>{k.setData("education_level",e.value),v(!1)},children:e.label},e.value))})}),s.jsx(c,{message:k.errors.education_level,className:"mt-1"})]})]})]}),o&&null===u.email_verified_at&&s.jsxs("div",{className:"text-sm mt-2",children:[s.jsxs("p",{className:"text-blue-700",children:["Your email address is unverified."," ",s.jsx(a,{href:route("verification.send"),method:"post",as:"button",className:"font-medium underline hover:text-blue-900",children:"Click here to re-send the verification email."})]}),"verification-link-sent"===l&&s.jsx("p",{className:" font-medium text-green-600",children:"A new verification link has been sent."})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4",children:[s.jsx("button",{type:"button",onClick:()=>p(!1),disabled:k.processing,className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold disabled:opacity-60",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:k.processing,className:"rounded-[10px] px-9 py-1 bg-blue-600 text-white font-semibold hover:bg-blue-700 transition disabled:opacity-60",children:k.processing?"Saving...":"Save"})]}),s.jsx(h,{show:b.info,enter:"transition ease-in-out duration-150",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("p",{className:"text-sm text-green-600 font-medium mt-2",children:"Profile updated successfully."})})]})})]})})}const v=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"})),w=({className:a=""})=>{const{auth:l}=r().props,[n,u]=e.useState(!1),[x,h]=e.useState(!1),[p,b]=e.useState(!1),[g,f]=e.useState(null),[y,j]=e.useState(null),[v,w]=e.useState([]),[N,k]=e.useState(""),[_,S]=e.useState(!1),[C,E]=e.useState(!1),A=t({code:""}),F=l.user?.two_factor_enabled,P=F&&!l.user?.two_factor_confirmed_at;e.useEffect(()=>{P?(h(!0),D()):F&&l.user?.two_factor_confirmed_at&&(h(!1),L(),f(null),j(null))},[F,l.user?.two_factor_confirmed_at]);const D=async()=>{try{const e=await fetch(route("two-factor.qr-code"));if(e.ok){const s=await e.json();f(s.svg);const t=await fetch(route("two-factor.secret-key"));if(t.ok){const e=await t.json();if(e.secret)j(e.secret);else{const s=e.secretKey||e.key||Object.values(e)[0];s&&"string"==typeof s&&j(s)}}}}catch(e){}},L=async()=>{try{const e=await fetch(route("two-factor.recovery-codes"));if(e.ok){const s=await e.json();w(s)}}catch(e){}};e.useEffect(()=>{x||(A.reset(),k(""))},[x,F]);return s.jsxs("section",{className:`space-y-6 ${a}`,children:[s.jsxs("header",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Two-Factor Authentication"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add additional security to your account using two factor authentication."})]}),s.jsxs("div",{className:"max-w-xl",children:[F&&!x?s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"You have enabled Two-Factor Authentication."}):F&&x?s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Finish enabling Two-Factor Authentication."}):s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"You have not enabled Two-Factor Authentication."}),s.jsx("div",{className:"mt-3 text-sm text-gray-600",children:s.jsx("p",{children:"When two factor authentication is enabled, you will be prompted for a secure, random token during authentication. You may retrieve this token from your phone's Google Authenticator application."})}),F&&s.jsxs("div",{className:"mt-4",children:[x&&g&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"font-semibold mb-2 text-sm text-gray-600",children:x?"To finish enabling two factor authentication, scan the following QR code using your phone's authenticator application.":"Two factor authentication is now enabled. Scan the following QR code using your phone's authenticator application."}),s.jsx("div",{dangerouslySetInnerHTML:{__html:g},className:"p-2 inline-block bg-white border border-gray-200 rounded"})]}),x&&y&&s.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[s.jsxs("p",{className:"font-semibold",children:["Setup Key:"," ",s.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:y})]}),s.jsx("p",{className:"mt-1",children:"If you can't scan the QR code, you can manually enter this setup key into your Authenticator App."})]}),x&&s.jsxs("div",{className:"mt-2",children:[s.jsx(i,{htmlFor:"code",value:"Authentication Code"}),s.jsx(d,{id:"code",value:A.data.code,onChange:e=>A.setData("code",e.target.value),type:"text",placeholder:"Enter Code 6 Digits",maxLength:6,inputMode:"numeric",className:"block mt-1 w-1/2 rounded-xl border border-gray-300 shadow-sm",autoFocus:!0,autoComplete:"one-time-code"}),s.jsx(c,{message:N,className:"mt-2"})]}),v.length>0&&!x&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mt-2 text-sm text-gray-600",children:s.jsx("p",{className:"font-semibold",children:"Store these recovery codes safely (like in a password manager). You can use them to access your account if you lose your two-factor authentication device. Each code can be used only once after a new login."})}),s.jsx("div",{className:"grid gap-1 mt-4 px-4 py-4 font-mono text-sm bg-gray-100 rounded-lg",children:v.map(e=>s.jsx("div",{children:e},e))})]})]}),s.jsx("div",{className:"mt-5",children:F?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(m,{onConfirmed:()=>{b(!0),o.delete(route("two-factor.disable"),{preserveScroll:!0,onSuccess:()=>{f(null),j(null),w([]),h(!1)},onFinish:()=>b(!1)})},children:s.jsx("button",{type:"button",disabled:p,className:`flex items-center space-x-2 px-4 py-2 rounded-[10px] border-2 border-gray-300 text-gray-700 hover:bg-gray-100 transition font-semibold disabled:opacity-60\n                                        ${p?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"} \n                                        border-gray-300`,children:s.jsx("span",{className:"text-sm text-gray-700",children:x?"Cancel":"Disable"})})}),x&&s.jsx("button",{type:"button",disabled:n||_,onClick:()=>{S(!0),A.post(route("two-factor.confirm"),{preserveScroll:!0,onSuccess:()=>{h(!1),A.reset(),k(""),L()},onError:e=>{k(e.code||A.errors.code||"Invalid authentication code.")},onFinish:()=>S(!1)})},className:"flex items-center space-x-2 px-4 py-2 rounded-[10px] bg-blue-600 text-blue-700 transition font-semibold disabled:opacity-60\n                                        "+(n||_?"opacity-50 cursor-not-allowed":"hover:bg-blue-500"),children:s.jsx("span",{className:"text-sm text-white",children:_?"Confirming...":"Confirm"})}),v.length>0&&!x&&s.jsx("button",{type:"button",onClick:()=>{E(!0),o.post(route("two-factor.regenerate-recovery-codes"),{},{preserveScroll:!0,onSuccess:async()=>{await L()},onFinish:()=>E(!1)})},disabled:C,className:"flex items-center space-x-2 px-4 py-2 rounded-[10px] bg-blue-600 text-blue-700 hover:bg-blue-500 transition font-semibold disabled:opacity-60",children:s.jsx("span",{className:"text-sm text-white",children:C?"Generating...":"Generate New"})}),0===v.length&&!x&&s.jsx(m,{onConfirmed:L,children:s.jsx("button",{className:"flex items-center space-x-2 px-4 py-2 rounded-[10px] bg-blue-600 hover:bg-blue-500 text-blue-700 transition font-semibold disabled:opacity-60",children:s.jsx("span",{className:"text-sm text-white",children:"Show Recovery Codes"})})})]}):s.jsx(m,{onConfirmed:()=>{u(!0),o.post(route("two-factor.enable"),{},{preserveScroll:!0,onSuccess:()=>{h(!0),D()},onError:()=>u(!1),onFinish:()=>u(!1)})},children:s.jsxs("button",{type:"button",disabled:n,className:`flex items-center space-x-2 px-4 py-2 rounded-[10px] border-2 border-blue-500 text-blue-700 hover:bg-blue-100 transition font-semibold disabled:opacity-60\n                                    ${n?"opacity-50 cursor-not-allowed":"hover:bg-blue-100"} \n                                    border-blue-500`,children:[s.jsxs("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}),s.jsx("path",{d:"m9 12 2 2 4-4"})]}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Enable"})]})})})]})]})},N=Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"}));const k=Object.freeze(Object.defineProperty({__proto__:null,default:function({mustVerifyEmail:e,status:t,user:a}){const{auth:o}=r().props,n=o.user&&(Array.isArray(o.user.roles)&&o.user.roles.length>0||Array.isArray(o.user.roles_list)&&o.user.roles_list.length>0),i="Profile",d=[{title:"Home",url:"/"},{title:i,url:""}];return s.jsx(s.Fragment,{children:n?s.jsxs(p,{breadcrumb:s.jsx(u,{header:i,links:d}),children:[s.jsx(l,{title:"Profile"}),s.jsx("div",{className:"mb-12",children:s.jsx("div",{className:"mx-auto max-w-7xl",children:s.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8",children:[s.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-8",children:s.jsx(j,{mustVerifyEmail:e,status:t})}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-8",children:s.jsx(f,{})}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-8",children:s.jsx(w,{})}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6",children:s.jsx(b,{})})]})})})]}):s.jsxs(s.Fragment,{children:[s.jsx(x,{}),s.jsx(l,{title:"Profile"}),s.jsx("div",{className:"py-12",children:s.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl px-8 py-4",children:[s.jsx("p",{className:"text-lg font-semibold",children:"Profile"}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-8",children:s.jsx(j,{mustVerifyEmail:e,status:t})}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-8",children:s.jsx(f,{})}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-8",children:s.jsx(w,{})}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6",children:s.jsx(b,{})})]})})})]})})}},Symbol.toStringTag,{value:"Module"}));export{g as D,k as E,N as T,y as U,v as a};
