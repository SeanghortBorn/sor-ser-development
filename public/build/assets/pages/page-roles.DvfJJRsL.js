import{r as e,j as s}from"../vendor/vendor-react.CSh4geB6.js";import{a as t,B as r,P as a,M as l}from"../components/components-common.mFbUzjoH.js";import{a as i}from"./page-articles.BtzFlrUy.js";import{a as n,H as o,L as c,u as d,r as m}from"../vendor/vendor-inertia.HwN2lMYo.js";import{a0 as x,E as p,Y as h,a1 as u,Q as b,m as g,a2 as f,U as j,f as y,a3 as N,S as v,X as w}from"../vendor/vendor-ui.wXUDVBjR.js";import{h as k}from"../vendor/vendor-common.B_9lrMAm.js";const C=Object.freeze(Object.defineProperty({__proto__:null,default:function({role:a,permissions:l,pages:d=[]}){const{data:m,setData:v,post:w,patch:k,errors:C,reset:_,processing:S}=n({name:a?.name||"",permissions:[],page_permissions:{}}),[A,D]=e.useState(""),[R,E]=e.useState("permissions"),[L,O]=e.useState("");e.useEffect(()=>{if(void 0!==a){const e=a.permissions.map(e=>e.id);v("permissions",e),a.page_permissions&&v("page_permissions",a.page_permissions)}},[a]);const P={"nlp-only":{label:"NLP-only (Basic)",description:"Can view article list and check homophones",permissions:["article-list","homophone-list"],pages:{dashboard:["view"],articles:["view"],"user-progress":["own"]}},"nlp-la":{label:"NLP+LA (Full Features)",description:"Everything NLP-only has + learning analytics",permissions:["article-list","homophone-list","quiz-list"],pages:{dashboard:["view"],articles:["view"],"user-progress":["view","own"]}},instructor:{label:"Instructor",description:"Can manage groups, view all progress, create articles",permissions:["article-list","article-create","article-edit","homophone-list","quiz-list","user-list","role-list"],pages:{dashboard:["view"],articles:["view","create","update"],"user-progress":["view"],users:["view","create","update"],roles:["view"]}},admin:{label:"Admin (Full Access)",description:"Complete system access",permissions:"all",pages:"all"}},z=e=>{const s=parseInt(e.target.value);e.target.checked?m.permissions.includes(s)||v("permissions",[...m.permissions,s]):v("permissions",m.permissions.filter(e=>e!==s)),O("")},F=e=>e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "),M=(()=>{const e={};return l.forEach(s=>{const t=s.name.split("-");let r,a;const l=t[t.length-1];["list","create","edit","delete","export","import","view","manage","own"].includes(l)?(a=l,r=t.slice(0,-1).join("-")):(r=t[0],a=t.slice(1).join("-")),e[r]||(e[r]=[]),e[r].push({...s,action:a,displayAction:F(a)})}),Object.keys(e).forEach(s=>{e[s].sort((e,s)=>{const t=["list","view","create","edit","update","delete","own","manage"];return t.indexOf(e.action)-t.indexOf(s.action)})}),e})(),Y=Object.keys(M).filter(e=>e.toLowerCase().includes(A.toLowerCase())||M[e].some(e=>e.displayAction.toLowerCase().includes(A.toLowerCase()))),U=[{key:"view",label:"View",icon:p,color:"blue"},{key:"create",label:"Create",icon:h,color:"green"},{key:"update",label:"Update",icon:u,color:"yellow"},{key:"delete",label:"Delete",icon:b,color:"red"},{key:"own",label:"Own Data",icon:g,color:"purple"}],B=a?.id?"Edit Role":"Create Role",H=[{title:"Home",url:"/"},{title:"Roles",url:route("roles.index")},{title:B,url:""}];return s.jsxs(i,{breadcrumb:s.jsx(r,{header:B,links:H}),children:[s.jsx(o,{title:B}),s.jsx("section",{className:"content",children:s.jsx("div",{className:"container-fluid sm:px-6 lg:px-8",children:s.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50/30 mb-12",children:s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:B}),s.jsx("p",{className:"text-gray-500",children:a?.id?"Update role details, permissions, and page access":"Create a new role with permissions and page access"})]}),s.jsxs("form",{onSubmit:e=>{e.preventDefault(),null==a?w(route("roles.store"),{preserveState:!0,onFinish:()=>_()}):k(route("roles.update",a.id),{preserveState:!0,onFinish:()=>_()})},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Role Name"," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"name",name:"name",type:"text",placeholder:"Enter role name (e.g., Group A: NLP-only)",value:m.name,onChange:e=>v("name",e.target.value),className:`block mt-2 w-full px-3 py-[11px] text-sm rounded-xl border ${C.name?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"} placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2`}),C.name&&s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),s.jsx(t,{message:C.name,className:"mt-1 text-sm text-red-600"})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[s.jsx(x,{className:"w-4 h-4"}),"Quick Templates"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:Object.entries(P).map(([e,t])=>s.jsxs("button",{type:"button",onClick:()=>(e=>{const s=P[e];if(s){if("all"===s.permissions){const e=l.map(e=>e.id);v("permissions",e)}else{const e=l.filter(e=>s.permissions.includes(e.name)).map(e=>e.id);v("permissions",e)}if("all"===s.pages){const e={};(d||[]).forEach(s=>{e[s.page_name]={view:!0,create:!0,update:!0,delete:!0}}),v("page_permissions",e)}else{const e={};Object.entries(s.pages).forEach(([s,t])=>{e[s]={},t.forEach(t=>{e[s][t]=!0})}),v("page_permissions",e)}O(e)}})(e),className:"p-3 rounded-lg border-2 transition-all text-left "+(L===e?"border-blue-500 bg-blue-100":"border-blue-200 bg-white hover:border-blue-400 hover:bg-blue-50"),children:[s.jsx("div",{className:"font-semibold text-sm text-gray-900 mb-1",children:t.label}),s.jsx("div",{className:"text-xs text-gray-600",children:t.description})]},e))}),s.jsx("p",{className:"text-xs text-blue-700 mt-3",children:"ðŸ’¡ Select a template to quickly configure permissions, or customize manually below"})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"flex space-x-4",children:[s.jsxs("button",{type:"button",onClick:()=>E("permissions"),className:"pb-3 px-1 border-b-2 font-medium text-sm transition-colors "+("permissions"===R?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Feature Permissions",s.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs bg-gray-100",children:m.permissions.length})]}),s.jsxs("button",{type:"button",onClick:()=>E("pages"),className:"pb-3 px-1 border-b-2 font-medium text-sm transition-colors "+("pages"===R?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Page Access Control",s.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs bg-gray-100",children:Object.keys(m.page_permissions).length})]})]})}),"permissions"===R?s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Feature Permissions"," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"mb-4 flex items-center justify-between",children:s.jsxs("div",{className:"relative w-full max-w-xs",children:[s.jsx("input",{type:"text",placeholder:"Search modules...",value:A,onChange:e=>D(e.target.value),className:"pl-10 pr-16 py-2 border border-gray-300 rounded-xl focus:ring-0 w-full"}),s.jsx("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:Y.map(e=>{const t=M[e],r=t.filter(e=>m.permissions.includes(e.id)).length,a=r===t.length,l=r>0&&r<t.length;return s.jsxs("div",{className:"bg-white border border-blue-100 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"p-4 border-b border-blue-100 bg-gradient-to-r from-blue-50 to-blue-50 rounded-t-xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-blue-700 capitalize flex items-center",children:F(e)}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"px-2 py-1 text-xs rounded-full "+(a?"bg-blue-100 text-blue-800":l?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600"),children:[r,"/",t.length]}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:a,ref:e=>{e&&(e.indeterminate=l)},onChange:()=>((e,s)=>{const t=s.map(e=>e.id);if(t.every(e=>m.permissions.includes(e)))v("permissions",m.permissions.filter(e=>!t.includes(e)));else{const e=[...m.permissions];t.forEach(s=>{e.includes(s)||e.push(s)}),v("permissions",e)}O("")})(0,t),className:"form-checkbox mt-2 h-4 w-4 text-blue-500 rounded border-gray-300 focus:ring-blue-500 focus:ring-1"}),s.jsx("span",{className:"ml-2 mt-2 text-xs text-gray-600",children:"All"})]})]})]})}),s.jsx("div",{className:"p-3",children:t.map(e=>s.jsxs("label",{className:"flex items-center space-x-4 cursor-pointer group hover:bg-blue-50 p-2 rounded",children:[s.jsx("input",{type:"checkbox",value:e.id,checked:m.permissions.includes(e.id),onChange:z,className:"form-checkbox h-4 w-4 text-blue-500 rounded border-gray-300 focus:ring-1 focus:ring-blue-500"}),s.jsx("div",{className:"flex items-center space-x-2 flex-1",children:s.jsx("span",{className:"text-sm font-medium text-gray-700",children:e.displayAction})})]},e.id))})]},e)})}),s.jsx(t,{className:"mt-4 text-sm text-red-600",message:C.permissions})]}):s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Page Access Control"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Control which pages this role can access and what actions they can perform."}),s.jsx("div",{className:"space-y-4",children:d&&d.length>0?d.map(e=>{const t=(r=e.page_name,{dashboard:N,"user-progress":j,articles:y,roles:x,users:j,settings:f}[r]||y);var r;const a=m.page_permissions[e.page_name]||{},l=Object.values(a).filter(Boolean).length;return s.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:border-blue-300 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(t,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 capitalize",children:F(e.page_name)}),s.jsx("p",{className:"text-xs text-gray-500",children:e.description||"Page access control"})]})]}),l>0&&s.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:[l," enabled"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:U.map(t=>{const r=t.icon,l=a[t.key];return s.jsxs("button",{type:"button",onClick:()=>((e,s)=>{const t=m.page_permissions[e]||{},r={...m.page_permissions,[e]:{...t,[s]:!t[s]}};v("page_permissions",r),O("")})(e.page_name,t.key),className:`inline-flex items-center gap-2 px-3 py-2 rounded-lg border-2 text-sm font-medium transition-all ${l?{blue:"bg-blue-100 text-blue-700 border-blue-300",green:"bg-green-100 text-green-700 border-green-300",yellow:"bg-yellow-100 text-yellow-700 border-yellow-300",red:"bg-red-100 text-red-700 border-red-300",purple:"bg-purple-100 text-purple-700 border-purple-300"}[t.color]:"bg-gray-50 text-gray-400 border-gray-200"} hover:scale-105`,children:[s.jsx(r,{className:"w-4 h-4"}),t.label,l&&s.jsx("span",{className:"ml-1",children:"âœ“"})]},t.key)})})]},e.id)}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(x,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"No pages available for access control"}),s.jsx("p",{className:"text-sm",children:"Run migrations to create page permissions"})]})})]}),s.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-3 pt-6 mt-6 border-t border-gray-200",children:[s.jsxs(c,{href:route("roles.index"),className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl text-gray-700 border hover:bg-gray-200 hover:border-gray-400 hover:text-gray-900 transition duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Cancel"]}),s.jsx("button",{type:"submit",disabled:S,className:"inline-flex items-center justify-center px-6 py-2 text-sm font-medium rounded-xl text-white bg-gradient-to-r from-blue-500 to-blue-500 shadow-sm transition duration-200 hover:from-blue-500 hover:to-blue-500 disabled:opacity-70 disabled:cursor-not-allowed",children:S?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a?.id?"Updating...":"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(x,{className:"w-4 h-4 mr-2"}),a?.id?"Update Role":"Create Role"]})})]})]})]})})})})})]})}},Symbol.toStringTag,{value:"Module"}));const _=Object.freeze(Object.defineProperty({__proto__:null,default:function({roles:t,search:x=""}){const{auth:g}=d().props,f=g?.can??{},[j,y]=e.useState(!1),[N,C]=e.useState(null),[_,S]=e.useState(null),[A,D]=e.useState(x||""),{delete:R,processing:E,reset:L}=n(),O=e=>e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");e.useEffect(()=>{D(x||"")},[x]);const P=()=>{y(!1),C(null),L()},z=()=>{S(null)},F="Role List",M=[{title:"Home",url:"/"},{title:F,url:""}];return s.jsxs(i,{breadcrumb:s.jsx(r,{header:F,links:M}),children:[s.jsx(o,{title:F}),s.jsx("section",{className:"content",children:s.jsx("div",{className:"container-fluid sm:px-6 lg:px-8 mb-12",children:s.jsxs("div",{className:"bg-white shadow-md rounded-xl overflow-hidden border border-gray-200",children:[s.jsxs("div",{className:"px-4 sm:px-6 py-4 border-b flex flex-col sm:flex-row justify-between items-center gap-3",children:[s.jsx("h3",{className:"text-xl sm:text-lg font-semibold text-gray-800",children:"Role Management"}),s.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[s.jsx("div",{className:"relative flex-1 sm:flex-none",children:s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 rounded-xl border border-gray-300 hover:shadow-lg transition text-sm bg-white w-full sm:w-auto",children:[s.jsx(v,{className:"w-4 h-4 text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Search roles...",className:"px-2 outline-none border-none bg-transparent text-sm placeholder-gray-400 w-full focus:outline-none focus:ring-0",value:A,onChange:e=>{const s=e.target.value;D(s),m.get(route("roles.index"),{search:s},{preserveState:!0,replace:!0})}}),A&&s.jsx("button",{onClick:()=>{D(""),m.get(route("roles.index"),{},{preserveState:!0})},className:"text-gray-400 hover:text-gray-600 transition",children:s.jsx(w,{className:"w-4 h-4"})})]})}),f["role-create"]&&s.jsxs(c,{href:route("roles.create"),className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold text-sm rounded-xl hover:bg-green-700 transition whitespace-nowrap",children:[s.jsx(h,{className:"w-4 h-4"}),"Add Role"]})]})]}),s.jsx("div",{className:"overflow-x-auto w-full",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-3 px-4 font-medium whitespace-nowrap",children:"#ID"}),s.jsx("th",{className:"py-3 px-4 font-medium whitespace-nowrap",children:"Name"}),s.jsx("th",{className:"py-3 px-4 font-medium text-right whitespace-nowrap",children:"Created At"}),(f["role-edit"]||f["role-delete"])&&s.jsx("th",{className:"py-3 px-4 font-medium text-center whitespace-nowrap",children:"Actions"})]})}),s.jsx("tbody",{className:"text-gray-700",children:t.data.length>0?t.data.map(e=>s.jsxs("tr",{className:"border-t hover:bg-gray-50 transition",children:[s.jsx("td",{className:"py-3 px-4 font-medium",children:e.id}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:e.name})}),s.jsx("td",{className:"py-3 px-4 text-gray-600 text-right",children:e.created_at?k(e.created_at).format("DD/MM/YYYY"):"N/A"}),(f["role-edit"]||f["role-delete"])&&s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsxs("div",{className:"flex justify-center items-center gap-2",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("button",{onClick:()=>(e=>{S(e)})(e),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-white bg-cyan-600 rounded-lg hover:bg-cyan-700 transition",children:s.jsx(p,{className:"w-3.5 h-3.5"})}),s.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 hidden group-hover:block bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:"View"})]}),f["role-edit"]&&s.jsxs("div",{className:"group relative",children:[s.jsx(c,{href:route("roles.edit",e.id),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition",children:s.jsx(u,{className:"w-3.5 h-3.5"})}),s.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 hidden group-hover:block bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:"Edit"})]}),f["role-delete"]&&s.jsxs("div",{className:"group relative",children:[s.jsx("button",{onClick:()=>(e=>{C(e),y(!0)})(e),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition",disabled:E,children:s.jsx(b,{className:"w-3.5 h-3.5"})}),s.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 hidden group-hover:block bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:"Delete"})]})]})})]},e.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:f["role-edit"]||f["role-delete"]?4:3,className:"py-10 text-center text-gray-500 text-sm",children:A?"No roles found matching your search":"No roles found"})})})]})}),t.total>t.per_page&&s.jsx("div",{className:"px-6 py-3 border-t flex justify-center",children:s.jsx(a,{links:t.links})})]})})}),s.jsx(l,{show:!!_,onClose:z,maxWidth:"2xl",children:_&&s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-900 flex items-center gap-2",children:"Role Details"}),s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-x-8 gap-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Role Name:"}),s.jsx("span",{className:"text-gray-800",children:_.name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Created At:"}),s.jsx("span",{className:"text-gray-800",children:k(_.created_at).format("DD/MM/YYYY HH:mm")})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-gray-700 block mb-3",children:"Permissions:"}),s.jsx("div",{className:"max-h-64 overflow-y-auto bg-gray-50 rounded-lg p-3",children:Array.isArray(_.permissions)&&_.permissions.length>0?Object.entries((Y=_.permissions,Y.reduce((e,s)=>{const t=s.name.split("-")[0];return e[t]||(e[t]=[]),e[t].push(s),e},{}))).map(([e,t])=>s.jsxs("div",{className:"mb-3 last:mb-0",children:[s.jsx("div",{className:"font-semibold text-gray-800 text-sm mb-2",children:O(e)}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((e,t)=>s.jsx("span",{className:"inline-block bg-blue-100 text-blue-700 rounded px-2.5 py-1 text-xs font-medium",children:O(e.name)},e.id||t))})]},e)):s.jsx("span",{className:"text-gray-400 text-sm",children:"No permissions assigned"})})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-2",children:s.jsx("button",{type:"button",onClick:z,className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",children:"Close"})})]})}),s.jsx(l,{show:j,onClose:P,maxWidth:"xl",children:s.jsxs("form",{onSubmit:e=>{e.preventDefault(),N&&R(route("roles.destroy",N.id),{preserveScroll:!0,onSuccess:()=>{P(),m.reload({only:["roles"]})},onError:e=>{},onFinish:()=>L()})},className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:s.jsx(b,{className:"w-5 h-5 text-red-600"})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Delete Role"})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Are you sure you want to delete"," ",s.jsxs("span",{className:"font-semibold text-gray-900",children:['"',N?.name,'"']}),"? This action cannot be undone."]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-3",children:[s.jsx("button",{type:"button",onClick:P,className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:E,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:E,className:"px-5 py-1 bg-red-600 text-white font-medium rounded-[10px] hover:bg-red-700 transition disabled:opacity-60",children:E?"Deleting...":"Delete"})]})]})})]});var Y}},Symbol.toStringTag,{value:"Module"}));export{C,_ as I};
