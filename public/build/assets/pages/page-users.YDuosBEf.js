import{j as e,r as s}from"../vendor/vendor-react.CSh4geB6.js";import{H as t,L as r,a,u as l,r as i}from"../vendor/vendor-inertia.HwN2lMYo.js";import{A as n,a as d}from"./page-articles.BtzFlrUy.js";import{n as o,l as c,e as x,t as m,a7 as h,a8 as p,a9 as g,aa as u,ab as b,ac as j,ad as y,ae as f,S as N,af as v,r as w,a1 as _,ag as k}from"../vendor/vendor-ui.wXUDVBjR.js";import{R as S,d as A,b as C,X as E,Y as P,T as B,L as R,e as D,A as F,c as U,B as L,f as T}from"../vendor/vendor-charts.30OvePoC.js";import{a as M,B as z,M as I,P as K}from"../components/components-common.mFbUzjoH.js";import{h as $}from"../vendor/vendor-common.B_9lrMAm.js";const O=Object.freeze(Object.defineProperty({__proto__:null,default:function({auth:s,user:a,article:l,summaryMetrics:i,sessionTimeline:d,errorAnalysis:b,keystrokePatterns:j,audioBehavior:y,comparisonMetrics:f,temporalProgression:N}){return e.jsxs(n,{user:s.user,header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(r,{href:route("users.progress",a.id),className:"inline-flex items-center px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"Back to Progress"]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Article Detail Analytics"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[a.name," â€¢ ",l.title]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("a",{href:route("users.articles.export",{userId:a.id,articleId:l.id,format:"csv"}),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-sm",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),e.jsxs("a",{href:route("users.articles.export",{userId:a.id,articleId:l.id,format:"json"}),className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors shadow-sm",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Export JSON"]}),e.jsxs("a",{href:route("users.articles.export",{userId:a.id,articleId:l.id,format:"xml"}),className:"inline-flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors shadow-sm",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Export XML"]})]})]}),children:[e.jsx(t,{title:`Article Analysis: ${l.title}`}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),e.jsx(o,{className:"w-5 h-5 text-blue-600"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:i.total_attempts})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Learning Gain"}),(v=i.learning_gain,v>5?e.jsx(x,{className:"w-5 h-5 text-green-600"}):v<-5?e.jsx(g,{className:"w-5 h-5 text-red-600"}):e.jsx(u,{className:"w-5 h-5 text-gray-600"}))]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[i.learning_gain>=0?"+":"",i.learning_gain,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[i.first_attempt_accuracy,"% â†’ ",i.last_attempt_accuracy,"%"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Best Accuracy"}),e.jsx(c,{className:"w-5 h-5 text-green-600"})]}),e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[i.best_accuracy,"%"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Avg Accuracy"})}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[i.avg_accuracy,"%"]})]})]}),f.has_comparison&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(x,{className:"w-5 h-5 mr-2 text-blue-600"}),"First vs Latest Attempt Comparison"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Accuracy Improvement"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[f.accuracy_comparison.improvement>=0?"+":"",f.accuracy_comparison.improvement,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["From ",f.accuracy_comparison.first,"% to ",f.accuracy_comparison.last,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Error Reduction"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["-",f.error_comparison.reduction_percent,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["From ",f.error_comparison.first," to ",f.error_comparison.last," errors"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Effect Size (Cohen's d)"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.effect_size_cohens_d}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f.effect_size_cohens_d>.8?"Large effect":f.effect_size_cohens_d>.5?"Medium effect":"Small effect"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Learning Curve: Accuracy Progression"}),e.jsx(S,{width:"100%",height:300,children:e.jsxs(A,{data:d,children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(E,{dataKey:"attempt_number",label:{value:"Attempt Number",position:"insideBottom",offset:-5}}),e.jsx(P,{label:{value:"Accuracy (%)",angle:-90,position:"insideLeft"},domain:[0,100]}),e.jsx(B,{}),e.jsx(R,{}),e.jsx(D,{type:"monotone",dataKey:"accuracy_percent",stroke:"#3B82F6",strokeWidth:3,name:"Accuracy %",dot:{r:5}})]})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600 bg-blue-50 p-3 rounded",children:[e.jsx("strong",{children:"Interpretation:"})," ",i.learning_gain>0?`Positive learning trajectory with ${i.learning_gain}% improvement. This indicates successful skill acquisition.`:"Performance remains stable or declined. May need additional support or practice."]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Error Pattern Evolution"}),e.jsx(S,{width:"100%",height:300,children:e.jsxs(F,{data:b.error_evolution,children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(E,{dataKey:"attempt",label:{value:"Attempt Number",position:"insideBottom",offset:-5}}),e.jsx(P,{label:{value:"Error Count",angle:-90,position:"insideLeft"}}),e.jsx(B,{}),e.jsx(R,{}),e.jsx(U,{type:"monotone",dataKey:"replaced",stackId:"1",stroke:"#F59E0B",fill:"#F59E0B",name:"Replaced Errors"}),e.jsx(U,{type:"monotone",dataKey:"extra",stackId:"1",stroke:"#FBBF24",fill:"#FBBF24",name:"Extra Errors"}),e.jsx(U,{type:"monotone",dataKey:"missing",stackId:"1",stroke:"#EF4444",fill:"#EF4444",name:"Missing Errors"})]})}),e.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Error Reduction"}),e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[b.error_reduction.reduction_percent,"%"]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[b.error_reduction.first_attempt_errors," â†’ ",b.error_reduction.last_attempt_errors]})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Repeated Errors"}),e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[b.repeated_error_analysis.repeated_error_rate_percent,"%"]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[b.repeated_error_analysis.errors_repeated," of ",b.repeated_error_analysis.unique_errors," unique errors"]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Total Unique Errors"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b.repeated_error_analysis.unique_errors}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Across all attempts"})]})]})]}),j.typing_evolution&&j.typing_evolution.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Typing Fluency Evolution"}),e.jsx(S,{width:"100%",height:300,children:e.jsxs(A,{data:j.typing_evolution,children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(E,{dataKey:"attempt",label:{value:"Attempt Number",position:"insideBottom",offset:-5}}),e.jsx(P,{label:{value:"Speed (WPM)",angle:-90,position:"insideLeft"}}),e.jsx(B,{}),e.jsx(R,{}),e.jsx(D,{type:"monotone",dataKey:"typing_speed_wpm",stroke:"#8B5CF6",strokeWidth:2,name:"Typing Speed (WPM)",dot:{r:4}})]})}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-purple-50 p-4 rounded",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Speed Improvement"}),e.jsxs("div",{className:"text-xl font-bold text-purple-600",children:[j.trends.typing_speed_improvement_percent>=0?"+":"",j.trends.typing_speed_improvement_percent,"%"]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Backspace Reduction"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:["-",j.trends.backspace_reduction_percent,"%"]})]})]})]}),y.audio_evolution&&y.audio_evolution.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Audio Listening Behavior"}),e.jsx(S,{width:"100%",height:300,children:e.jsxs(L,{data:y.audio_evolution,children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(E,{dataKey:"attempt",label:{value:"Attempt Number",position:"insideBottom",offset:-5}}),e.jsx(P,{label:{value:"Count",angle:-90,position:"insideLeft"}}),e.jsx(B,{}),e.jsx(R,{}),e.jsx(T,{dataKey:"plays",fill:"#F59E0B",name:"Audio Plays"}),e.jsx(T,{dataKey:"rewinds",fill:"#EF4444",name:"Rewinds"}),e.jsx(T,{dataKey:"forwards",fill:"#10B981",name:"Forwards"})]})}),e.jsxs("div",{className:"mt-4 bg-yellow-50 p-4 rounded",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Dependency Trend"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"px-3 py-1 rounded-full text-sm font-medium "+("declining"===y.dependency_trend.trend?"bg-green-100 text-green-700":"increasing"===y.dependency_trend.trend?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:y.dependency_trend.trend.charAt(0).toUpperCase()+y.dependency_trend.trend.slice(1)}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",y.dependency_trend.change_percent>=0?"+":"",y.dependency_trend.change_percent,"% from first to last)"]})]}),e.jsx("div",{className:"text-xs text-gray-600 mt-2",children:"declining"===y.dependency_trend.trend?"Ã¢Å“â€¦ Positive trend: User is becoming more independent from audio support":"increasing"===y.dependency_trend.trend?"Ã¢ Ã¯Â¸ Increasing reliance on audio may indicate difficulty":"Stable audio usage across attempts"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detailed Session History"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attempt"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Accuracy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Errors"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Typing Speed"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acceptance Rate"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(s=>{return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",s.attempt_number]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(r=s.session_date,new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(t=s.accuracy_percent,t>=80?"text-green-600 bg-green-50":t>=60?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50"),children:[s.accuracy_percent,"%"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[s.total_errors,e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(R:",s.replaced_errors," E:",s.extra_errors," M:",s.missing_errors,")"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.typing_speed_wpm?`${s.typing_speed_wpm} WPM`:"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.session_duration_minutes?`${s.session_duration_minutes} min`:"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.acceptance_rate_percent?`${s.acceptance_rate_percent}%`:"N/A"})]},s.attempt_number);var t,r})})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(m,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Key Insights for Thesis Analysis"]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"H2.1 (Learning Gains):"})," ",i.learning_gain>15?`Ã¢Å“â€¦ Substantial improvement of ${i.learning_gain}% exceeds typical learning curves`:"Moderate improvement observed. Consider intervention duration or support level."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"H2.2 (Error Reduction):"})," ",b.repeated_error_analysis.repeated_error_rate_percent<30?`Ã¢Å“â€¦ Low repeated error rate (${b.repeated_error_analysis.repeated_error_rate_percent}%) indicates effective learning`:"Ã¢ Ã¯Â¸ High repeated error rate suggests need for targeted remediation"]}),f.has_comparison&&e.jsxs("p",{children:[e.jsx("strong",{children:"Effect Size:"})," Cohen's d = ",f.effect_size_cohens_d,f.effect_size_cohens_d>.8?" (Large effect - strong intervention impact)":f.effect_size_cohens_d>.5?" (Medium effect)":" (Small effect)"]}),e.jsx("p",{className:"text-xs text-gray-600 italic mt-3",children:"ðŸ’¡ Export data above for statistical analysis in SPSS, R, or Python. Use temporal progression to analyze spaced repetition effects."})]})]})]})})]});var v}},Symbol.toStringTag,{value:"Module"}));const W=Object.freeze(Object.defineProperty({__proto__:null,default:function({user:l,roles:i}){l=l||{id:null,name:"",email:"",roles:[],created_at:null};const{data:n,setData:o,post:c,patch:x,errors:m,reset:h,processing:p,recentlySuccessful:g}=a({name:l.name??"",email:l.email??"",roles:Array.isArray(l.roles)&&l.roles.length>0?l.roles.map(e=>e.id):[],password:""}),[u,b]=s.useState(!1),j=s.useRef(null);s.useEffect(()=>{if(u)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e);function e(e){j.current&&!j.current.contains(e.target)&&b(!1)}},[u]);const y=s.useMemo(()=>i.find(e=>e.id===n.roles[0]),[i,n.roles]),f=e=>{o("roles",e?[e]:[]),b(!1)},N=l.id?"User Edit":"User Create",v=[{title:"Home",url:"/"},{title:N,url:""}];return e.jsxs(d,{breadcrumb:e.jsx(z,{header:N,links:v}),children:[e.jsx(t,{title:N}),e.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50/30 mb-12",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:N}),e.jsx("p",{className:"text-gray-500",children:l?"Update user details":"Create a new user for your system"})]}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),l.id?x(route("users.update",l.id),{preserveState:!0,onFinish:()=>h()}):c(route("users.store"),{preserveState:!0,onFinish:()=>h()})},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e.jsx("input",{id:"name",name:"name",type:"text",placeholder:"Enter user name",value:n.name,onChange:e=>o("name",e.target.value),className:`block mt-2 w-full px-3 py-[11px] text-sm rounded-xl border ${m.name?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"} placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2`}),e.jsx(M,{message:m.name,className:"mt-1 text-sm text-red-600"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{id:"email",name:"email",type:"email",placeholder:"Enter email",value:n.email,onChange:e=>o("email",e.target.value),className:`block mt-2 w-full px-3 py-[11px] text-sm rounded-xl border ${m.email?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"} placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2`}),e.jsx(M,{message:m.email,className:"mt-1 text-sm text-red-600"})]}),!l.id&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",placeholder:"Enter password",value:n.password,onChange:e=>o("password",e.target.value),className:`block mt-2 w-full px-3 py-[11px] text-sm rounded-xl border ${m.password?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"} placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2`}),e.jsx(M,{message:m.password,className:"mt-1 text-sm text-red-600"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"roles",className:"block text-sm font-medium text-gray-700 mb-1",children:"Roles"}),e.jsxs("div",{className:"relative w-1/3",ref:j,children:[e.jsxs("button",{type:"button",className:"w-full px-3 py-2 text-sm rounded-xl border bg-white shadow-sm text-left flex justify-between items-center focus:outline-none focus:ring-2 "+(m.roles?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"),onClick:()=>b(!u),children:[y?y.name:"Select a Role (optional)",e.jsx("svg",{className:"w-4 h-4 ml-2 transition-transform "+(u?"rotate-180":"rotate-0"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&e.jsx("div",{className:"absolute right-0 bottom-full mb-2 w-full bg-white border border-gray-200 rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto hide-scrollbar",children:e.jsxs("div",{className:"px-2 py-2 space-y-1",children:[e.jsx("button",{type:"button",className:"flex items-center gap-2 w-full text-left px-4 py-2 text-sm rounded-lg transition "+(n.roles[0]?"hover:bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700 font-bold"),onClick:()=>f(null),children:"Select a Roles (Optional)"}),i.map(s=>e.jsx("button",{type:"button",className:"flex items-center gap-2 w-full text-left px-4 py-2 text-sm rounded-lg transition "+(n.roles[0]===s.id?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"),onClick:()=>f(s.id),children:s.name},s.id))]})})]}),e.jsx(M,{message:m.roles,className:"mt-1 text-sm text-red-600"})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-3 pt-6 mt-6 border-t border-gray-200",children:[e.jsx(r,{href:route("users.index"),className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl text-gray-600 border-2 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 transition duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:p,className:"inline-flex items-center justify-center px-6 py-2 text-sm font-medium rounded-xl text-white bg-gradient-to-r from-blue-500 to-blue-500 shadow-sm transition duration-200 hover:from-blue-500 hover:to-blue-600 disabled:opacity-70 disabled:cursor-not-allowed",children:p?l.id?"Updating...":"Saving...":l.id?"Update User":"Save User"})]})]})]})})})]})}},Symbol.toStringTag,{value:"Module"}));const H=Object.freeze(Object.defineProperty({__proto__:null,default:function({users:a,permissions:n=[],search:o="",userStats:x={},showTrashed:m=!1}){const{auth:h}=l().props,p=h?.can??{},[g,u]=s.useState(!1),[S,A]=s.useState(null),[C,E]=s.useState([]),[P,B]=s.useState(!1),[R,D]=s.useState(!1),[F,U]=s.useState(null),[L,T]=s.useState(!1),[M,O]=s.useState(!1),[W,H]=s.useState(null),[q,G]=s.useState(""),[Y,V]=s.useState(!1),[X,J]=s.useState(""),[Q,Z]=s.useState(o||""),ee=[{id:"total",label:"Total Users",icon:"UsersRound",color:"text-blue-500",borderColor:"border-blue-100",bgColor:"bg-blue-50",value:0,description:"All users registered in the system"},{id:"employees",label:"Employees",icon:"UserCheck",color:"text-green-500",borderColor:"border-green-100",bgColor:"bg-green-50",value:0,description:"All verified staff or employee accounts"},{id:"students",label:"Experiment Group",icon:"GraduationCap",color:"text-orange-500",borderColor:"border-orange-100",bgColor:"bg-orange-50",value:0,description:"All student accounts currently active"},{id:"normal",label:"Control Group",icon:"User",color:"text-purple-500",borderColor:"border-purple-100",bgColor:"bg-purple-50",value:0,description:"All users without special roles"}],se=s.useMemo(()=>{const e=x&&Object.keys(x).length>0?x:(()=>{const e=a.data||[];return{total:e.length,employees:e.filter(e=>e.roles?.length>0).length,students:e.filter(e=>e.permissions?.length>0&&(!e.roles||0===e.roles.length)).length,normal:e.filter(e=>!(e.permissions&&0!==e.permissions.length||e.roles&&0!==e.roles.length)).length}})();return ee.map(s=>({...s,value:e[s.id]??0}))},[x,a.data]);s.useEffect(()=>{Z(o||"")},[o]);const te="User List",re=[{title:"Home",url:"/"},{title:te,url:""}];return e.jsxs(d,{breadcrumb:e.jsx(z,{header:te,links:re}),children:[e.jsx(t,{title:te}),e.jsx("section",{className:"content",children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:se.map(s=>e.jsxs("div",{className:`bg-white px-3 pb-2 pt-3 border-l-4 ${s.borderColor} shadow-sm rounded-xl flex flex-col hover:shadow-md transition-all duration-200`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:s.label}),e.jsxs("div",{className:`${s.color}`,children:["UsersRound"===s.icon&&e.jsx(b,{className:"w-7 h-7"}),"UserCheck"===s.icon&&e.jsx(j,{className:"w-7 h-7"}),"GraduationCap"===s.icon&&e.jsx(y,{className:"w-7 h-7"}),"User"===s.icon&&e.jsx(f,{className:"w-7 h-7"})]})]}),e.jsxs("div",{className:"",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:s.value}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.description})]})]},s.id))}),e.jsxs("div",{className:"bg-white shadow-md rounded-xl overflow-hidden border border-gray-200 mb-12",children:[e.jsxs("div",{className:"px-6 py-4 border-b flex flex-col md:flex-row justify-between items-center gap-3",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"User Management"}),e.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[e.jsx("form",{className:"inline-block",onSubmit:e=>e.preventDefault(),children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 rounded-xl border hover:shadow-lg transition text-sm bg-white",children:[e.jsx(N,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search by name or email",className:"px-2 outline-none border-none bg-transparent text-sm placeholder-gray-400 w-full min-w-[150px] focus:outline-none focus:ring-0",value:Q??"",onChange:e=>{const s=e.target.value||"";Z(s),i.get(route("users.index"),{search:s,trashed:m?1:0},{preserveState:!0,replace:!0})}})]})}),p["user-list"]&&e.jsx("button",{onClick:()=>{i.get(route("users.index"),{search:Q,trashed:m?0:1},{preserveState:!0,replace:!0})},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm transition "+(m?"bg-gray-600 text-white hover:bg-gray-500":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:m?"Show Active":`Deleted (${x.trashed||0})`}),p["user-create"]&&p["user-list"]&&!m&&e.jsxs("a",{href:route("users.create"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm text-white bg-green-600 hover:bg-green-500 transition",children:[e.jsx(v,{className:"w-4 h-4"}),"Add User"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4",children:"#ID"}),e.jsx("th",{className:"py-3 px-4",children:"Name"}),e.jsx("th",{className:"py-3 px-4",children:"Email"}),e.jsx("th",{className:"py-3 px-4",children:"Role"}),e.jsx("th",{className:"py-3 px-4",children:"Blocked"}),e.jsx("th",{className:"py-3 px-4",children:"Created At"}),(p["user-edit"]||p["user-delete"]||p["user-list"])&&e.jsx("th",{className:"py-3 px-4 text-center",children:"Action"})]})}),e.jsx("tbody",{className:"text-sm text-gray-700",children:a.data.length>0?a.data.map(s=>e.jsxs("tr",{className:"border-t hover:bg-gray-50 transition "+(s.blocked?"blur-[0.5px] opacity-60":""),children:[e.jsx("td",{className:"py-3 px-4 font-semibold",children:s.id}),e.jsx("td",{className:"py-3 px-4",children:s.name}),e.jsx("td",{className:"py-3 px-4",children:s.email}),e.jsx("td",{className:"py-3 px-4",children:s.roles?.length>0?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-600 text-white",children:s.roles[0].name}):s.permissions?.length>0?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-600 text-white",children:"Student"}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-400 text-white",children:"No Access"})}),e.jsx("td",{className:"py-3 px-4",children:s.blocked?e.jsx("span",{className:"badge bg-red-600 text-white text-xs",children:"Blocked"}):e.jsx("span",{className:"badge bg-green-600 text-white text-xs",children:"Active"})}),e.jsx("td",{className:"py-3 px-4",children:$(s.created_at).format("DD/MM/YYYY")}),(p["user-edit"]||p["user-block"]||p["user-list"])&&e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("div",{className:"flex justify-center gap-2 items-center",children:m?p["user-create"]&&e.jsxs("div",{className:"relative group",children:[e.jsx("button",{type:"button",onClick:()=>{return e=s.id,void i.post(route("users.restore",e),{},{preserveScroll:!0,onSuccess:()=>{i.reload({only:["users","userStats"]})}});var e},className:"inline-flex items-center gap-1.5 px-2 py-2 text-sm font-medium rounded-xl bg-green-500 text-white hover:bg-green-600 transition",children:e.jsx(w,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-white text-gray-800 text-xs px-3 py-1 rounded-lg shadow-md border whitespace-nowrap z-10",children:"Restore User"})]}):e.jsxs(e.Fragment,{children:[p["user-edit"]&&p["user-create"]&&e.jsxs("div",{className:"relative group",children:[e.jsx(r,{href:route("users.edit",s.id),className:"inline-flex items-center gap-1.5 px-2 py-2 text-sm font-medium rounded-xl bg-blue-500 text-white hover:bg-blue-600 transition",children:e.jsx(_,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-white text-gray-800 text-xs px-3 py-1 rounded-lg shadow-md border whitespace-nowrap z-10",children:"Edit User"})]}),p["user-edit"]&&p["user-create"]&&e.jsxs("div",{className:"relative group",children:[e.jsx("button",{type:"button",className:"inline-flex items-center gap-1.5 px-2 py-2 text-sm font-medium rounded-xl bg-amber-500 text-white hover:bg-amber-600 transition",onClick:()=>(H(s),G(""),J(""),void O(!0)),children:e.jsx(w,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-white text-gray-800 text-xs px-3 py-1 rounded-lg shadow-md border whitespace-nowrap z-10",children:"Reset Password"})]}),p["user-block"]&&e.jsxs("div",{className:"relative group",children:[e.jsx("button",{type:"button",className:`inline-flex items-center gap-1.5 px-2 py-2 text-sm font-medium rounded-xl ${s.blocked?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-400"} text-white transition`,onClick:()=>(U(s),void D(!0)),children:s.blocked?e.jsx(e.Fragment,{children:e.jsx(c,{className:"w-4 h-4"})}):e.jsx(e.Fragment,{children:e.jsx(k,{className:"w-4 h-4"})})}),e.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-white text-gray-800 text-xs px-2 py-1 rounded-lg shadow-md border whitespace-nowrap z-10",children:s.blocked?"Unblock":"Block"})]})]})})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:p["user-edit"]||p["user-block"]||p["user-list"]?7:6,className:"py-8 text-center text-gray-500",children:"No users found"})})})]})}),e.jsx(I,{show:R,onClose:()=>{D(!1),U(null),T(!1)},maxWidth:"lg",children:e.jsxs("form",{onSubmit:e=>{e.preventDefault(),L||(()=>{if(!F)return;T(!0);const e=F.blocked?route("users.unblock",F.id):route("users.block",F.id);window.axios.post(e).then(()=>{i.reload({only:["users","userStats"]})}).finally(()=>{T(!1),D(!1),U(null)})})()},className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:F?.blocked?"Unblock User":"Block User"}),e.jsx("p",{className:"text-gray-700 mb-4",children:F?.blocked?`Are you sure you want to unblock "${F?.name}"?`:`Are you sure you want to block "${F?.name}"? The user will not be able to log in.`}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{D(!1),U(null),T(!1)},className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:L,children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-[10px] px-9 py-1 text-white font-semibold transition "+(F?.blocked?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"),disabled:L,children:L?"Saving...":F?.blocked?"Unblock":"Block"})]})]})}),e.jsx(I,{show:g,onClose:()=>{u(!1),E([]),A(null)},maxWidth:"xl",children:S&&0===S.permissions?.length&&0===S.roles?.length?e.jsxs("form",{onSubmit:e=>{e.preventDefault(),S&&(B(!0),window.axios.patch(route("users.update-permissions",S.id),{permissions:C}).then(()=>{B(!1),u(!1),i.reload({only:["users","userStats"]})}).catch(()=>B(!1)))},className:"p-6 space-y-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Assign Student Permission"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:S?.name})," ","has no role yet. Click"," ",e.jsx("strong",{children:"Save"})," to give them the default ",e.jsx("strong",{children:"Student"})," role."]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"inline-block px-2 py-0.5 text-xs font-medium text-green-800 bg-green-100 rounded",children:"Default: Student"})}),e.jsxs("div",{className:"flex justify-between gap-3 mt-3",children:[e.jsx("button",{type:"button",onClick:()=>{u(!1),E([]),A(null)},className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold disabled:opacity-60",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:P,className:"rounded-[10px] px-9 py-1 bg-blue-600 text-white font-semibold hover:bg-blue-700 transition disabled:opacity-60",children:P?"Savingâ€¦":"Save"})]})]}):S?.roles?.length>0?e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"User Role Information"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:S?.name})," ","is assigned the following role:"]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"inline-block px-3 py-1 text-sm font-medium text-green-900 bg-green-100 rounded-full",children:S?.roles?.[0]?.name})}),e.jsx("p",{className:"text-sm text-gray-500 italic",children:"This user has been assigned a role and cannot be modified through this interface."}),e.jsx("div",{className:"flex justify-end gap-3",children:e.jsx("button",{type:"button",onClick:()=>{u(!1),E([]),A(null)},className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",children:"Close"})})]}):S?.permissions?.length>0?e.jsxs("form",{onSubmit:e=>{e.preventDefault(),S&&(B(!0),window.axios.patch(route("users.update-permissions",S.id),{permissions:[]}).then(()=>{B(!1),u(!1),i.reload({only:["users","userStats"]})}).catch(()=>B(!1)))},className:"p-6 space-y-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Remove Student Permission"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:S?.name})," ","currently has the following permission:"]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"inline-block px-3 py-1 text-sm font-medium text-blue-900 bg-blue-100 rounded-full",children:"Student"})}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Click ",e.jsx("strong",{children:"Remove"})," to revoke this permission."]}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{u(!1),E([]),A(null)},className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold disabled:opacity-60",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:P,className:"rounded-[10px] px-9 py-1 bg-red-600 text-white font-semibold hover:bg-red-700 transition disabled:opacity-60",children:P?"Removingâ€¦":"Remove"})]})]}):null}),e.jsx(I,{show:M,onClose:()=>{O(!1),H(null),G(""),V(!1),J("")},maxWidth:"lg",children:e.jsxs("form",{onSubmit:e=>{e.preventDefault(),W&&q.trim()?(V(!0),J(""),window.axios.post(route("users.reset-password",W.id),{password:q}).then(()=>{O(!1),H(null),G(""),V(!1),i.reload({only:["users"]})}).catch(e=>{V(!1),J(e?.response?.data?.message||"Failed to reset password.")})):J("Password is required.")},className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Reset Password"}),e.jsxs("p",{className:"text-gray-700 mb-4",children:["Enter a new password for"," ",e.jsx("span",{className:"font-semibold",children:W?.name}),"."]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Password"}),e.jsx("input",{type:"password",placeholder:"Enter new password",className:"w-full px-3 py-2 border border-gray-300 rounded-xl transition-colors text-gray-600 focus:ring-3 focus:ring-gray-100 focus:outline-none text-[18px] font-medium",value:q||"",onChange:e=>G(e.target.value),disabled:Y}),X&&e.jsx("div",{className:"text-red-600 text-xs mt-1",children:X})]}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{O(!1),H(null),G(""),V(!1),J("")},className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:Y,children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-[10px] px-9 py-1 bg-blue-600 text-white font-semibold hover:bg-blue-700 transition",disabled:Y,children:Y?"Saving...":"Save"})]})]})}),a.total>10&&e.jsx("div",{className:"px-6 py-3 border-t flex justify-center",children:e.jsx(K,{links:a.links,currentPage:a.current_page,perPage:a.per_page})})]})]})})]})}},Symbol.toStringTag,{value:"Module"}));const q=Object.freeze(Object.defineProperty({__proto__:null,default:function({auth:s,user:a,articlesAttempted:l,accuracyTrends:i,correctionPatterns:d,typingActivity:c,audioBehavior:x,learningMetrics:m}){return e.jsxs(n,{user:s.user,children:[e.jsx(t,{title:`${a.name} - Progress Dashboard`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Progress Dashboard"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Comprehensive learning analytics for ",a.name]})]}),e.jsx(r,{href:route("users.index"),className:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700",children:"â† Back to Users"})]}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"User Profile"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),e.jsx("p",{className:"font-semibold",children:a.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-semibold",children:a.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded "+("Active"===a.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:a.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Roles"}),e.jsx("p",{className:"font-semibold",children:a.roles.length>0?a.roles.join(", "):"No roles"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Registered"}),e.jsx("p",{className:"font-semibold",children:a.created_at})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Checks"}),e.jsx("p",{className:"font-semibold",children:a.total_checks})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Overall Accuracy"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[m.overall_accuracy,"%"]})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Progress Trend"}),e.jsx("p",{className:"text-2xl font-bold "+("Improving"===m.progress_trend?"text-green-600":"Declining"===m.progress_trend?"text-red-600":"text-gray-600"),children:m.progress_trend})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Attempts"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:m.total_attempts})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Improvement Rate"}),e.jsxs("p",{className:"text-2xl font-bold "+(m.improvement_rate>0?"text-green-600":"text-red-600"),children:[m.improvement_rate>0?"+":"",m.improvement_rate,"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-green-700",children:"Strengths"}),m.strengths.length>0?e.jsx("ul",{className:"space-y-2",children:m.strengths.map((s,t)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s]},t))}):e.jsx("p",{className:"text-gray-500",children:"Not enough data yet"})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-red-700",children:"Areas for Improvement"}),m.weaknesses.length>0?e.jsx("ul",{className:"space-y-2",children:m.weaknesses.map((s,t)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s]},t))}):e.jsx("p",{className:"text-gray-500",children:"Excellent performance across all areas!"})]})})]}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Daily Accuracy Trends (Last 30 Days)"}),i.length>0?e.jsx(S,{width:"100%",height:300,children:e.jsxs(A,{data:i,children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(E,{dataKey:"date"}),e.jsx(P,{domain:[0,100]}),e.jsx(B,{}),e.jsx(R,{}),e.jsx(D,{type:"monotone",dataKey:"accuracy",stroke:"#3B82F6",strokeWidth:2,name:"Accuracy (%)"})]})}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No accuracy data available for the last 30 days"})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Correction Patterns (Accept vs Reject)"}),d.length>0?e.jsx(S,{width:"100%",height:300,children:e.jsxs(L,{data:d,children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(E,{dataKey:"date"}),e.jsx(P,{}),e.jsx(B,{}),e.jsx(R,{}),e.jsx(T,{dataKey:"accepted",fill:"#10B981",name:"Accepted"}),e.jsx(T,{dataKey:"rejected",fill:"#EF4444",name:"Rejected"})]})}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No correction data available"})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Typing Activity"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Characters Typed"}),e.jsx("p",{className:"text-2xl font-bold",children:c.total_characters.toLocaleString()})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Average Per Session"}),e.jsx("p",{className:"text-2xl font-bold",children:c.average_per_session})]})]}),c.daily.length>0?e.jsx(S,{width:"100%",height:250,children:e.jsxs(A,{data:c.daily,children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(E,{dataKey:"date"}),e.jsx(P,{}),e.jsx(B,{}),e.jsx(R,{}),e.jsx(D,{type:"monotone",dataKey:"characters",stroke:"#8B5CF6",strokeWidth:2,name:"Characters Typed"})]})}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No typing data available"})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Audio Listening Behavior"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Plays"}),e.jsx("p",{className:"text-2xl font-bold",children:x.total_plays})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Rewinds"}),e.jsx("p",{className:"text-2xl font-bold",children:x.total_rewinds})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Fast Forwards"}),e.jsx("p",{className:"text-2xl font-bold",children:x.total_forwards})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Position"}),e.jsxs("p",{className:"text-2xl font-bold",children:[x.avg_playback_position,"s"]})]})]}),x.daily.length>0&&e.jsx(S,{width:"100%",height:250,children:e.jsxs(L,{data:x.daily,children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(E,{dataKey:"date"}),e.jsx(P,{}),e.jsx(B,{}),e.jsx(R,{}),e.jsx(T,{dataKey:"plays",fill:"#F59E0B",name:"Audio Plays"})]})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Articles Attempted"}),l.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Article Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attempts"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Best Accuracy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Accuracy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Latest Attempt"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.title}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.attempts}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded "+(s.best_accuracy>=80?"bg-green-100 text-green-800":s.best_accuracy>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[s.best_accuracy,"%"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.average_accuracy,"%"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.latest_attempt}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs(r,{href:route("users.articles.details",{userId:a.id,articleId:s.article_id}),className:"inline-flex items-center px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors duration-200 shadow-sm hover:shadow-md",children:[e.jsx(o,{className:"w-4 h-4 mr-1.5"}),"View Details"]})})]},s.article_id))})]})}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No articles attempted yet"})]})})]})})]})}},Symbol.toStringTag,{value:"Module"}));export{O as A,W as C,H as I,q as P};
