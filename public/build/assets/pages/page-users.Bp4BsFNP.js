import{j as e,a7 as $,U as ee,M as se,f as Q,g as f,i as B,k as y,X as N,Y as v,l as w,m as _,n as I,ap as pe,aq as Y,ar as V,as as E,a3 as ge,L as R,aD as ue,aE as M,aF as je,aG as be,s as fe,r as p,u as ye,aH as Ne,am as ve,a1 as we,ab as _e,aI as ke,aJ as Ce,a8 as S}from"../vendor/vendor-common.B-BNyr_k.js";import{A as te,a as ae,u as Se,b as Ae}from"./page-articles.B3vHdArU.js";import{e as T,b as re,o as Pe,S as Ee,c as D,d as Re,C as Ue,M as Z}from"../components/components-common.BmRY9Cl9.js";function De({auth:d,user:c,article:m,summaryMetrics:o,sessionTimeline:h,errorAnalysis:x,keystrokePatterns:l,audioBehavior:r,comparisonMetrics:t,temporalProgression:k}){const g=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=a=>a>=80?"text-green-600 bg-green-50":a>=60?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50",C=a=>a>5?e.jsx(Q,{className:"w-5 h-5 text-green-600"}):a<-5?e.jsx(je,{className:"w-5 h-5 text-red-600"}):e.jsx(be,{className:"w-5 h-5 text-gray-600"});return e.jsxs(te,{user:d.user,header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(R,{href:route("users.progress",c.id),className:"inline-flex items-center px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Back to Progress"]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Article Detail Analytics"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[c.name," â€¢ ",m.title]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("a",{href:route("users.articles.export",{userId:c.id,articleId:m.id,format:"csv"}),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-sm",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),e.jsxs("a",{href:route("users.articles.export",{userId:c.id,articleId:m.id,format:"json"}),className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors shadow-sm",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Export JSON"]}),e.jsxs("a",{href:route("users.articles.export",{userId:c.id,articleId:m.id,format:"xml"}),className:"inline-flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors shadow-sm",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Export XML"]})]})]}),children:[e.jsx($,{title:`Article Analysis: ${m.title}`}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),e.jsx(ee,{className:"w-5 h-5 text-blue-600"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:o.total_attempts})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Learning Gain"}),C(o.learning_gain)]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[o.learning_gain>=0?"+":"",o.learning_gain,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[o.first_attempt_accuracy,"% â†’ ",o.last_attempt_accuracy,"%"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Best Accuracy"}),e.jsx(se,{className:"w-5 h-5 text-green-600"})]}),e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[o.best_accuracy,"%"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Avg Accuracy"})}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[o.avg_accuracy,"%"]})]})]}),t.has_comparison&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Q,{className:"w-5 h-5 mr-2 text-blue-600"}),"First vs Latest Attempt Comparison"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Accuracy Improvement"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[t.accuracy_comparison.improvement>=0?"+":"",t.accuracy_comparison.improvement,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["From ",t.accuracy_comparison.first,"% to ",t.accuracy_comparison.last,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Error Reduction"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["-",t.error_comparison.reduction_percent,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["From ",t.error_comparison.first," to ",t.error_comparison.last," errors"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Effect Size (Cohen's d)"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.effect_size_cohens_d}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t.effect_size_cohens_d>.8?"Large effect":t.effect_size_cohens_d>.5?"Medium effect":"Small effect"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Learning Curve: Accuracy Progression"}),e.jsx(f,{width:"100%",height:300,children:e.jsxs(B,{data:h,children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(N,{dataKey:"attempt_number",label:{value:"Attempt Number",position:"insideBottom",offset:-5}}),e.jsx(v,{label:{value:"Accuracy (%)",angle:-90,position:"insideLeft"},domain:[0,100]}),e.jsx(w,{}),e.jsx(_,{}),e.jsx(I,{type:"monotone",dataKey:"accuracy_percent",stroke:"#3B82F6",strokeWidth:3,name:"Accuracy %",dot:{r:5}})]})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600 bg-blue-50 p-3 rounded",children:[e.jsx("strong",{children:"Interpretation:"})," ",o.learning_gain>0?`Positive learning trajectory with ${o.learning_gain}% improvement. This indicates successful skill acquisition.`:"Performance remains stable or declined. May need additional support or practice."]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Error Pattern Evolution"}),e.jsx(f,{width:"100%",height:300,children:e.jsxs(pe,{data:x.error_evolution,children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(N,{dataKey:"attempt",label:{value:"Attempt Number",position:"insideBottom",offset:-5}}),e.jsx(v,{label:{value:"Error Count",angle:-90,position:"insideLeft"}}),e.jsx(w,{}),e.jsx(_,{}),e.jsx(Y,{type:"monotone",dataKey:"replaced",stackId:"1",stroke:"#F59E0B",fill:"#F59E0B",name:"Replaced Errors"}),e.jsx(Y,{type:"monotone",dataKey:"extra",stackId:"1",stroke:"#FBBF24",fill:"#FBBF24",name:"Extra Errors"}),e.jsx(Y,{type:"monotone",dataKey:"missing",stackId:"1",stroke:"#EF4444",fill:"#EF4444",name:"Missing Errors"})]})}),e.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Error Reduction"}),e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[x.error_reduction.reduction_percent,"%"]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[x.error_reduction.first_attempt_errors," â†’ ",x.error_reduction.last_attempt_errors]})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Repeated Errors"}),e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[x.repeated_error_analysis.repeated_error_rate_percent,"%"]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[x.repeated_error_analysis.errors_repeated," of ",x.repeated_error_analysis.unique_errors," unique errors"]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Total Unique Errors"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x.repeated_error_analysis.unique_errors}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Across all attempts"})]})]})]}),l.typing_evolution&&l.typing_evolution.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Typing Fluency Evolution"}),e.jsx(f,{width:"100%",height:300,children:e.jsxs(B,{data:l.typing_evolution,children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(N,{dataKey:"attempt",label:{value:"Attempt Number",position:"insideBottom",offset:-5}}),e.jsx(v,{label:{value:"Speed (WPM)",angle:-90,position:"insideLeft"}}),e.jsx(w,{}),e.jsx(_,{}),e.jsx(I,{type:"monotone",dataKey:"typing_speed_wpm",stroke:"#8B5CF6",strokeWidth:2,name:"Typing Speed (WPM)",dot:{r:4}})]})}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-purple-50 p-4 rounded",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Speed Improvement"}),e.jsxs("div",{className:"text-xl font-bold text-purple-600",children:[l.trends.typing_speed_improvement_percent>=0?"+":"",l.trends.typing_speed_improvement_percent,"%"]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Backspace Reduction"}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:["-",l.trends.backspace_reduction_percent,"%"]})]})]})]}),r.audio_evolution&&r.audio_evolution.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Audio Listening Behavior"}),e.jsx(f,{width:"100%",height:300,children:e.jsxs(V,{data:r.audio_evolution,children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(N,{dataKey:"attempt",label:{value:"Attempt Number",position:"insideBottom",offset:-5}}),e.jsx(v,{label:{value:"Count",angle:-90,position:"insideLeft"}}),e.jsx(w,{}),e.jsx(_,{}),e.jsx(E,{dataKey:"plays",fill:"#F59E0B",name:"Audio Plays"}),e.jsx(E,{dataKey:"rewinds",fill:"#EF4444",name:"Rewinds"}),e.jsx(E,{dataKey:"forwards",fill:"#10B981",name:"Forwards"})]})}),e.jsxs("div",{className:"mt-4 bg-yellow-50 p-4 rounded",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Dependency Trend"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.dependency_trend.trend==="declining"?"bg-green-100 text-green-700":r.dependency_trend.trend==="increasing"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:r.dependency_trend.trend.charAt(0).toUpperCase()+r.dependency_trend.trend.slice(1)}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",r.dependency_trend.change_percent>=0?"+":"",r.dependency_trend.change_percent,"% from first to last)"]})]}),e.jsx("div",{className:"text-xs text-gray-600 mt-2",children:r.dependency_trend.trend==="declining"?"Ã¢Å“â€¦ Positive trend: User is becoming more independent from audio support":r.dependency_trend.trend==="increasing"?"Ã¢ Ã¯Â¸ Increasing reliance on audio may indicate difficulty":"Stable audio usage across attempts"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detailed Session History"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attempt"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Accuracy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Errors"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Typing Speed"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acceptance Rate"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",a.attempt_number]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g(a.session_date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(a.accuracy_percent)}`,children:[a.accuracy_percent,"%"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[a.total_errors,e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(R:",a.replaced_errors," E:",a.extra_errors," M:",a.missing_errors,")"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.typing_speed_wpm?`${a.typing_speed_wpm} WPM`:"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.session_duration_minutes?`${a.session_duration_minutes} min`:"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.acceptance_rate_percent?`${a.acceptance_rate_percent}%`:"N/A"})]},a.attempt_number))})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(ge,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Key Insights for Thesis Analysis"]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"H2.1 (Learning Gains):"})," ",o.learning_gain>15?`Ã¢Å“â€¦ Substantial improvement of ${o.learning_gain}% exceeds typical learning curves`:"Moderate improvement observed. Consider intervention duration or support level."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"H2.2 (Error Reduction):"})," ",x.repeated_error_analysis.repeated_error_rate_percent<30?`Ã¢Å“â€¦ Low repeated error rate (${x.repeated_error_analysis.repeated_error_rate_percent}%) indicates effective learning`:"Ã¢ Ã¯Â¸ High repeated error rate suggests need for targeted remediation"]}),t.has_comparison&&e.jsxs("p",{children:[e.jsx("strong",{children:"Effect Size:"})," Cohen's d = ",t.effect_size_cohens_d,t.effect_size_cohens_d>.8?" (Large effect - strong intervention impact)":t.effect_size_cohens_d>.5?" (Medium effect)":" (Small effect)"]}),e.jsx("p",{className:"text-xs text-gray-600 italic mt-3",children:"ðŸ’¡ Export data above for statistical analysis in SPSS, R, or Python. Use temporal progression to analyze spaced repetition effects."})]})]})]})})]})}const Ke=Object.freeze(Object.defineProperty({__proto__:null,default:De},Symbol.toStringTag,{value:"Module"}));function Le({user:d,roles:c}){d=d||{id:null,name:"",email:"",roles:[],created_at:null};const{data:m,setData:o,post:h,patch:x,errors:l,reset:r,processing:t,recentlySuccessful:k}=fe({name:d.name??"",email:d.email??"",roles:Array.isArray(d.roles)&&d.roles.length>0?d.roles.map(n=>n.id):[],password:""}),[g,u]=p.useState(!1),C=p.useRef(null);p.useEffect(()=>{if(!g)return;function n(U){C.current&&!C.current.contains(U.target)&&u(!1)}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[g]);const a=p.useMemo(()=>c.find(n=>n.id===m.roles[0]),[c,m.roles]),A=n=>{o("roles",n?[n]:[]),u(!1)},P=n=>{n.preventDefault(),d.id?x(route("users.update",d.id),{preserveState:!0,onFinish:()=>r()}):h(route("users.store"),{preserveState:!0,onFinish:()=>r()})},j=d.id?"User Edit":"User Create",K=[{title:"Home",url:"/"},{title:j,url:""}];return e.jsxs(ae,{breadcrumb:e.jsx(re,{header:j,links:K}),children:[e.jsx($,{title:j}),e.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50/30 mb-12",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:j}),e.jsx("p",{className:"text-gray-500",children:d?"Update user details":"Create a new user for your system"})]}),e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e.jsx("input",{id:"name",name:"name",type:"text",placeholder:"Enter user name",value:m.name,onChange:n=>o("name",n.target.value),className:`block mt-2 w-full px-3 py-[11px] text-sm rounded-xl border ${l.name?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"} placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2`}),e.jsx(T,{message:l.name,className:"mt-1 text-sm text-red-600"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{id:"email",name:"email",type:"email",placeholder:"Enter email",value:m.email,onChange:n=>o("email",n.target.value),className:`block mt-2 w-full px-3 py-[11px] text-sm rounded-xl border ${l.email?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"} placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2`}),e.jsx(T,{message:l.email,className:"mt-1 text-sm text-red-600"})]}),!d.id&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",placeholder:"Enter password",value:m.password,onChange:n=>o("password",n.target.value),className:`block mt-2 w-full px-3 py-[11px] text-sm rounded-xl border ${l.password?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"} placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2`}),e.jsx(T,{message:l.password,className:"mt-1 text-sm text-red-600"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"roles",className:"block text-sm font-medium text-gray-700 mb-1",children:"Roles"}),e.jsxs("div",{className:"relative w-1/3",ref:C,children:[e.jsxs("button",{type:"button",className:`w-full px-3 py-2 text-sm rounded-xl border bg-white shadow-sm text-left flex justify-between items-center focus:outline-none focus:ring-2 ${l.roles?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"}`,onClick:()=>u(!g),children:[a?a.name:"Select a Role (optional)",e.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform ${g?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),g&&e.jsx("div",{className:"absolute right-0 bottom-full mb-2 w-full bg-white border border-gray-200 rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto hide-scrollbar",children:e.jsxs("div",{className:"px-2 py-2 space-y-1",children:[e.jsx("button",{type:"button",className:`flex items-center gap-2 w-full text-left px-4 py-2 text-sm rounded-lg transition ${m.roles[0]?"hover:bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700 font-bold"}`,onClick:()=>A(null),children:"Select a Roles (Optional)"}),c.map(n=>e.jsx("button",{type:"button",className:`flex items-center gap-2 w-full text-left px-4 py-2 text-sm rounded-lg transition ${m.roles[0]===n.id?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"}`,onClick:()=>A(n.id),children:n.name},n.id))]})})]}),e.jsx(T,{message:l.roles,className:"mt-1 text-sm text-red-600"})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-3 pt-6 mt-6 border-t border-gray-200",children:[e.jsx(R,{href:route("users.index"),className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl text-gray-600 border-2 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 transition duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:t,className:"inline-flex items-center justify-center px-6 py-2 text-sm font-medium rounded-xl text-white bg-gradient-to-r from-blue-500 to-blue-500 shadow-sm transition duration-200 hover:from-blue-500 hover:to-blue-600 disabled:opacity-70 disabled:cursor-not-allowed",children:t?d.id?"Updating...":"Saving...":d.id?"Update User":"Save User"})]})]})]})})})]})}const ze=Object.freeze(Object.defineProperty({__proto__:null,default:Le},Symbol.toStringTag,{value:"Module"}));function Fe({users:d,permissions:c=[],search:m="",userStats:o={},showTrashed:h=!1}){const{auth:x}=ye().props,l=x?.can??{},{searchTerm:r,handleSearch:t}=Se("users.index",m),[k,g]=p.useState(!1),[u,C]=p.useState(null),[a,A]=p.useState([]),[P,j]=p.useState(!1),[K,n]=p.useState(!1),[U,J]=p.useState(null),[z,O]=p.useState(""),[W,H]=p.useState(!1),[X,L]=p.useState(""),b=Ae(s=>{const i=s.blocked?route("users.unblock",s.id):route("users.block",s.id);return window.axios.post(i).then(()=>{S.reload({only:["users","userStats"]})})}),le=p.useMemo(()=>{const s=o&&Object.keys(o).length>0?o:{total:d.data?.length||0,employees:d.data?.filter(i=>i.roles?.length>0).length||0,students:d.data?.filter(i=>i.permissions?.length>0&&(!i.roles||i.roles.length===0)).length||0,normal:d.data?.filter(i=>(!i.permissions||i.permissions.length===0)&&(!i.roles||i.roles.length===0)).length||0};return[{label:"Total Users",value:s.total,icon:"UsersRound",color:"text-blue-500",borderColor:"border-blue-100",bgColor:"bg-blue-50",description:"All users registered in the system"},{label:"Employees",value:s.employees,icon:"UserCheck",color:"text-green-500",borderColor:"border-green-100",bgColor:"bg-green-50",description:"All verified staff or employee accounts"},{label:"Experiment Group",value:s.students,icon:"GraduationCap",color:"text-orange-500",borderColor:"border-orange-100",bgColor:"bg-orange-50",description:"All student accounts currently active"},{label:"Control Group",value:s.normal,icon:"User",color:"text-purple-500",borderColor:"border-purple-100",bgColor:"bg-purple-50",description:"All users without special roles"}]},[o,d.data]),de=s=>{C(s);const i=s.permissions?s.permissions.map(G=>G.id):[],F=c.find(G=>G.name==="student")?.id;A(i.length>0?i:F?[F]:[]),g(!0)},ne=s=>{s.preventDefault(),u&&(j(!0),window.axios.patch(route("users.update-permissions",u.id),{permissions:a}).then(()=>{j(!1),g(!1),S.reload({only:["users","userStats"]})}).catch(()=>j(!1)))},ie=s=>{s.preventDefault(),u&&(j(!0),window.axios.patch(route("users.update-permissions",u.id),{permissions:[]}).then(()=>{j(!1),g(!1),S.reload({only:["users","userStats"]})}).catch(()=>j(!1)))},oe=s=>{J(s),O(""),L(""),n(!0)},ce=s=>{if(s.preventDefault(),!U||!z.trim()){L("Password is required.");return}H(!0),L(""),window.axios.post(route("users.reset-password",U.id),{password:z}).then(()=>{n(!1),J(null),O(""),H(!1),S.reload({only:["users"]})}).catch(i=>{H(!1),L(i?.response?.data?.message||"Failed to reset password.")})},xe=()=>{S.get(route("users.index"),{search:r,trashed:h?0:1},{preserveState:!0,replace:!0})},me=s=>{S.post(route("users.restore",s),{},{preserveScroll:!0,onSuccess:()=>S.reload({only:["users","userStats"]})})},q="User List",he=[{title:"Home",url:"/"},{title:q,url:""}];return e.jsxs(ae,{breadcrumb:e.jsx(re,{header:q,links:he}),children:[e.jsx($,{title:q}),e.jsx("section",{className:"content",children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:le.map((s,i)=>e.jsx(Pe,{...s},i))}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:h?"Deleted Users":"Active Users"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(Ee,{value:r,onChange:t,placeholder:"Search users..."}),e.jsx("button",{onClick:xe,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm text-white bg-gray-600 hover:bg-gray-500 transition",children:h?"View Active":"View Deleted"}),l["user-create"]&&!h&&e.jsxs(R,{href:route("users.create"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm text-white bg-green-600 hover:bg-green-500 transition",children:[e.jsx(Ne,{className:"w-4 h-4"}),"Add User"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full table-auto",children:[e.jsx("thead",{className:"bg-blue-600 text-white text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"ID"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Roles"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Permissions"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Joined"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold",children:"Actions"})]})}),e.jsx("tbody",{className:"text-sm divide-y divide-gray-200",children:d.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-4 py-8 text-center text-gray-500",children:h?"No deleted users found":"No users found"})}):d.data.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-4 py-3",children:s.id}),e.jsx("td",{className:"px-4 py-3 font-medium",children:s.name}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:s.email}),e.jsx("td",{className:"px-4 py-3",children:s.roles?.length>0?e.jsx("div",{className:"flex flex-wrap gap-1",children:s.roles.map(i=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-md text-xs font-medium",children:i.name},i.id))}):e.jsx("span",{className:"text-gray-400 text-xs",children:"No roles"})}),e.jsx("td",{className:"px-4 py-3",children:s.permissions?.length>0?e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.permissions.slice(0,2).map(i=>e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-md text-xs font-medium",children:i.name},i.id)),s.permissions.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-md text-xs",children:["+",s.permissions.length-2]})]}):e.jsx("span",{className:"text-gray-400 text-xs",children:"No permissions"})}),e.jsx("td",{className:"px-4 py-3",children:s.blocked?e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-md text-xs font-medium",children:"Blocked"}):e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-md text-xs font-medium",children:"Active"})}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ve(s.created_at).format("MMM D, YYYY")}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"flex items-center justify-center gap-2",children:h?e.jsx(D,{onClick:()=>me(s.id),icon:we,tooltip:"Restore User",variant:"green"}):e.jsxs(e.Fragment,{children:[l["user-edit"]&&e.jsx(R,{href:route("users.edit",s.id),children:e.jsx(D,{icon:_e,tooltip:"Edit User",variant:"blue"})}),l["user-permissions"]&&e.jsx(D,{onClick:()=>de(s),icon:ke,tooltip:"Manage Permissions",variant:"green"}),l["user-block"]&&e.jsx(D,{onClick:()=>b.openModal(s),icon:Ce,tooltip:s.blocked?"Unblock User":"Block User",variant:s.blocked?"green":"red"}),l["user-reset-password"]&&e.jsx(D,{onClick:()=>oe(s),icon:se,tooltip:"Reset Password",variant:"yellow"})]})})})]},s.id))})]})}),e.jsx("div",{className:"mt-6",children:e.jsx(Re,{links:d.links})})]})]})}),e.jsx(Ue,{show:b.showModal,onClose:b.closeModal,onConfirm:b.confirm,title:b.target?.blocked?"Unblock User":"Block User",message:b.target?.blocked?`Are you sure you want to unblock ${b.target?.name}?`:`Are you sure you want to block ${b.target?.name}? They will not be able to access the system.`,confirmText:b.target?.blocked?"Unblock":"Block",confirmStyle:b.target?.blocked?"success":"danger",processing:b.processing}),e.jsx(Z,{show:k,onClose:()=>g(!1),maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Manage Permissions for ",u?.name]}),e.jsxs("form",{onSubmit:ne,children:[e.jsx("div",{className:"space-y-2 mb-4",children:c.map(s=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.includes(s.id),onChange:i=>{i.target.checked?A([...a,s.id]):A(a.filter(F=>F!==s.id))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:s.name})]},s.id))}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:ie,className:"rounded-[10px] border-2 border-red-300 px-6 py-1 text-red-600 hover:bg-red-50 transition font-semibold",disabled:P,children:"Remove All"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>g(!1),className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:P,children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-[10px] px-9 py-1 bg-blue-600 text-white font-semibold hover:bg-blue-700 transition",disabled:P,children:P?"Saving...":"Save"})]})]})]})]})}),e.jsx(Z,{show:K,onClose:()=>n(!1),maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Reset Password for ",U?.name]}),e.jsxs("form",{onSubmit:ce,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:"password",value:z,onChange:s=>O(s.target.value),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter new password"}),X&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:X})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>n(!1),className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold",disabled:W,children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-[10px] px-9 py-1 bg-blue-600 text-white font-semibold hover:bg-blue-700 transition",disabled:W,children:W?"Resetting...":"Reset Password"})]})]})]})})]})}const Oe=Object.freeze(Object.defineProperty({__proto__:null,default:Fe},Symbol.toStringTag,{value:"Module"}));function Te({auth:d,user:c,articlesAttempted:m,accuracyTrends:o,correctionPatterns:h,typingActivity:x,audioBehavior:l,learningMetrics:r}){return e.jsxs(te,{user:d.user,children:[e.jsx($,{title:`${c.name} - Progress Dashboard`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Progress Dashboard"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Comprehensive learning analytics for ",c.name]})]}),e.jsx(R,{href:route("users.index"),className:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700",children:"â† Back to Users"})]}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"User Profile"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),e.jsx("p",{className:"font-semibold",children:c.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-semibold",children:c.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded ${c.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Roles"}),e.jsx("p",{className:"font-semibold",children:c.roles.length>0?c.roles.join(", "):"No roles"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Registered"}),e.jsx("p",{className:"font-semibold",children:c.created_at})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Checks"}),e.jsx("p",{className:"font-semibold",children:c.total_checks})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Overall Accuracy"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[r.overall_accuracy,"%"]})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Progress Trend"}),e.jsx("p",{className:`text-2xl font-bold ${r.progress_trend==="Improving"?"text-green-600":r.progress_trend==="Declining"?"text-red-600":"text-gray-600"}`,children:r.progress_trend})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Attempts"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r.total_attempts})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Improvement Rate"}),e.jsxs("p",{className:`text-2xl font-bold ${r.improvement_rate>0?"text-green-600":"text-red-600"}`,children:[r.improvement_rate>0?"+":"",r.improvement_rate,"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-green-700",children:"Strengths"}),r.strengths.length>0?e.jsx("ul",{className:"space-y-2",children:r.strengths.map((t,k)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t]},k))}):e.jsx("p",{className:"text-gray-500",children:"Not enough data yet"})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-red-700",children:"Areas for Improvement"}),r.weaknesses.length>0?e.jsx("ul",{className:"space-y-2",children:r.weaknesses.map((t,k)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),t]},k))}):e.jsx("p",{className:"text-gray-500",children:"Excellent performance across all areas!"})]})})]}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Daily Accuracy Trends (Last 30 Days)"}),o.length>0?e.jsx(f,{width:"100%",height:300,children:e.jsxs(B,{data:o,children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(N,{dataKey:"date"}),e.jsx(v,{domain:[0,100]}),e.jsx(w,{}),e.jsx(_,{}),e.jsx(I,{type:"monotone",dataKey:"accuracy",stroke:"#3B82F6",strokeWidth:2,name:"Accuracy (%)"})]})}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No accuracy data available for the last 30 days"})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Correction Patterns (Accept vs Reject)"}),h.length>0?e.jsx(f,{width:"100%",height:300,children:e.jsxs(V,{data:h,children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(N,{dataKey:"date"}),e.jsx(v,{}),e.jsx(w,{}),e.jsx(_,{}),e.jsx(E,{dataKey:"accepted",fill:"#10B981",name:"Accepted"}),e.jsx(E,{dataKey:"rejected",fill:"#EF4444",name:"Rejected"})]})}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No correction data available"})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Typing Activity"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Characters Typed"}),e.jsx("p",{className:"text-2xl font-bold",children:x.total_characters.toLocaleString()})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Average Per Session"}),e.jsx("p",{className:"text-2xl font-bold",children:x.average_per_session})]})]}),x.daily.length>0?e.jsx(f,{width:"100%",height:250,children:e.jsxs(B,{data:x.daily,children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(N,{dataKey:"date"}),e.jsx(v,{}),e.jsx(w,{}),e.jsx(_,{}),e.jsx(I,{type:"monotone",dataKey:"characters",stroke:"#8B5CF6",strokeWidth:2,name:"Characters Typed"})]})}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No typing data available"})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Audio Listening Behavior"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Plays"}),e.jsx("p",{className:"text-2xl font-bold",children:l.total_plays})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Rewinds"}),e.jsx("p",{className:"text-2xl font-bold",children:l.total_rewinds})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Fast Forwards"}),e.jsx("p",{className:"text-2xl font-bold",children:l.total_forwards})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Position"}),e.jsxs("p",{className:"text-2xl font-bold",children:[l.avg_playback_position,"s"]})]})]}),l.daily.length>0&&e.jsx(f,{width:"100%",height:250,children:e.jsxs(V,{data:l.daily,children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(N,{dataKey:"date"}),e.jsx(v,{}),e.jsx(w,{}),e.jsx(_,{}),e.jsx(E,{dataKey:"plays",fill:"#F59E0B",name:"Audio Plays"})]})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Articles Attempted"}),m.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Article Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attempts"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Best Accuracy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Accuracy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Latest Attempt"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.title}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.attempts}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded ${t.best_accuracy>=80?"bg-green-100 text-green-800":t.best_accuracy>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.best_accuracy,"%"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[t.average_accuracy,"%"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.latest_attempt}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs(R,{href:route("users.articles.details",{userId:c.id,articleId:t.article_id}),className:"inline-flex items-center px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors duration-200 shadow-sm hover:shadow-md",children:[e.jsx(ee,{className:"w-4 h-4 mr-1.5"}),"View Details"]})})]},t.article_id))})]})}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No articles attempted yet"})]})})]})})]})}const We=Object.freeze(Object.defineProperty({__proto__:null,default:Te},Symbol.toStringTag,{value:"Module"}));export{Ke as A,ze as C,Oe as I,We as P};
