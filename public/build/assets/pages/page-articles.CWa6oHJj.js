import{u as R,j as e,L as y,r as h,A as Q,m as Z,a9 as B,aa as P,ab as Y,a7 as G,ac as V,ad as J,ae as K,a5 as X,x as ee,Q as U,af as te,ag as se,ah as re,C as q,N as E,ai as ae,U as le}from"../vendor/vendor-common.DkKXL0Tk.js";import{A as ie,B as ne,a as oe,b as F,S as ce,c as T,d as de,C as xe,M as he}from"../components/components-common.Cz_RKLYJ.js";function k({label:t,icon:n,children:s,active:r}){const[a,c]=h.useState(r);return h.useEffect(()=>{c(r)},[r]),e.jsxs("div",{className:"mb-1.5",children:[e.jsxs("button",{onClick:()=>c(l=>!l),className:`flex items-center w-full px-3 py-2.5 !rounded-xl font-medium transition-all duration-200 ease-in-out group ${a||r?"bg-gradient-to-r from-blue-50 to-blue-100 text-blue-700 shadow-sm hover:shadow-md":"hover:bg-gray-50 text-gray-700 hover:shadow-sm"} hover:scale-[1.02] active:scale-[0.98]`,children:[e.jsx("span",{className:`mr-3 transition-all duration-200 ease-in-out ${a||r?"text-blue-600 scale-110":"text-gray-400 group-hover:text-gray-600"}`,children:n}),e.jsx("span",{className:"flex-1 text-left text-sm font-semibold",children:t}),e.jsx("svg",{className:`w-4 h-4 ml-auto transition-all duration-200 ease-in-out ${a?"rotate-90":""} ${a||r?"text-blue-600":"text-gray-400 group-hover:text-gray-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("div",{className:`transition-all duration-200 ease-in-out overflow-hidden ${a?"max-h-96 opacity-100 mt-1.5":"max-h-0 opacity-0"}`,children:e.jsx("div",{className:"pl-3 space-y-1",children:s})})]})}function j({href:t,icon:n,label:s,active:r}){return e.jsxs(y,{href:t,className:`flex items-center px-3 py-2 !rounded-xl font-medium transition-all duration-200 ease-in-out group ${r?"bg-gradient-to-r from-blue-50 to-blue-100 text-blue-700 shadow-sm":"hover:bg-gray-50 text-gray-700 hover:shadow-sm"} hover:scale-[1.02] hover:translate-x-1 active:scale-[0.98]`,children:[n&&e.jsx("span",{className:`mr-3 transition-all duration-200 ease-in-out ${r?"text-blue-600 scale-110":"text-gray-400 group-hover:text-gray-600"}`,children:n}),e.jsx("span",{className:`text-sm transition-all duration-200 ease-in-out ${r?"text-blue-700 font-semibold":"text-gray-600 group-hover:text-gray-900"}`,children:s})]})}function $(t){try{return route(t),!0}catch{return!1}}function L(t,n={}){try{return route(t,n)}catch{return console.warn(`Route "${t}" not found`),"#"}}function ue({lang:t,setLang:n,open:s=!0}){const{auth:r}=R().props,a=r?.can??{},c=route().current(),l=r?.user?.roles_list?.some(f=>f.name==="Admin")??!1,d=(...f)=>f.some(u=>c?.includes(u)),g={dashboard:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[e.jsx("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}),e.jsx("rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}),e.jsx("rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}),e.jsx("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"})]}),user:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e.jsx("path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}),e.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"})]}),role:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user-lock",children:[e.jsx("circle",{cx:"10",cy:"7",r:"4"}),e.jsx("path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2"}),e.jsx("path",{d:"M15 15.5V14a2 2 0 0 1 4 0v1.5"}),e.jsx("rect",{width:"8",height:"5",x:"13",y:"16",rx:".899"})]}),quiz:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-message-circle-question-mark-icon lucide-message-circle-question-mark",children:[e.jsx("path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]}),article:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-clipboard-plus-icon lucide-clipboard-plus",children:[e.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),e.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),e.jsx("path",{d:"M9 14h6"}),e.jsx("path",{d:"M12 17v-6"})]}),homophone:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-book-plus",children:[e.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),e.jsx("path",{d:"M4 4.5A2.5 2.5 0 0 1 6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15z"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),settings:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),analytics:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"M18 17V9"}),e.jsx("path",{d:"M13 17V5"}),e.jsx("path",{d:"M8 17v-3"})]})};return e.jsxs("aside",{className:`bg-gradient-to-b from-white to-gray-50 border-r border-gray-200 w-64 fixed h-full overflow-y-auto pb-4 shadow-sm z-20 left-0 top-0 transform transition-transform duration-200 ${s?"translate-x-0":"-translate-x-64"}`,children:[e.jsx("div",{className:"px-4 h-16 flex items-center border-b border-gray-200 bg-white shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{href:"/",className:"flex items-center gap-2 flex-shrink-0 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95",children:e.jsx("div",{className:"relative -mt-2",children:e.jsx(ie,{size:"md",variant:"blue"})})}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-base font-bold text-blue-700 leading-tight",children:ne.NAME.SHORT})})]})}),e.jsx("div",{className:"sidebar",children:e.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1.5",children:[e.jsx(j,{href:route("dashboard"),icon:g.dashboard,label:"Dashboard",active:route().current("dashboard")}),e.jsxs(k,{label:"Analytics",icon:g.analytics,active:route().current("user.analytics")||d("user-progress"),children:[e.jsx(j,{href:route("user.analytics"),label:"User Analytics",active:route().current("user.analytics")}),$("user-progress.index")&&e.jsx(j,{href:L("user-progress.index"),label:"My Progress",active:d("user-progress")})]}),e.jsxs(k,{label:"Articles",icon:g.article,active:d("articles","article-settings"),children:[e.jsx(j,{href:route("articles.index"),label:"Article List",active:c==="articles.index"}),a["article-create"]&&e.jsx(j,{href:route("articles.create"),label:"Create Article",active:c==="articles.create"}),a["article-create"]&&$("article-settings.index")&&e.jsx(j,{href:L("article-settings.index"),label:"Article Settings",active:c==="article-settings.index"||d("article-settings")})]}),e.jsxs(k,{label:"Homophones",icon:g.homophone,active:d("homophones"),children:[e.jsx(j,{href:route("homophones.index"),label:"Homophone List",active:c==="homophones.index"}),a["homophone-create"]&&e.jsx(j,{href:route("homophones.create"),label:"Create Homophone",active:c==="homophones.create"})]}),e.jsxs(k,{label:"Quizzes",icon:g.quiz,active:d("quizzes"),children:[e.jsx(j,{href:route("quizzes.index"),label:"Quiz List",active:c==="quizzes.index"}),a["quiz-create"]&&e.jsx(j,{href:route("quizzes.create"),label:"Create Quiz",active:c==="quizzes.create"})]}),(a["role-list"]||a["user-list"])&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xs font-bold text-gray-500 mb-2 mt-4 pt-3 px-2 tracking-wider uppercase border-t border-gray-200",children:"Authentication"}),(a["role-list"]||a["role-create"])&&e.jsxs(k,{label:"Roles",icon:g.role,active:d("roles"),children:[e.jsx(j,{href:route("roles.index"),label:"Roles List",active:c==="roles.index"}),a["role-create"]&&e.jsx(j,{href:route("roles.create"),label:"Create Role",active:c==="roles.create"})]}),(a["user-list"]||a["user-create"])&&e.jsxs(k,{label:"Users",icon:g.user,active:d("users","learn"),children:[e.jsx(j,{href:route("users.index"),label:"User List",active:c==="users.index"}),a["user-create"]&&e.jsx(j,{href:route("users.create"),label:"Create User",active:c==="users.create"}),$("learn.articles.index")&&e.jsx(j,{href:L("learn.articles.index"),label:"User Learning",active:d("learn")})]}),(a["settings-edit"]||a["permissions-manage"]||l)&&e.jsxs(k,{label:"Settings",icon:g.settings,active:d("settings","permissions"),children:[(a["settings-edit"]||l)&&$("settings.index")&&e.jsx(j,{href:L("settings.index"),label:"User Registration",active:c==="settings.index"||d("settings")}),(a["permissions-manage"]||l)&&$("permissions.index")&&e.jsx(j,{href:L("permissions.index"),label:"Permission",active:c==="permissions.index"||d("permissions")})]})]})]})})]})}const D=({breadcrumb:t,children:n})=>{const{auth:s}=R().props,[r,a]=h.useState(!1),[c,l]=h.useState(!0),[d,g]=h.useState(()=>localStorage.getItem("lang")||"en"),f=h.useRef(null),u=s?.user?.roles_list&&s.user.roles_list[0]?.name||s?.user?.roles&&s.user.roles[0]?.name||s?.user?.role?.name||"User";return e.jsxs("div",{className:"wrapper h-screen overflow-hidden flex flex-col",children:[e.jsxs("nav",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200 shadow-sm bg-white z-10",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("button",{className:"inline-flex items-center justify-center w-9 h-9 border border-gray-300 rounded-xl text-gray-600 hover:bg-gray-50 hover:border-gray-400 hover:shadow-sm transition-all duration-200","aria-label":"Toggle sidebar",onClick:()=>l(o=>!o),children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.333 0.25h13.333c.414 0 .75.336.75.75s-.336.75-.75.75H1.333a.75.75 0 0 1 0-1.5Zm0 10h13.333c.414 0 .75.336.75.75s-.336.75-.75.75H1.333a.75.75 0 1 1 0-1.5ZM1.333 4.5h6.667c.414 0 .75.336.75.75s-.336.75-.75.75H1.333a.75.75 0 0 1 0-1.5Z",fill:"currentColor"})})})}),e.jsx("ul",{className:"flex items-center gap-3 ml-auto mr-2",children:e.jsxs("li",{className:"relative",ref:f,children:[e.jsxs("button",{className:"flex items-center gap-2 px-3 h-12 rounded-xl bg-white hover:bg-gray-50 hover:shadow-md transition-all duration-200",onClick:()=>a(!r),style:{outline:"none",boxShadow:"none"},children:[e.jsx("img",{src:"/images/person-icon.svg",className:"h-10 w-10 overflow-hidden rounded-full",alt:"User avatar"}),e.jsxs("div",{className:"flex flex-col items-start min-w-0",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-800 leading-tight break-words",children:s?.user?.name}),e.jsx("span",{className:"text-xs text-gray-500 leading-tight break-words",children:u})]}),e.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx(Q,{children:r&&e.jsx(Z.div,{initial:{opacity:0,y:-6,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-6,scale:.98},transition:{type:"spring",stiffness:260,damping:20},className:"absolute right-0 mt-2 w-[340px] bg-white border border-gray-200 rounded-2xl shadow-lg z-50 overflow-hidden origin-top-right",children:e.jsx(oe,{user:s?.user,className:"border-0 p-4",actions:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(y,{href:route("profile.edit"),onClick:()=>a(!1),className:"flex-1 inline-flex items-center justify-center px-3 py-2 text-sm font-medium rounded-xl text-gray-700 border hover:bg-gray-50 transition-all",children:"Profile"}),e.jsx(y,{method:"post",href:route("logout"),as:"button",onClick:()=>a(!1),className:"flex-1 inline-flex items-center justify-center px-3 py-2 text-sm font-medium rounded-xl text-white bg-red-600 hover:bg-red-700 transition-all",children:"Sign Out"})]})})})})]})})]}),e.jsx(ue,{lang:d,setLang:g,open:c}),e.jsx("div",{className:`flex-1 overflow-y-auto bg-gray-50 ${c?"ml-64":"ml-0"}`,children:e.jsxs("div",{className:"px-6 py-6 space-y-6",children:[t,n]})})]})};function me({auth:t,article:n,stats:s,completed_users:r,not_completed_users:a}){const c=[{title:"Home",url:"/"},{title:"Articles",url:route("articles.index")},{title:"Completion Stats",url:""}];return e.jsxs(D,{breadcrumb:e.jsx(F,{header:`${n.title} - Stats`,links:c}),children:[e.jsx(B,{title:`Completion Stats - ${n.title}`}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl p-6",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),e.jsx("div",{className:"mt-2 text-3xl font-bold text-gray-900",children:s.total_users})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl p-6",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Completed"}),e.jsx("div",{className:"mt-2 text-3xl font-bold text-green-600",children:s.completed_count})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl p-6",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Not Completed"}),e.jsx("div",{className:"mt-2 text-3xl font-bold text-orange-600",children:s.not_completed_count})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl p-6",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Completion Rate"}),e.jsxs("div",{className:"mt-2 text-3xl font-bold text-blue-600",children:[s.completion_rate,"%"]})]})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl mb-6",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Completed Users (",s.completed_count,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:r.length>0?e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Accuracy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Best Accuracy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Typing Speed"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed At"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(l=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:l.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:l.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:l.accuracy?`${l.accuracy}%`:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-green-600",children:l.best_accuracy?`${l.best_accuracy}%`:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:l.typing_speed?`${l.typing_speed} WPM`:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:l.completed_at})})]},l.id))})]}):e.jsx("div",{className:"p-6 text-center text-gray-500",children:"No users have completed this article yet."})})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Not Completed Users (",s.not_completed_count,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:a.length>0?e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member Since"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(l=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:l.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:l.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:l.member_since})})]},l.id))})]}):e.jsx("div",{className:"p-6 text-center text-gray-500",children:"All users have completed this article!"})})]})]})]})}const we=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"}));function pe({datas:t,isEdit:n}){const s=n?"Edit Article":"Create Article",[r,a]=h.useState({title:t?.title??"",file:null,audio:null}),[c,l]=h.useState(null),[d,g]=h.useState(null),[f,u]=h.useState(!1),[o,b]=h.useState({}),N=h.useRef(null),C=h.useRef(null);h.useEffect(()=>{t&&(a({title:t.title||"",file:null,audio:null}),l(t.file?v(t.file,"files"):null),g(t.audio?v(t.audio,"audios"):null))},[t]);const v=(i,x)=>{if(!i)return null;if(typeof i=="string")return i.startsWith("http://")||i.startsWith("https://")||i.startsWith("/storage/")?i:`/storage/uploads/${x}/${i}`;if(i.file_path){const m=String(i.file_path);return m.startsWith("http://")||m.startsWith("https://")||m.startsWith("/storage/")?m:m.startsWith("storage/")?`/${m}`:m.startsWith("uploads/")?`/storage/${m}`:m.startsWith("public/")?`/storage/${m.replace(/^public\//,"")}`:`/storage/uploads/${x}/${m}`}if(i.url)return i.url;if(i.path){const m=i.path.replace(/^public\//,"");return i.path.startsWith("http")||i.path.startsWith("/")?i.path:`/storage/${m}`}return i.filename?`/storage/uploads/${x}/${i.filename}`:i.name?`/storage/uploads/${x}/${i.name}`:null},S=i=>i?typeof i=="string"?i.split("/").pop():i.title||i.filename||i.name||null:null,w=i=>{const{name:x,value:m}=i.target;a({...r,[x]:m})},_=i=>{const x=i.target.files[0];a({...r,file:x||null}),l(x?URL.createObjectURL(x):null)},A=i=>{const x=i.target.files[0];a({...r,audio:x||null}),g(x?URL.createObjectURL(x):null)},p=i=>{i.preventDefault(),u(!0),b({});const x={...r},m=new FormData;m.append("title",x.title??""),x.file&&m.append("file",x.file),x.audio&&m.append("audio",x.audio);const W=()=>u(!1);n?(m.append("_method","PATCH"),P.post(route("articles.update",t.id),m,{forceFormData:!0,onFinish:W,onError:H=>{b(H||{}),W()}})):P.post(route("articles.store"),m,{forceFormData:!0,onFinish:W,onError:H=>{b(H||{}),W()}})},M=[{title:"Home",url:"/"},{title:s,url:""}];return e.jsxs(D,{breadcrumb:e.jsx(F,{header:s,links:M}),children:[e.jsx(B,{title:s}),e.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50/30 mb-12",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"border-b mb-3",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n?"Edit Article":"Create New Article"}),e.jsx("p",{className:"text-sm text-gray-500",children:n?"Update the details of this article below.":"Fill out the form below to create a new article."})]}),e.jsxs("form",{onSubmit:p,className:"space-y-4",encType:"multipart/form-data",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),e.jsx("input",{name:"title",type:"text",value:r.title,onChange:w,className:`w-full border rounded-xl px-3 py-2 ${o.title?"border-red-500":""}`,placeholder:"Enter article title"}),o.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.title})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Select File ",e.jsx("span",{children:" "})]}),e.jsxs("div",{className:"flex items-center justify-center h-32 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 cursor-pointer relative bg-gray-50 hover:bg-blue-50 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",onClick:()=>{N.current&&N.current.click()},style:{minHeight:100},children:[e.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.txt",ref:N,onChange:_,className:"absolute inset-0 opacity-0 cursor-pointer",tabIndex:-1,style:{pointerEvents:"auto"},onClick:i=>i.stopPropagation()}),e.jsxs("div",{className:"text-center space-y-2 pointer-events-none",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-8 w-8 text-gray-400 pointer-events-none",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M12 16a1 1 0 0 1-1-1V9.414L8.707 11.707a1 1 0 1 1-1.414-1.414l4-4a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L13 9.414V15a1 1 0 0 1-1 1z"}),e.jsx("path",{d:"M4 18a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1z"})]}),e.jsx("div",{className:"text-sm text-gray-500 pointer-events-none",children:"Select a file or drag here"}),e.jsx("div",{className:"inline-block px-3 py-1 bg-blue-600 text-white rounded-xl text-sm hover:bg-blue-700 transition pointer-events-none",children:r.file?"Change file":"Select a file"})]})]}),o.file&&e.jsx("div",{className:"text-red-600 mt-2 text-sm",children:o.file}),c&&e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border rounded-xl p-3 mt-3 hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-xl flex items-center justify-center text-green-600",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-json2-icon lucide-file-json-2",children:[e.jsx("path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"}),e.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),e.jsx("path",{d:"M4 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1"}),e.jsx("path",{d:"M8 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1"})]})}),e.jsx("div",{className:"flex items-center mt-2 space-x-2 justify-center",children:e.jsx("p",{className:"text-sm font-medium text-gray-800",children:r.file?r.file.name:S(t?.file)||"Download"})})]}),e.jsx("button",{onClick:()=>l(null),className:"ml-4 text-gray-400  flex items-center justify-center",children:"✕"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Upload Audio ",e.jsx("span",{})]}),e.jsxs("div",{className:"flex items-center justify-center h-32 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 cursor-pointer relative bg-gray-50 hover:bg-blue-50 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",onClick:()=>{C.current&&C.current.click()},style:{minHeight:100},children:[e.jsx("input",{type:"file",accept:"audio/*",ref:C,onChange:A,className:"absolute inset-0 opacity-0 cursor-pointer",tabIndex:-1,style:{pointerEvents:"auto"},onClick:i=>i.stopPropagation()}),e.jsxs("div",{className:"text-center space-y-2 pointer-events-none",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-8 w-8 text-gray-400 pointer-events-none",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M12 16a1 1 0 0 1-1-1V9.414L8.707 11.707a1 1 0 1 1-1.414-1.414l4-4a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L13 9.414V15a1 1 0 0 1-1 1z"}),e.jsx("path",{d:"M4 18a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1z"})]}),e.jsx("div",{className:"text-sm text-gray-500 pointer-events-none",children:"Select an audio file or drag here"}),e.jsx("div",{className:"inline-block px-3 py-1 bg-blue-600 text-white rounded-xl text-sm hover:bg-blue-700 transition pointer-events-none",children:r.audio?"Change Audio":"Select Audio"})]})]}),o.audio&&e.jsx("div",{className:"text-red-600 mt-2 text-sm",children:o.audio}),d&&e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border rounded-xl p-3 mt-3 hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-xl flex items-center justify-center text-blue-600",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 18V5l12-2v13"}),e.jsx("circle",{cx:"6",cy:"18",r:"3"}),e.jsx("circle",{cx:"18",cy:"16",r:"3"})]})}),e.jsxs("div",{className:"flex items-center justify-between w-full space-x-4 mt-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:r.audio?.name||S(t?.audio)||"Play Audio"}),e.jsx("audio",{src:d,controls:!0,preload:"metadata",className:"w-96 border rounded-xl"},d)]})]}),e.jsx("button",{onClick:()=>g(null),className:"ml-4 text-gray-400  flex items-center justify-center",children:"✕"})]})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-3 pt-6 mt-6 border-t border-gray-200",children:[e.jsx(y,{href:route("articles.index"),className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl text-gray-600 border-2 hover:bg-gray-50 hover:border-gray-300  transition duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",className:"inline-flex items-center justify-center px-8 py-2 text-sm font-medium rounded-xl text-white bg-gradient-to-r from-blue-500 to-blue-500 transition duration-200 hover:from-blue-500 hover:to-blue-600",disabled:f,children:f?n?"Updating...":"Saving...":n?"Update Article":"Create Article"})]})]})]})})})]})}const ke=Object.freeze(Object.defineProperty({__proto__:null,default:pe},Symbol.toStringTag,{value:"Module"}));function ge(t,n=""){const[s,r]=h.useState(n);return{searchTerm:s,handleSearch:l=>{const d=l.target.value;r(d),P.get(route(t),{search:d},{preserveState:!0,replace:!0})},clearSearch:()=>{r(""),P.get(route(t),{},{preserveState:!0,replace:!0})}}}function fe(t){const[n,s]=h.useState(!1),[r,a]=h.useState(null),[c,l]=h.useState(!1);return{showModal:n,target:r,processing:c,openModal:u=>{a(u),s(!0)},closeModal:()=>{c||(s(!1),a(null))},confirmDelete:u=>{u?.preventDefault?.(),r&&(l(!0),P.delete(route(t,r.id),{preserveScroll:!0,onFinish:()=>{l(!1),s(!1),a(null)}}))}}}function Ce(t){const[n,s]=h.useState(!1),[r,a]=h.useState(null),[c,l]=h.useState(!1);return{showModal:n,target:r,processing:c,openModal:u=>{a(u),s(!0)},closeModal:()=>{c||(s(!1),a(null))},confirm:async()=>{if(!(!r&&r!==null)){l(!0);try{await t(r)}finally{l(!1),s(!1),a(null)}}}}}const z=(t,n)=>{if(!t)return null;if(typeof t=="string")return t.startsWith("http://")||t.startsWith("https://")||t.startsWith("/storage/")?t:`/storage/uploads/${n}/${t}`;if(t.file_path){const s=String(t.file_path);return s.startsWith("http://")||s.startsWith("https://")||s.startsWith("/storage/")?s:s.startsWith("storage/")?`/${s}`:s.startsWith("uploads/")?`/storage/${s}`:s.startsWith("public/")?`/storage/${s.replace(/^public\//,"")}`:`/storage/uploads/${n}/${s}`}if(t.url)return t.url;if(t.path){const s=t.path.replace(/^public\//,"");return t.path.startsWith("http")||t.path.startsWith("/")?t.path:`/storage/${s}`}return t.filename?`/storage/uploads/${n}/${t.filename}`:t.name?`/storage/uploads/${n}/${t.name}`:null},je=t=>t?t.split(".").pop().toLowerCase():"",O=t=>je(t)==="txt";function be({articles:t,search:n=""}){const{auth:s}=R().props,r=s?.can??{},a=t?.data||[],{searchTerm:c,handleSearch:l}=ge("articles.index",n),d=fe("articles.destroy"),[g,f]=h.useState(!1),[u,o]=h.useState(null),[b,N]=h.useState(""),[C,v]=h.useState(!1),S=async p=>{o(p),N(""),f(!0),v(!0);const M=p.file?.title||p.file?.filename||"",i=z(p.file,"files");if(O(M)&&i)try{const x=await fetch(i);if(x.ok){const m=await x.text();N(m)}}catch(x){console.error("Failed to load file:",x)}v(!1)},w="Articles List",_=[{title:"Home",url:"/"},{title:w,url:""}],A=p=>{const M=p.user.roles?.some(x=>["Admin","Instructor"].includes(x.name)),i=p.user.permissions?.some(x=>x.name==="articles-view");return M||i};return e.jsxs(D,{breadcrumb:e.jsx(F,{header:w,links:_}),children:[e.jsx(B,{title:w}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Articles"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(ce,{value:c,onChange:l,placeholder:"Search articles..."}),r["article-create"]&&r["article-list"]&&e.jsxs(y,{href:route("articles.create"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm text-white bg-green-600 hover:bg-green-500 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:[e.jsx(Y,{className:"w-4 h-4"}),"Add Article"]})]})]}),e.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200",children:e.jsxs("table",{className:"min-w-full table-auto",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"ID"}),e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Title"}),e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"File"}),e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Audio"}),e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Created"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Actions"})]})}),e.jsx("tbody",{className:"text-sm divide-y divide-gray-200 bg-white",children:a.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:"No articles found"})}):a.map(p=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-all duration-200",children:[e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:p.id}),e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:p.title}),e.jsx("td",{className:"px-4 py-3",children:p.file?e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-gray-700 text-xs truncate max-w-[150px]",children:p.file.title}),e.jsx("span",{className:"text-gray-500 text-xs",children:p.file.word_count>0?`${p.file.word_count} words`:"N/A"})]}):e.jsx("span",{className:"text-gray-400 text-xs",children:"No file"})}),e.jsx("td",{className:"px-4 py-3",children:p.audio?e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("audio",{controls:!0,className:"h-8",src:z(p.audio,"audios"),children:"Your browser does not support audio."})}):e.jsx("span",{className:"text-gray-400 text-xs",children:"No audio"})}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:new Date(p.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r["article-list"]&&e.jsx(T,{onClick:()=>S(p),icon:G,tooltip:"View Article",variant:"blue"}),A(s)&&e.jsx(y,{href:route("articles.completion-stats",p.id),children:e.jsx(T,{icon:V,tooltip:"View Statistics",variant:"green"})}),r["article-edit"]&&e.jsx(y,{href:route("articles.edit",p.id),children:e.jsx(T,{icon:J,tooltip:"Edit Article",variant:"yellow"})}),r["article-delete"]&&e.jsx(T,{onClick:()=>d.openModal(p),icon:K,tooltip:"Delete Article",variant:"red"})]})})]},p.id))})]})}),e.jsx("div",{className:"mt-6",children:e.jsx(de,{links:t.links})})]}),e.jsx(xe,{show:d.showModal,onClose:d.closeModal,onConfirm:d.confirmDelete,title:"Delete Article",message:`Are you sure you want to delete "${d.target?.title}"? This action cannot be undone.`,confirmText:"Delete",confirmStyle:"danger",processing:d.processing}),e.jsx(he,{show:g,onClose:()=>f(!1),maxWidth:"4xl",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:u?.title}),u?.file&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"File"}),e.jsxs("div",{className:"border rounded-xl p-4 bg-gray-50",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:"Filename:"})," ",u.file.title]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:"Word Count:"})," ",u.file.word_count||"N/A"]}),C?e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading file preview..."}):O(u.file.title)&&b?e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Preview:"}),e.jsx("pre",{className:"bg-white border rounded-xl p-3 text-xs max-h-64 overflow-auto",children:b})]}):e.jsx("a",{href:z(u.file,"files"),target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 text-blue-600 hover:underline text-sm",children:"Download File"})]})]}),u?.audio&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Audio"}),e.jsxs("div",{className:"border rounded-xl p-4 bg-gray-50",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[e.jsx("strong",{children:"Filename:"})," ",u.audio.title]}),e.jsx("audio",{controls:!0,className:"w-full",src:z(u.audio,"audios"),children:"Your browser does not support audio playback."})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>f(!1),className:"px-6 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:"Close"})})]})})]})}const Se=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"}));function ve({articles:t,progress:n,nextUnlock:s,currentArticle:r}){const{flash:a,auth:c}=R().props,[l,d]=h.useState(null);h.useEffect(()=>{if(!s?.time_remaining?.total_seconds)return;const o=()=>{const v=new Date(s.available_at)-new Date;if(v<=0){d(null),window.location.reload();return}const S=Math.floor(v/(1e3*60*60*24)),w=Math.floor(v%(1e3*60*60*24)/(1e3*60*60)),_=Math.floor(v%(1e3*60*60)/(1e3*60)),A=Math.floor(v%(1e3*60)/1e3);d({days:S,hours:w,minutes:_,seconds:A})};o();const b=setInterval(o,1e3);return()=>clearInterval(b)},[s]);const g=o=>o.is_passed?e.jsx(U,{className:"w-6 h-6 text-green-500"}):o.is_completed?e.jsx(U,{className:"w-6 h-6 text-blue-500"}):o.is_available?e.jsx(ae,{className:"w-6 h-6 text-blue-600"}):o.available_at?e.jsx(E,{className:"w-6 h-6 text-orange-500"}):e.jsx(le,{className:"w-6 h-6 text-gray-400"}),f=o=>o.is_passed?"Passed":o.is_completed?"Completed":o.is_available?"Available":o.availability_reason,u=o=>o.is_passed?"border-green-200 bg-green-50":o.is_completed?"border-blue-200 bg-blue-50":o.is_available?"border-blue-300 bg-white hover:shadow-sm cursor-pointer":"border-gray-200 bg-gray-50 opacity-75";return e.jsxs(D,{breadcrumb:e.jsx(F,{header:"Article Settings",links:[{title:"Home",url:"/"},{title:"Article Settings",url:""}]}),children:[e.jsx(B,{title:"Article Settings"}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[a?.error&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center gap-2 text-red-700",children:[e.jsx(X,{className:"w-5 h-5"}),a.error]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(ee,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Progress"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[n.completion_percentage,"%"]})]})]}),e.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${n.completion_percentage}%`}})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(U,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[n.completed_count," / ",n.total_articles]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:e.jsx(te,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.in_progress_count})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:e.jsx(se,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Passed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.passed_count})]})]})})]}),r&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-yellow-500"}),"Continue Learning"]}),e.jsx(y,{href:route("learn.articles.show",r.article.id),className:"block bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl shadow-sm p-6 text-white hover:from-blue-700 hover:to-blue-800 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-1",children:r.article.title}),e.jsx("p",{className:"text-blue-100 text-sm",children:r.setting?.description||"Continue where you left off"}),r.setting?.typing_mode==="nlp_la"&&e.jsxs("span",{className:"inline-flex items-center gap-1 mt-2 px-2 py-1 bg-white/20 rounded-full text-xs",children:[e.jsx(V,{className:"w-3 h-3"}),"Full Analytics Enabled"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:"Start Now"}),e.jsx(q,{className:"w-6 h-6"})]})]})})]}),s&&l&&e.jsxs("div",{className:"mb-8 bg-orange-50 border border-orange-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(E,{className:"w-6 h-6 text-orange-600"}),e.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"Next Article Unlocks In"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex gap-3",children:[l.days>0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-700",children:l.days}),e.jsx("div",{className:"text-xs text-orange-600",children:"days"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-700",children:String(l.hours).padStart(2,"0")}),e.jsx("div",{className:"text-xs text-orange-600",children:"hours"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-700",children:String(l.minutes).padStart(2,"0")}),e.jsx("div",{className:"text-xs text-orange-600",children:"min"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-700",children:String(l.seconds).padStart(2,"0")}),e.jsx("div",{className:"text-xs text-orange-600",children:"sec"})]})]}),e.jsxs("div",{className:"ml-6 text-orange-700",children:[e.jsx("p",{className:"font-medium",children:s.article.title}),e.jsx("p",{className:"text-sm",children:"will be available soon"})]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Articles"})}),e.jsx("div",{className:"space-y-3",children:t.map((o,b)=>e.jsx("div",{children:o.is_available&&!o.is_completed?e.jsx(y,{href:route("learn.articles.show",o.article.id),className:`block rounded-xl border-2 p-5 transition-all ${u(o)}`,children:e.jsx(I,{item:o,index:b,getArticleStatusIcon:g,getArticleStatusText:f})}):e.jsx("div",{className:`rounded-xl border-2 p-5 ${u(o)}`,children:e.jsx(I,{item:o,index:b,getArticleStatusIcon:g,getArticleStatusText:f})})},o.article.id))})]})})]})}function I({item:t,index:n,getArticleStatusIcon:s,getArticleStatusText:r}){return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center font-bold ${t.is_completed?"bg-green-200 text-green-700":t.is_available?"bg-blue-200 text-blue-700":"bg-gray-200 text-gray-500"}`,children:n+1}),e.jsxs("div",{className:"flex-grow min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:`font-semibold truncate ${t.is_available?"text-gray-900":"text-gray-500"}`,children:t.article.title}),t.setting?.typing_mode==="nlp_la"&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full text-xs transition-all duration-200 ease-in-out hover:scale-105",children:[e.jsx(V,{className:"w-3 h-3"}),"Full"]})]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.setting?.description||"Transcription practice"}),t.best_accuracy!==null&&e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Best score: ",t.best_accuracy,"% (",t.attempt_count," attempts)"]})]}),e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[s(t),e.jsx("span",{className:`text-sm font-medium ${t.is_passed?"text-green-600":t.is_completed||t.is_available?"text-blue-600":"text-gray-500"}`,children:r(t)})]}),t.available_at&&!t.is_available&&e.jsx("p",{className:"text-xs text-orange-600 mt-1",children:new Date(t.available_at).toLocaleDateString()})]}),t.is_available&&!t.is_completed&&e.jsx(q,{className:"w-5 h-5 text-gray-400"})]})]})}const _e=Object.freeze(Object.defineProperty({__proto__:null,default:ve},Symbol.toStringTag,{value:"Module"}));export{D as A,we as C,Se as I,_e as P,Ce as a,ke as b,ge as u};
