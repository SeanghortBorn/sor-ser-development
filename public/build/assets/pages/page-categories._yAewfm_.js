import{v,j as e,a9 as N,r as b,aq as k,L as j,ar as E,as as M,at as A,ad as F,ae as L}from"../vendor/vendor-common.DkKXL0Tk.js";import{e as f,b as y,d as O,M as P}from"../components/components-common.qHFXWbqp.js";import{A as w}from"./page-articles.DcfUkLYT.js";function T({datas:s}){const{data:l,setData:d,post:o,patch:m,errors:a,reset:c,processing:n,recentlySuccessful:p}=v({name:s.name?s.name:"",view_order:s.view_order?s.view_order:""}),x=r=>{r.preventDefault(),s.id?m(route("categories.update",s.id),{onFinish:()=>{c()}}):o(route("categories.store"),{preserveState:!0},{onFinish:()=>{c()}})},i="Category Create",g=[{title:"Home",url:"/"},{title:i,url:""}];return e.jsxs(w,{breadcrumb:e.jsx(y,{header:i,links:g}),children:[e.jsx(N,{title:i}),e.jsx("section",{className:"content",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"card card-outline card-info",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Register Data Management"})}),e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"text-uppercase",htmlFor:"title",children:[e.jsx("span",{className:"text-danger",children:"*"}),"Title"]}),e.jsx("input",{value:l.name,onChange:r=>d("name",r.target.value),type:"text",name:"title",className:`form-control ${a.name&&"is-invalid"}`,id:"title"}),e.jsx(f,{className:"mt-2",message:a.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"text-uppercase",htmlFor:"view_order",children:[e.jsx("span",{className:"text-danger",children:"*"}),"Order"]}),e.jsx("input",{value:l.view_order,onChange:r=>d("view_order",r.target.value),type:"number",name:"view_order",className:`form-control ${a.view_order&&"is-invalid"}`,id:"view_order"}),e.jsx(f,{className:"mt-2",message:a.view_order})]})]}),e.jsx("div",{className:"card-footer clearfix",children:e.jsx("button",{disabled:n,type:"submit",className:"btn btn-primary",children:n?s?.id?"Updating...":"Saving...":s?.id?"Update":"Save"})})]})]})})})})]})}const R=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"}));function I({categoryData:s}){const l=s.data,[d,o]=b.useState(!1),[m,a]=b.useState({}),{data:c,setData:n,delete:p,processing:x,reset:i,errors:g,clearErrors:r}=v({id:"",name:""}),C=t=>{a(t),n("id",t.id),n("name",t.name),o(!0)},h=()=>{o(!1),a({}),r(),i()},_=t=>{t.preventDefault(),p(route("categories.destroy",m.id),{preserveScroll:!0,onSuccess:()=>h(),onFinish:()=>i()})},u="Category List",D=[{title:"Home",url:"/"},{title:u,url:""}];return e.jsxs(w,{breadcrumb:e.jsx(y,{header:u,links:D}),children:[e.jsx(N,{title:u}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:e.jsxs("div",{className:"bg-white px-3 pb-2 pt-3 border-l-4 border-blue-100 shadow-sm rounded-2xl flex flex-col hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-800 text-base font-semibold",children:"Total Categories"}),e.jsx("div",{className:"text-blue-500",children:e.jsx(k,{className:"w-7 h-7"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:s.total||l.length}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All categories in the system"})]})]})}),e.jsxs("div",{className:"bg-white shadow-sm rounded-2xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b flex flex-col md:flex-row justify-between items-center gap-3",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Category Management"}),e.jsx("div",{className:"flex items-center gap-3 ml-auto",children:e.jsxs(j,{href:route("categories.create"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm text-white bg-green-600 hover:bg-green-500 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:[e.jsx(E,{className:"w-4 h-4"}),"Add Category"]})})]}),e.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-4 px-6 font-semibold",children:"#ID"}),e.jsx("th",{className:"py-4 px-6 font-semibold",children:"Name"}),e.jsx("th",{className:"py-4 px-6 font-semibold",children:"View Order"}),e.jsx("th",{className:"py-4 px-6 font-semibold",children:"Created At"}),e.jsx("th",{className:"py-4 px-6 text-center font-semibold",children:"Actions"})]})}),e.jsx("tbody",{className:"text-sm text-gray-700 bg-white divide-y divide-gray-200",children:l.length>0?l.map((t,S)=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-all duration-200",children:[e.jsx("td",{className:"py-4 px-6 font-semibold text-gray-900",children:t?.id}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-medium text-gray-900",children:t?.name})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:t?.view_order})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[e.jsx(A,{className:"w-3.5 h-3.5"}),M(t?.created_at).format("DD/MM/YYYY")]})}),e.jsx("td",{className:"py-4 px-6 text-center",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(j,{href:route("categories.edit",t.id),className:"inline-flex items-center gap-1.5 px-2 py-2 text-sm font-medium rounded-xl bg-blue-500 text-white hover:bg-blue-600 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:e.jsx(F,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-white text-gray-800 text-xs px-3 py-1 rounded-xl shadow-sm border",children:"Edit Category"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("button",{onClick:()=>C(t),className:"inline-flex items-center gap-1.5 px-2 py-2 text-sm font-medium rounded-xl bg-red-500 text-white hover:bg-red-600 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-sm active:scale-95",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-white text-gray-800 text-xs px-3 py-1 rounded-xl shadow-sm border",children:"Delete Category"})]})]})})]},S)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"py-8 text-center text-gray-500",children:"No categories found"})})})]})}),e.jsx("div",{className:"px-6 py-4 border-t bg-gray-50",children:e.jsx(O,{links:s.links})})]}),e.jsx(P,{show:d,onClose:h,children:e.jsxs("form",{onSubmit:_,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Confirm Deletion"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Are you sure you want to delete ",e.jsx("span",{className:"text-lg font-medium text-red-600",children:c.name}),"?"]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"This action cannot be undone."}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 text-sm font-medium rounded-xl text-gray-700 border-2 hover:bg-gray-50 hover:border-gray-300 transition duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 text-sm font-medium rounded-xl text-white bg-red-600 hover:bg-red-700 transition duration-200 disabled:opacity-50",children:x?"Deleting...":"Delete"})]})]})})]})}const z=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{R as C,z as I};
