import{r as o,s as A,j as e,K,u as U,L as V,a8 as L,a7 as H}from"../vendor/vendor-common.B-BNyr_k.js";import{M as z,I as N,T as k,e as y,m as T,b as J,H as X}from"../components/components-common.BmRY9Cl9.js";import{a as Z}from"./page-articles.B3vHdArU.js";function M({className:f=""}){const[d,x]=o.useState(!1),s=o.useRef(),{data:a,setData:l,delete:j,processing:p,reset:h,errors:u,clearErrors:g}=A({password:""}),c=()=>{x(!0)},m=t=>{t.preventDefault(),j(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>b(),onError:()=>s.current.focus(),onFinish:()=>h()})},b=()=>{x(!1),g(),h()};return e.jsxs("section",{className:`space-y-6 ${f}`,children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Delete Account"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Deleting your account will permanently remove all your data. Please download anything you want to keep before proceeding."})]}),e.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-2 border-2 border-red-500 rounded-xl font-semibold text-red-500 hover:bg-red-50 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M9 7V4a1 1 0 011-1h4a1 1 0 011 1v3m-9 0h10"})}),e.jsx("span",{className:"text-sm",children:d?"Delete":"Delete Account"})]}),e.jsx(z,{show:d,onClose:b,maxWidth:"lg",children:e.jsxs("form",{onSubmit:m,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Are you sure you want to delete your account?"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Once your account is deleted, all of its resources and data will be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),e.jsxs("div",{className:"mt-6",children:[e.jsx(N,{htmlFor:"password",value:"Password",className:"sr-only"}),e.jsx(k,{id:"password",type:"password",name:"password",ref:s,value:a.password,onChange:t=>l("password",t.target.value),className:"mt-1 block w-full",isFocused:!0,placeholder:"Password"}),e.jsx(y,{message:u.password,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4",children:[e.jsx("button",{type:"button",onClick:b,className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold disabled:opacity-60",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:p,className:"rounded-[10px] px-9 py-1 bg-red-600 text-white font-semibold hover:bg-red-700 transition disabled:opacity-60",children:p?"Deleting...":"Delete Account"})]})]})})]})}const ae=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));function O({className:f=""}){const d=o.useRef(),x=o.useRef(),[s,a]=o.useState(!1),[l,j]=o.useState(!0),{data:p,setData:h,errors:u,put:g,reset:c,processing:m,recentlySuccessful:b}=A({current_password:"",password:"",password_confirmation:""}),t=n=>{n.preventDefault(),g(route("password.update"),{preserveScroll:!0,onSuccess:()=>{c(),a(!1)},onError:w=>{w.password&&(c("password","password_confirmation"),d.current.focus()),w.current_password&&(c("current_password"),x.current.focus())}})};return e.jsxs("section",{className:f,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Change Password"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Keep your account secure by updating your password regularly."})]}),e.jsxs("button",{onClick:()=>a(!0),className:"flex items-center space-x-2 px-4 py-2 border-2 border-blue-500 rounded-xl font-semibold text-blue-600 hover:bg-blue-50 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),e.jsx("span",{className:"text-sm",children:s?"Cancel":"Edit"})]})]}),e.jsx("div",{className:"mb-6 bg-blue-50 border-l-4 border-blue-400 rounded p-4",children:e.jsxs("ul",{className:"list-disc list-inside text-gray-700 text-sm space-y-2",children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-medium text-red-500",children:"Change your password regularly"})," ","to keep your account safe."]}),e.jsxs("li",{children:["Use a"," ",e.jsx("span",{className:"font-medium text-red-500",children:"strong password"})," ","with a mix of letters, numbers, and symbols."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-medium text-red-500",children:"Avoid simple passwords"})," ",'like "123456" or your name, and donâ€™t reuse passwords from other sites.']}),e.jsx("li",{children:"After changing your password, your old password will no longer work. Use your new password the next time you log in."})]})}),s&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onMouseDown:n=>{n.target===n.currentTarget&&a(!1)},children:e.jsxs("form",{onSubmit:t,className:"bg-white rounded-2xl w-full max-w-xl p-8 shadow-xl border border-gray-200",onMouseDown:n=>n.stopPropagation(),children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Change Password"}),e.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"Update your password to keep your account secure."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"current_password",value:"Current Password"}),e.jsx("div",{className:"relative",children:e.jsx(k,{id:"current_password",ref:x,value:p.current_password,onChange:n=>h("current_password",n.target.value),type:l?"text":"password",className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm pr-10",autoComplete:"current-password",placeholder:"Enter your current password"})}),e.jsx(y,{message:u.current_password,className:"mt-2 text-sm text-red-500"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"password",value:"New Password"}),e.jsx(k,{id:"password",ref:d,value:p.password,onChange:n=>h("password",n.target.value),type:"password",className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm",autoComplete:"new-password",placeholder:"Enter a new password"}),e.jsx(y,{message:u.password,className:"mt-2 text-sm text-red-500"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"password_confirmation",value:"Confirm Password"}),e.jsx(k,{id:"password_confirmation",value:p.password_confirmation,onChange:n=>h("password_confirmation",n.target.value),type:"password",className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm",autoComplete:"new-password",placeholder:"Re-enter your new password"}),e.jsx(y,{message:u.password_confirmation,className:"mt-2 text-sm text-red-500"})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),disabled:m,className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold disabled:opacity-60",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"rounded-[10px] px-9 py-1 bg-blue-600 text-white font-semibold hover:bg-blue-700 transition disabled:opacity-60",children:m?"Saving...":"Save"})]}),e.jsx(K,{show:b,enter:"transition ease-in-out",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-green-600 font-medium mt-2",children:"Password updated successfully."})})]})})]})}const oe=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"}));function I({mustVerifyEmail:f,status:d,className:x=""}){const s=U().props.auth.user,[a,l]=o.useState(!1),[j,p]=o.useState({info:!1}),[h,u]=o.useState(!1),[g,c]=o.useState(!1),m=o.useRef(null),b=o.useRef(null),t=A({name:s.name||"",email:s.email,age:s.age||"",education_level:s.education_level||"",khmer_experience:s.khmer_experience||""}),n=r=>{r.preventDefault(),t.patch(route("profile.update"),{onSuccess:()=>{l(!1),p({info:!0}),setTimeout(()=>p({info:!1}),2e3)}})};o.useEffect(()=>{function r(S){m.current&&!m.current.contains(S.target)&&b.current&&!b.current.contains(S.target)&&(u(!1),c(!1))}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[]);const w=[{value:"",label:"Select Experience Level"},{value:"None",label:"None"},{value:"Beginner",label:"Beginner"},{value:"Intermediate",label:"Intermediate"},{value:"Advanced",label:"Advanced"},{value:"Expert",label:"Expert"}],C=[{value:"",label:"Select Education Level"},{value:"Primary",label:"Primary"},{value:"Secondary",label:"Secondary"},{value:"High School",label:"High School"},{value:"Bachelor",label:"Bachelor"},{value:"Master",label:"Master"},{value:"Doctorate",label:"Doctorate"},{value:"Other",label:"Other"}];return e.jsx("section",{className:x,children:e.jsxs("div",{className:"pt-2 mx-auto max-w-7xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Noted: "}),"To update your personal information, please verify your email address first."]})]}),e.jsxs("button",{onClick:()=>l(r=>!r),className:"flex items-center space-x-2 px-4 py-2 border-2 border-blue-500 rounded-xl font-semibold text-blue-600 hover:bg-blue-50 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),e.jsx("span",{className:"text-sm",children:a?"Cancel":"Edit"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Full Name"}),e.jsx("div",{className:"text-gray-900 font-medium",children:s.name?s.name:"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Email Address"}),e.jsx("div",{className:"text-gray-900 font-medium",children:s.email?s.email:"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Age"}),e.jsx("div",{className:"text-gray-900 font-medium",children:s.age?s.age:"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Education Level"}),e.jsx("div",{className:"text-gray-900 font-medium",children:s.education_level?s.education_level:"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Khmer Writing Experience"}),e.jsx("div",{className:"text-gray-900 font-medium",children:s.khmer_experience?s.khmer_experience:"N/A"})]})]}),e.jsx(z,{show:a,onClose:()=>l(!1),maxWidth:"2xl",children:e.jsxs("form",{onSubmit:n,className:"bg-white w-full max-w-2xl p-8 shadow-xl border border-gray-200",onMouseDown:r=>r.stopPropagation(),children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Edit Personal Information"}),e.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"Update your details to keep your profile up-to-date."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"email",value:"Email Address"}),e.jsx(k,{id:"email",type:"email",value:t.data.email,placeholder:"Enter your email",onChange:r=>t.setData("email",r.target.value),className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm"}),e.jsx(y,{className:"mt-1 text-sm text-red-500",message:t.errors.email})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"name",value:"Full Name"}),e.jsx(k,{id:"name",value:t.data.name,placeholder:"Enter your full name",onChange:r=>t.setData("name",r.target.value),className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm"}),e.jsx(y,{className:"mt-1 text-sm text-red-500",message:t.errors.name})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"age",value:"Age"}),e.jsx(k,{id:"age",type:"number",value:t.data.age,placeholder:"Enter your age",onChange:r=>t.setData("age",r.target.value),className:"mt-1 block w-full rounded-xl border border-gray-300 shadow-sm"}),e.jsx(y,{className:"mt-1 text-sm text-red-500",message:t.errors.age})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",ref:m,children:[e.jsx("label",{htmlFor:"khmer_experience",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Khmer Writing Experience"}),e.jsxs("button",{type:"button",className:`w-full px-3 py-2 text-[18px] rounded-xl border bg-white shadow-sm text-left flex justify-between items-center focus:outline-none focus:ring-2 ${t.errors.khmer_experience?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"}`,onClick:()=>{u(!h),c(!1)},children:[w.find(r=>r.value===t.data.khmer_experience)?.label||"Select Experience Level",e.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform ${h?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h&&e.jsx("div",{className:"absolute right-0 bottom-full mb-0 w-full bg-white border border-gray-200 rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto hide-scrollbar",children:e.jsx("div",{className:"px-2 py-2 space-y-1",children:w.map(r=>e.jsx("button",{type:"button",className:`flex items-center w-full text-left px-4 py-2 text-[16px] rounded-lg transition ${t.data.khmer_experience===r.value?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"}`,onClick:()=>{t.setData("khmer_experience",r.value),u(!1)},children:r.label},r.value))})}),e.jsx(y,{message:t.errors.khmer_experience,className:"mt-1"})]}),e.jsxs("div",{className:"relative",ref:b,children:[e.jsx("label",{htmlFor:"education_level",className:"block text-md text-[#222a54] font-semibold mb-2",children:"Education Level"}),e.jsxs("button",{type:"button",className:`w-full px-3 py-2 text-[18px] rounded-xl border bg-white shadow-sm text-left flex justify-between items-center focus:outline-none focus:ring-2 ${t.errors.education_level?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-gray-300 focus:ring-blue-200 focus:border-blue-400"}`,onClick:()=>{c(!g),u(!1)},children:[C.find(r=>r.value===t.data.education_level)?.label||"Select Education Level",e.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform ${g?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),g&&e.jsx("div",{className:"absolute right-0 bottom-full mb-1 w-full bg-white border border-gray-200 rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto hide-scrollbar",children:e.jsx("div",{className:"px-2 py-2 space-y-1",children:C.map(r=>e.jsx("button",{type:"button",className:`flex items-center w-full text-left px-4 py-2 text-[16px] rounded-lg transition ${t.data.education_level===r.value?"bg-blue-100 text-blue-700 font-bold":"hover:bg-gray-100 text-gray-700"}`,onClick:()=>{t.setData("education_level",r.value),c(!1)},children:r.label},r.value))})}),e.jsx(y,{message:t.errors.education_level,className:"mt-1"})]})]})]}),f&&s.email_verified_at===null&&e.jsxs("div",{className:"text-sm mt-2",children:[e.jsxs("p",{className:"text-blue-700",children:["Your email address is unverified."," ",e.jsx(V,{href:route("verification.send"),method:"post",as:"button",className:"font-medium underline hover:text-blue-900",children:"Click here to re-send the verification email."})]}),d==="verification-link-sent"&&e.jsx("p",{className:" font-medium text-green-600",children:"A new verification link has been sent."})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),disabled:t.processing,className:"rounded-[10px] border-2 border-gray-300 px-8 py-1 text-gray-700 hover:bg-gray-100 transition font-semibold disabled:opacity-60",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:t.processing,className:"rounded-[10px] px-9 py-1 bg-blue-600 text-white font-semibold hover:bg-blue-700 transition disabled:opacity-60",children:t.processing?"Saving...":"Save"})]}),e.jsx(K,{show:j.info,enter:"transition ease-in-out duration-150",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-green-600 font-medium mt-2",children:"Profile updated successfully."})})]})})]})})}const ne=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"})),R=({className:f=""})=>{const{auth:d}=U().props,[x,s]=o.useState(!1),[a,l]=o.useState(!1),[j,p]=o.useState(!1),[h,u]=o.useState(null),[g,c]=o.useState(null),[m,b]=o.useState([]),[t,n]=o.useState(""),[w,C]=o.useState(!1),[r,S]=o.useState(!1),_=A({code:""}),v=d.user?.two_factor_enabled,W=v&&!d.user?.two_factor_confirmed_at;o.useEffect(()=>{W?(l(!0),$()):v&&d.user?.two_factor_confirmed_at&&(l(!1),E(),u(null),c(null))},[v,d.user?.two_factor_confirmed_at]);const $=async()=>{try{const i=await fetch(route("two-factor.qr-code"));if(i.ok){const D=await i.json();u(D.svg);const B=await fetch(route("two-factor.secret-key"));if(B.ok){const F=await B.json();if(F.secret)c(F.secret);else{const P=F.secretKey||F.key||Object.values(F)[0];P&&typeof P=="string"&&c(P)}}}}catch(i){console.error("Error fetching 2FA data:",i)}},E=async()=>{try{const i=await fetch(route("two-factor.recovery-codes"));if(i.ok){const D=await i.json();b(D)}}catch(i){console.error("Error fetching recovery codes:",i)}},Q=()=>{s(!0),L.post(route("two-factor.enable"),{},{preserveScroll:!0,onSuccess:()=>{l(!0),$()},onError:()=>s(!1),onFinish:()=>s(!1)})};o.useEffect(()=>{a||(_.reset(),n(""))},[a,v]);const Y=()=>{C(!0),_.post(route("two-factor.confirm"),{preserveScroll:!0,onSuccess:()=>{l(!1),_.reset(),n(""),E()},onError:i=>{n(i.code||_.errors.code||"Invalid authentication code.")},onFinish:()=>C(!1)})},q=()=>{S(!0),L.post(route("two-factor.regenerate-recovery-codes"),{},{preserveScroll:!0,onSuccess:async()=>{await E()},onFinish:()=>S(!1)})},G=()=>{p(!0),L.delete(route("two-factor.disable"),{preserveScroll:!0,onSuccess:()=>{u(null),c(null),b([]),l(!1)},onFinish:()=>p(!1)})};return e.jsxs("section",{className:`space-y-6 ${f}`,children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add additional security to your account using two factor authentication."})]}),e.jsxs("div",{className:"max-w-xl",children:[v&&!a?e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"You have enabled Two-Factor Authentication."}):v&&a?e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Finish enabling Two-Factor Authentication."}):e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"You have not enabled Two-Factor Authentication."}),e.jsx("div",{className:"mt-3 text-sm text-gray-600",children:e.jsx("p",{children:"When two factor authentication is enabled, you will be prompted for a secure, random token during authentication. You may retrieve this token from your phone's Google Authenticator application."})}),v&&e.jsxs("div",{className:"mt-4",children:[a&&h&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-semibold mb-2 text-sm text-gray-600",children:a?"To finish enabling two factor authentication, scan the following QR code using your phone's authenticator application.":"Two factor authentication is now enabled. Scan the following QR code using your phone's authenticator application."}),e.jsx("div",{dangerouslySetInnerHTML:{__html:h},className:"p-2 inline-block bg-white border border-gray-200 rounded"})]}),a&&g&&e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[e.jsxs("p",{className:"font-semibold",children:["Setup Key:"," ",e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:g})]}),e.jsx("p",{className:"mt-1",children:"If you can't scan the QR code, you can manually enter this setup key into your Authenticator App."})]}),a&&e.jsxs("div",{className:"mt-2",children:[e.jsx(N,{htmlFor:"code",value:"Authentication Code"}),e.jsx(k,{id:"code",value:_.data.code,onChange:i=>_.setData("code",i.target.value),type:"text",placeholder:"Enter Code 6 Digits",maxLength:6,inputMode:"numeric",className:"block mt-1 w-1/2 rounded-xl border border-gray-300 shadow-sm",autoFocus:!0,autoComplete:"one-time-code"}),e.jsx(y,{message:t,className:"mt-2"})]}),m.length>0&&!a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-2 text-sm text-gray-600",children:e.jsx("p",{className:"font-semibold",children:"Store these recovery codes safely (like in a password manager). You can use them to access your account if you lose your two-factor authentication device. Each code can be used only once after a new login."})}),e.jsx("div",{className:"grid gap-1 mt-4 px-4 py-4 font-mono text-sm bg-gray-100 rounded-lg",children:m.map(i=>e.jsx("div",{children:i},i))})]})]}),e.jsx("div",{className:"mt-5",children:v?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(T,{onConfirmed:G,children:e.jsx("button",{type:"button",disabled:j,className:`flex items-center space-x-2 px-4 py-2 rounded-[10px] border-2 border-gray-300 text-gray-700 hover:bg-gray-100 transition font-semibold disabled:opacity-60
                                        ${j?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"} 
                                        border-gray-300`,children:e.jsx("span",{className:"text-sm text-gray-700",children:a?"Cancel":"Disable"})})}),a&&e.jsx("button",{type:"button",disabled:x||w,onClick:Y,className:`flex items-center space-x-2 px-4 py-2 rounded-[10px] bg-blue-600 text-blue-700 transition font-semibold disabled:opacity-60
                                        ${x||w?"opacity-50 cursor-not-allowed":"hover:bg-blue-500"}`,children:e.jsx("span",{className:"text-sm text-white",children:w?"Confirming...":"Confirm"})}),m.length>0&&!a&&e.jsx("button",{type:"button",onClick:q,disabled:r,className:"flex items-center space-x-2 px-4 py-2 rounded-[10px] bg-blue-600 text-blue-700 hover:bg-blue-500 transition font-semibold disabled:opacity-60",children:e.jsx("span",{className:"text-sm text-white",children:r?"Generating...":"Generate New"})}),m.length===0&&!a&&e.jsx(T,{onConfirmed:E,children:e.jsx("button",{className:"flex items-center space-x-2 px-4 py-2 rounded-[10px] bg-blue-600 hover:bg-blue-500 text-blue-700 transition font-semibold disabled:opacity-60",children:e.jsx("span",{className:"text-sm text-white",children:"Show Recovery Codes"})})})]}):e.jsx(T,{onConfirmed:Q,children:e.jsxs("button",{type:"button",disabled:x,className:`flex items-center space-x-2 px-4 py-2 rounded-[10px] border-2 border-blue-500 text-blue-700 hover:bg-blue-100 transition font-semibold disabled:opacity-60
                                    ${x?"opacity-50 cursor-not-allowed":"hover:bg-blue-100"} 
                                    border-blue-500`,children:[e.jsxs("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}),e.jsx("path",{d:"m9 12 2 2 4-4"})]}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Enable"})]})})})]})]})},le=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));function ee({mustVerifyEmail:f,status:d,user:x}){const{auth:s}=U().props,a=s.user&&(Array.isArray(s.user.roles)&&s.user.roles.length>0||Array.isArray(s.user.roles_list)&&s.user.roles_list.length>0),l="Profile",j=[{title:"Home",url:"/"},{title:l,url:""}];return e.jsx(e.Fragment,{children:a?e.jsxs(Z,{breadcrumb:e.jsx(J,{header:l,links:j}),children:[e.jsx(H,{title:"Profile"}),e.jsx("div",{className:"mb-12",children:e.jsx("div",{className:"mx-auto max-w-7xl",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8",children:[e.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-8",children:e.jsx(I,{mustVerifyEmail:f,status:d})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-8",children:e.jsx(O,{})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-8",children:e.jsx(R,{})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6",children:e.jsx(M,{})})]})})})]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsx(H,{title:"Profile"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl px-8 py-4",children:[e.jsx("p",{className:"text-lg font-semibold",children:"Profile"}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-8",children:e.jsx(I,{mustVerifyEmail:f,status:d})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-8",children:e.jsx(O,{})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-8",children:e.jsx(R,{})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6",children:e.jsx(M,{})})]})})})]})})}const ie=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));export{ae as D,ie as E,le as T,oe as U,ne as a};
