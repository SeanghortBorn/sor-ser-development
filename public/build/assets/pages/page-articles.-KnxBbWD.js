import{u as F,j as e,L as N,r as x,a7 as R,a8 as L,a9 as Q,a5 as Z,aa as I,ab as Y,ac as G,a3 as J,v as K,M as H,ad as X,ae as ee,af as te,ag as q,J as U,ah as se,N as re}from"../vendor/vendor-common.Cf4BX4gl.js";import{A as ae,B as le,L as ie,a as B,S as ne,b as W,c as oe,C as ce,M as de}from"../components/components-common.BSByLPoS.js";function S({label:t,icon:n,children:r,active:s}){const[l,c]=x.useState(s);return x.useEffect(()=>{c(s)},[s]),e.jsxs("div",{className:"mb-2",children:[e.jsxs("button",{onClick:()=>c(a=>!a),className:`flex items-center w-full px-2 py-2.5 rounded-xl font-medium transition-all duration-300 group ${l||s?"bg-blue-100 text-blue-700 border-l-4 border-blue-500":"hover:bg-gray-50 text-gray-700 "}`,children:[e.jsx("span",{className:`mr-3 transition-all duration-200 ease-in-out duration-300 ${l||s?"text-blue-600":"text-gray-400 group-"}`,children:n}),e.jsx("span",{className:"flex-1 text-left text-sm font-semibold",children:t}),e.jsx("svg",{className:`w-4 h-4 ml-auto transition-all duration-300 ${l?"rotate-90":""} ${l||s?"text-blue-600":"text-gray-400 group-"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("div",{className:`transition-all duration-300 overflow-hidden ${l?"max-h-96 opacity-100 mt-2":"max-h-0 opacity-0"}`,children:e.jsx("div",{className:"pl-2 space-y-1",children:r})})]})}function g({href:t,icon:n,label:r,active:s}){return e.jsxs(N,{href:t,className:`flex items-center px-2 py-2.5 rounded-xl font-medium transition-all duration-200 ${s?"bg-blue-100 text-blue-700 border-l-4 border-blue-500":"hover:bg-gray-50 text-gray-700 border-l-4 border-transparent"}`,children:[e.jsx("span",{className:`mr-3 ${s?"text-blue-600":"text-gray-400"}`,children:n}),e.jsx("span",{className:`text-sm transition-all duration-200 ease-in-out duration-200 ${s?"text-blue-700":"text-gray-600 group-"}`,children:r})]})}function P(t){try{return route(t),!0}catch{return!1}}function T(t,n={}){try{return route(t,n)}catch{return console.warn(`Route "${t}" not found`),"#"}}function xe({lang:t,setLang:n}){const{auth:r}=F().props,s=r?.can??{},l=route().current(),c=(...u)=>u.some(f=>l?.includes(f)),a={dashboard:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[e.jsx("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}),e.jsx("rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}),e.jsx("rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}),e.jsx("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"})]}),user:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e.jsx("path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}),e.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"})]}),role:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user-lock",children:[e.jsx("circle",{cx:"10",cy:"7",r:"4"}),e.jsx("path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2"}),e.jsx("path",{d:"M15 15.5V14a2 2 0 0 1 4 0v1.5"}),e.jsx("rect",{width:"8",height:"5",x:"13",y:"16",rx:".899"})]}),quiz:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-message-circle-question-mark-icon lucide-message-circle-question-mark",children:[e.jsx("path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]}),article:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-clipboard-plus-icon lucide-clipboard-plus",children:[e.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),e.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),e.jsx("path",{d:"M9 14h6"}),e.jsx("path",{d:"M12 17v-6"})]}),homophone:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-book-plus",children:[e.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),e.jsx("path",{d:"M4 4.5A2.5 2.5 0 0 1 6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15z"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),settings:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),progress:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]})};return e.jsxs("aside",{className:"main-sidebar bg-white border-r border-gray-200 w-64 fixed h-full overflow-y-auto pb-4",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-100 mt-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(N,{href:"/",className:"flex items-center gap-2 flex-shrink-0",children:e.jsx("div",{className:"relative -mt-2",children:e.jsx(ae,{size:"md",variant:"blue"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-base font-semibold text-blue-700 leading-tight",children:le.NAME.SHORT}),e.jsx("div",{className:"text-xs text-gray-500 leading-tight",children:"Application"})]})]})}),e.jsx("div",{className:"sidebar",children:e.jsxs("nav",{className:"flex-1 px-2 py-3 space-y-2",children:[e.jsxs(S,{label:"Dashboard",icon:a.dashboard,active:route().current("dashboard")||route().current("student.analytics"),children:[e.jsx(g,{href:route("dashboard"),label:"Dashboard Analytics",active:route().current("dashboard")}),e.jsx(g,{href:route("student.analytics"),label:"Student Analytics",active:route().current("student.analytics")})]}),P("user-progress.index")&&e.jsx(g,{href:T("user-progress.index"),icon:a.progress,label:"My Progress",active:c("user-progress")}),e.jsxs(S,{label:"Articles",icon:a.article,active:c("articles","article-settings"),children:[e.jsx(g,{href:route("articles.index"),label:"Article List",active:l==="articles.index"}),s["article-create"]&&e.jsx(g,{href:route("articles.create"),label:"Create Article",active:l==="articles.create"}),s["article-create"]&&P("article-settings.index")&&e.jsx(g,{href:T("article-settings.index"),label:"Article Settings",active:l==="article-settings.index"||c("article-settings")})]}),e.jsxs(S,{label:"Homophones",icon:a.homophone,active:c("homophones"),children:[e.jsx(g,{href:route("homophones.index"),label:"Homophone List",active:l==="homophones.index"}),s["homophone-create"]&&e.jsx(g,{href:route("homophones.create"),label:"Create Homophone",active:l==="homophones.create"})]}),e.jsxs(S,{label:"Quizzes",icon:a.quiz,active:c("quizzes"),children:[e.jsx(g,{href:route("quizzes.index"),label:"Quiz List",active:l==="quizzes.index"}),s["quiz-create"]&&e.jsx(g,{href:route("quizzes.create"),label:"Create Quiz",active:l==="quizzes.create"})]}),(s["role-list"]||s["user-list"])&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-400 mb-2 pt-2 px-2 tracking-wider uppercase",children:"Authentication"}),(s["role-list"]||s["role-create"])&&e.jsxs(S,{label:"Roles",icon:a.role,active:c("roles"),children:[e.jsx(g,{href:route("roles.index"),label:"Roles List",active:l==="roles.index"}),s["role-create"]&&e.jsx(g,{href:route("roles.create"),label:"Create Role",active:l==="roles.create"})]}),(s["user-list"]||s["user-create"])&&e.jsxs(S,{label:"Users",icon:a.user,active:c("users","learn"),children:[e.jsx(g,{href:route("users.index"),label:"User List",active:l==="users.index"}),s["user-create"]&&e.jsx(g,{href:route("users.create"),label:"Create User",active:l==="users.create"}),P("learn.articles.index")&&e.jsx(g,{href:T("learn.articles.index"),label:"User Learning",active:c("learn")})]}),s["settings-edit"]&&P("settings.index")&&e.jsx(g,{href:T("settings.index"),icon:a.settings,label:"Settings",active:l==="settings.index"||c("settings")})]})]})})]})}const D=({breadcrumb:t,children:n})=>{const{auth:r}=F().props,[s,l]=x.useState(!1),[c,a]=x.useState(()=>localStorage.getItem("lang")||"en"),u=x.useRef(null);r?.can;const f=j=>{u.current&&!u.current.contains(j.target)&&l(!1)};return x.useEffect(()=>{localStorage.setItem("lang",c)},[c]),x.useEffect(()=>(document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}),[]),e.jsxs("div",{className:"wrapper h-screen overflow-hidden flex flex-col",children:[e.jsxs("nav",{className:"main-header py-3 navbar navbar-expand navbar-white navbar-light",children:[e.jsx("ul",{className:"navbar-nav",children:e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link","data-widget":"pushmenu",href:"#",role:"button",children:e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 border px-2 py-2 rounded-xl",children:e.jsx("svg",{className:"block",width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.583252 1C0.583252 0.585788 0.919038 0.25 1.33325 0.25H14.6666C15.0808 0.25 15.4166 0.585786 15.4166 1C15.4166 1.41421 15.0808 1.75 14.6666 1.75L1.33325 1.75C0.919038 1.75 0.583252 1.41422 0.583252 1ZM0.583252 11C0.583252 10.5858 0.919038 10.25 1.33325 10.25L14.6666 10.25C15.0808 10.25 15.4166 10.5858 15.4166 11C15.4166 11.4142 15.0808 11.75 14.6666 11.75L1.33325 11.75C0.919038 11.75 0.583252 11.4142 0.583252 11ZM1.33325 5.25C0.919038 5.25 0.583252 5.58579 0.583252 6C0.583252 6.41421 0.919038 6.75 1.33325 6.75L7.99992 6.75C8.41413 6.75 8.74992 6.41421 8.74992 6C8.74992 5.58579 8.41413 5.25 7.99992 5.25L1.33325 5.25Z",fill:"currentColor"})})})})})}),e.jsxs("ul",{className:"navbar-nav ml-auto mr-2",children:[e.jsx("li",{children:e.jsx(ie,{lang:c,setLang:a})}),e.jsxs("li",{className:"nav-item dropdown position-relative",ref:u,children:[e.jsxs("button",{className:"nav-link btn btn-link d-flex align-items-center p-2 border-0 bg-transparent",onClick:()=>l(!s),style:{outline:"none",boxShadow:"none"},children:[e.jsx("img",{src:"/images/person-icon.svg",className:"mr-2 h-8 w-8 overflow-hidden rounded-full",alt:"User avatar"}),e.jsx("span",{className:"text-theme-sm mr-1 block font-medium",children:r?.user?.name}),e.jsx("i",{className:`fas fa-chevron-down ml-[0.1rem] transition-transform transform scale-[0.7] ${s?"rotate-180":""}`})]}),s&&e.jsxs("div",{className:"absolute right-[0.4rem] mt-2 mx-auto max-w-xl bg-white border border-gray-200 rounded-xl shadow-lg z-50",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-gray-800",children:r?.user?.name}),e.jsx("span",{className:"text-sm text-gray-500",children:r?.user?.email})]})})}),e.jsxs("div",{className:"flex flex-col py-2 px-2",children:[e.jsxs(N,{href:route("profile.edit"),onClick:()=>l(!1),className:"flex items-center px-3 py-2 text-sm text-blue-900 hover:bg-gray-100 hover:scale-105 hover:shadow-lg rounded-xl transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95",children:[e.jsx("i",{className:"fas fa-user-circle w-4 mr-3 text-gray-500"}),"My Account"]}),e.jsx("hr",{className:"my-1 border-gray-200"}),e.jsxs(N,{method:"post",href:route("logout"),as:"button",onClick:()=>l(!1),className:"flex items-center w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 hover:scale-105 hover:shadow-lg rounded-xl transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95",children:[e.jsx("i",{className:"fas fa-sign-out-alt w-4 mr-3 text-red-500"}),"Sign Out"]})]})]})]})]})]}),e.jsx(xe,{lang:c,setLang:a}),e.jsxs("div",{className:"content-wrapper flex-1 px-2 overflow-y-auto",children:[t&&t,e.jsx("section",{className:"content px-2",children:n})]})]})};function he({auth:t,article:n,stats:r,completed_users:s,not_completed_users:l}){const c=[{title:"Home",url:"/"},{title:"Articles",url:route("articles.index")},{title:"Completion Stats",url:""}];return e.jsxs(D,{breadcrumb:e.jsx(B,{header:`${n.title} - Stats`,links:c}),children:[e.jsx(R,{title:`Completion Stats - ${n.title}`}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl p-6",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),e.jsx("div",{className:"mt-2 text-3xl font-bold text-gray-900",children:r.total_users})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl p-6",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Completed"}),e.jsx("div",{className:"mt-2 text-3xl font-bold text-green-600",children:r.completed_count})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl p-6",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Not Completed"}),e.jsx("div",{className:"mt-2 text-3xl font-bold text-orange-600",children:r.not_completed_count})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl p-6",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Completion Rate"}),e.jsxs("div",{className:"mt-2 text-3xl font-bold text-blue-600",children:[r.completion_rate,"%"]})]})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl mb-6",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Completed Users (",r.completed_count,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:s.length>0?e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Accuracy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Best Accuracy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Typing Speed"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed At"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:a.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:a.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:a.accuracy?`${a.accuracy}%`:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-green-600",children:a.best_accuracy?`${a.best_accuracy}%`:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:a.typing_speed?`${a.typing_speed} WPM`:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:a.completed_at})})]},a.id))})]}):e.jsx("div",{className:"p-6 text-center text-gray-500",children:"No users have completed this article yet."})})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Not Completed Users (",r.not_completed_count,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:l.length>0?e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member Since"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:a.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:a.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:a.member_since})})]},a.id))})]}):e.jsx("div",{className:"p-6 text-center text-gray-500",children:"All users have completed this article!"})})]})]})]})}const Ne=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"}));function ue({datas:t,isEdit:n}){const r=n?"Edit Article":"Create Article",[s,l]=x.useState({title:t?.title??"",file:null,audio:null}),[c,a]=x.useState(null),[u,f]=x.useState(null),[j,p]=x.useState(!1),[o,b]=x.useState({}),y=x.useRef(null),C=x.useRef(null);x.useEffect(()=>{t&&(l({title:t.title||"",file:null,audio:null}),a(t.file?v(t.file,"files"):null),f(t.audio?v(t.audio,"audios"):null))},[t]);const v=(i,d)=>{if(!i)return null;if(typeof i=="string")return i.startsWith("http://")||i.startsWith("https://")||i.startsWith("/storage/")?i:`/storage/uploads/${d}/${i}`;if(i.file_path){const h=String(i.file_path);return h.startsWith("http://")||h.startsWith("https://")||h.startsWith("/storage/")?h:h.startsWith("storage/")?`/${h}`:h.startsWith("uploads/")?`/storage/${h}`:h.startsWith("public/")?`/storage/${h.replace(/^public\//,"")}`:`/storage/uploads/${d}/${h}`}if(i.url)return i.url;if(i.path){const h=i.path.replace(/^public\//,"");return i.path.startsWith("http")||i.path.startsWith("/")?i.path:`/storage/${h}`}return i.filename?`/storage/uploads/${d}/${i.filename}`:i.name?`/storage/uploads/${d}/${i.name}`:null},k=i=>i?typeof i=="string"?i.split("/").pop():i.title||i.filename||i.name||null:null,w=i=>{const{name:d,value:h}=i.target;l({...s,[d]:h})},_=i=>{const d=i.target.files[0];l({...s,file:d||null}),a(d?URL.createObjectURL(d):null)},A=i=>{const d=i.target.files[0];l({...s,audio:d||null}),f(d?URL.createObjectURL(d):null)},m=i=>{i.preventDefault(),p(!0),b({});const d={...s},h=new FormData;h.append("title",d.title??""),d.file&&h.append("file",d.file),d.audio&&h.append("audio",d.audio);const $=()=>p(!1);n?(h.append("_method","PATCH"),L.post(route("articles.update",t.id),h,{forceFormData:!0,onFinish:$,onError:E=>{b(E||{}),$()}})):L.post(route("articles.store"),h,{forceFormData:!0,onFinish:$,onError:E=>{b(E||{}),$()}})},M=[{title:"Home",url:"/"},{title:r,url:""}];return e.jsxs(D,{breadcrumb:e.jsx(B,{header:r,links:M}),children:[e.jsx(R,{title:r}),e.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50/30 mb-12",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"border-b mb-3",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n?"Edit Article":"Create New Article"}),e.jsx("p",{className:"text-sm text-gray-500",children:n?"Update the details of this article below.":"Fill out the form below to create a new article."})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4",encType:"multipart/form-data",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),e.jsx("input",{name:"title",type:"text",value:s.title,onChange:w,className:`w-full border rounded-xl px-3 py-2 ${o.title?"border-red-500":""}`,placeholder:"Enter article title"}),o.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.title})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Select File ",e.jsx("span",{children:" "})]}),e.jsxs("div",{className:"flex items-center justify-center h-32 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 cursor-pointer relative bg-gray-50 hover:bg-blue-50 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95",onClick:()=>{y.current&&y.current.click()},style:{minHeight:100},children:[e.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.txt",ref:y,onChange:_,className:"absolute inset-0 opacity-0 cursor-pointer",tabIndex:-1,style:{pointerEvents:"auto"},onClick:i=>i.stopPropagation()}),e.jsxs("div",{className:"text-center space-y-2 pointer-events-none",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-8 w-8 text-gray-400 pointer-events-none",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M12 16a1 1 0 0 1-1-1V9.414L8.707 11.707a1 1 0 1 1-1.414-1.414l4-4a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L13 9.414V15a1 1 0 0 1-1 1z"}),e.jsx("path",{d:"M4 18a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1z"})]}),e.jsx("div",{className:"text-sm text-gray-500 pointer-events-none",children:"Select a file or drag here"}),e.jsx("div",{className:"inline-block px-3 py-1 bg-blue-600 text-white rounded-xl text-sm hover:bg-blue-700 transition pointer-events-none",children:s.file?"Change file":"Select a file"})]})]}),o.file&&e.jsx("div",{className:"text-red-600 mt-2 text-sm",children:o.file}),c&&e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border rounded-xl p-3 mt-3 hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-xl flex items-center justify-center text-green-600",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-json2-icon lucide-file-json-2",children:[e.jsx("path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"}),e.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),e.jsx("path",{d:"M4 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1"}),e.jsx("path",{d:"M8 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1"})]})}),e.jsx("div",{className:"flex items-center mt-2 space-x-2 justify-center",children:e.jsx("p",{className:"text-sm font-medium text-gray-800",children:s.file?s.file.name:k(t?.file)||"Download"})})]}),e.jsx("button",{onClick:()=>a(null),className:"ml-4 text-gray-400  flex items-center justify-center",children:"✕"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Upload Audio ",e.jsx("span",{})]}),e.jsxs("div",{className:"flex items-center justify-center h-32 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 cursor-pointer relative bg-gray-50 hover:bg-blue-50 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95",onClick:()=>{C.current&&C.current.click()},style:{minHeight:100},children:[e.jsx("input",{type:"file",accept:"audio/*",ref:C,onChange:A,className:"absolute inset-0 opacity-0 cursor-pointer",tabIndex:-1,style:{pointerEvents:"auto"},onClick:i=>i.stopPropagation()}),e.jsxs("div",{className:"text-center space-y-2 pointer-events-none",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-8 w-8 text-gray-400 pointer-events-none",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M12 16a1 1 0 0 1-1-1V9.414L8.707 11.707a1 1 0 1 1-1.414-1.414l4-4a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L13 9.414V15a1 1 0 0 1-1 1z"}),e.jsx("path",{d:"M4 18a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1z"})]}),e.jsx("div",{className:"text-sm text-gray-500 pointer-events-none",children:"Select an audio file or drag here"}),e.jsx("div",{className:"inline-block px-3 py-1 bg-blue-600 text-white rounded-xl text-sm hover:bg-blue-700 transition pointer-events-none",children:s.audio?"Change Audio":"Select Audio"})]})]}),o.audio&&e.jsx("div",{className:"text-red-600 mt-2 text-sm",children:o.audio}),u&&e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border rounded-xl p-3 mt-3 hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-xl flex items-center justify-center text-blue-600",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 18V5l12-2v13"}),e.jsx("circle",{cx:"6",cy:"18",r:"3"}),e.jsx("circle",{cx:"18",cy:"16",r:"3"})]})}),e.jsxs("div",{className:"flex items-center justify-between w-full space-x-4 mt-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:s.audio?.name||k(t?.audio)||"Play Audio"}),e.jsx("audio",{src:u,controls:!0,preload:"metadata",className:"w-96 border rounded-xl"},u)]})]}),e.jsx("button",{onClick:()=>f(null),className:"ml-4 text-gray-400  flex items-center justify-center",children:"✕"})]})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-3 pt-6 mt-6 border-t border-gray-200",children:[e.jsx(N,{href:route("articles.index"),className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl text-gray-600 border-2 hover:bg-gray-50 hover:border-gray-300  transition duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",className:"inline-flex items-center justify-center px-8 py-2 text-sm font-medium rounded-xl text-white bg-gradient-to-r from-blue-500 to-blue-500 transition duration-200 hover:from-blue-500 hover:to-blue-600",disabled:j,children:j?n?"Updating...":"Saving...":n?"Update Article":"Create Article"})]})]})]})})})]})}const ye=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"}));function me(t,n=""){const[r,s]=x.useState(n);return{searchTerm:r,handleSearch:a=>{const u=a.target.value;s(u),L.get(route(t),{search:u},{preserveState:!0,replace:!0})},clearSearch:()=>{s(""),L.get(route(t),{},{preserveState:!0,replace:!0})}}}function pe(t){const[n,r]=x.useState(!1),[s,l]=x.useState(null),[c,a]=x.useState(!1);return{showModal:n,target:s,processing:c,openModal:p=>{l(p),r(!0)},closeModal:()=>{c||(r(!1),l(null))},confirmDelete:p=>{p?.preventDefault?.(),s&&(a(!0),L.delete(route(t,s.id),{preserveScroll:!0,onFinish:()=>{a(!1),r(!1),l(null)}}))}}}function we(t){const[n,r]=x.useState(!1),[s,l]=x.useState(null),[c,a]=x.useState(!1);return{showModal:n,target:s,processing:c,openModal:p=>{l(p),r(!0)},closeModal:()=>{c||(r(!1),l(null))},confirm:async()=>{if(!(!s&&s!==null)){a(!0);try{await t(s)}finally{a(!1),r(!1),l(null)}}}}}const z=(t,n)=>{if(!t)return null;if(typeof t=="string")return t.startsWith("http://")||t.startsWith("https://")||t.startsWith("/storage/")?t:`/storage/uploads/${n}/${t}`;if(t.file_path){const r=String(t.file_path);return r.startsWith("http://")||r.startsWith("https://")||r.startsWith("/storage/")?r:r.startsWith("storage/")?`/${r}`:r.startsWith("uploads/")?`/storage/${r}`:r.startsWith("public/")?`/storage/${r.replace(/^public\//,"")}`:`/storage/uploads/${n}/${r}`}if(t.url)return t.url;if(t.path){const r=t.path.replace(/^public\//,"");return t.path.startsWith("http")||t.path.startsWith("/")?t.path:`/storage/${r}`}return t.filename?`/storage/uploads/${n}/${t.filename}`:t.name?`/storage/uploads/${n}/${t.name}`:null},ge=t=>t?t.split(".").pop().toLowerCase():"",O=t=>ge(t)==="txt";function fe({articles:t,search:n=""}){const{auth:r}=F().props,s=r?.can??{},l=t?.data||[],{searchTerm:c,handleSearch:a}=me("articles.index",n),u=pe("articles.destroy"),[f,j]=x.useState(!1),[p,o]=x.useState(null),[b,y]=x.useState(""),[C,v]=x.useState(!1),k=async m=>{o(m),y(""),j(!0),v(!0);const M=m.file?.title||m.file?.filename||"",i=z(m.file,"files");if(O(M)&&i)try{const d=await fetch(i);if(d.ok){const h=await d.text();y(h)}}catch(d){console.error("Failed to load file:",d)}v(!1)},w="Articles List",_=[{title:"Home",url:"/"},{title:w,url:""}],A=m=>{const M=m.user.roles?.some(d=>["Admin","Instructor"].includes(d.name)),i=m.user.permissions?.some(d=>d.name==="articles-view");return M||i};return e.jsxs(D,{breadcrumb:e.jsx(B,{header:w,links:_}),children:[e.jsx(R,{title:w}),e.jsx("section",{className:"content",children:e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Articles"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(ne,{value:c,onChange:a,placeholder:"Search articles..."}),s["article-create"]&&s["article-list"]&&e.jsxs(N,{href:route("articles.create"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm text-white bg-green-600 hover:bg-green-500 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95",children:[e.jsx(Q,{className:"w-4 h-4"}),"Add Article"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full table-auto",children:[e.jsx("thead",{className:"bg-blue-600 text-white text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"ID"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Title"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"File"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Audio"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold",children:"Actions"})]})}),e.jsx("tbody",{className:"text-sm divide-y divide-gray-200",children:l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:"No articles found"})}):l.map(m=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95",children:[e.jsx("td",{className:"px-4 py-3",children:m.id}),e.jsx("td",{className:"px-4 py-3 font-medium",children:m.title}),e.jsx("td",{className:"px-4 py-3",children:m.file?e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-gray-700 text-xs truncate max-w-[150px]",children:m.file.title}),e.jsx("span",{className:"text-gray-500 text-xs",children:m.file.word_count>0?`${m.file.word_count} words`:"N/A"})]}):e.jsx("span",{className:"text-gray-400 text-xs",children:"No file"})}),e.jsx("td",{className:"px-4 py-3",children:m.audio?e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("audio",{controls:!0,className:"h-8",src:z(m.audio,"audios"),children:"Your browser does not support audio."})}):e.jsx("span",{className:"text-gray-400 text-xs",children:"No audio"})}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:new Date(m.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s["article-list"]&&e.jsx(W,{onClick:()=>k(m),icon:Z,tooltip:"View Article",variant:"blue"}),A(r)&&e.jsx(N,{href:route("articles.completion-stats",m.id),children:e.jsx(W,{icon:I,tooltip:"View Statistics",variant:"green"})}),s["article-edit"]&&e.jsx(N,{href:route("articles.edit",m.id),children:e.jsx(W,{icon:Y,tooltip:"Edit Article",variant:"yellow"})}),s["article-delete"]&&e.jsx(W,{onClick:()=>u.openModal(m),icon:G,tooltip:"Delete Article",variant:"red"})]})})]},m.id))})]})}),e.jsx("div",{className:"mt-6",children:e.jsx(oe,{links:t.links})})]})})}),e.jsx(ce,{show:u.showModal,onClose:u.closeModal,onConfirm:u.confirmDelete,title:"Delete Article",message:`Are you sure you want to delete "${u.target?.title}"? This action cannot be undone.`,confirmText:"Delete",confirmStyle:"danger",processing:u.processing}),e.jsx(de,{show:f,onClose:()=>j(!1),maxWidth:"4xl",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:p?.title}),p?.file&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"File"}),e.jsxs("div",{className:"border rounded-xl p-4 bg-gray-50",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:"Filename:"})," ",p.file.title]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:"Word Count:"})," ",p.file.word_count||"N/A"]}),C?e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading file preview..."}):O(p.file.title)&&b?e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Preview:"}),e.jsx("pre",{className:"bg-white border rounded p-3 text-xs max-h-64 overflow-auto",children:b})]}):e.jsx("a",{href:z(p.file,"files"),target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 text-blue-600 hover:underline text-sm",children:"Download File"})]})]}),p?.audio&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Audio"}),e.jsxs("div",{className:"border rounded-xl p-4 bg-gray-50",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[e.jsx("strong",{children:"Filename:"})," ",p.audio.title]}),e.jsx("audio",{controls:!0,className:"w-full",src:z(p.audio,"audios"),children:"Your browser does not support audio playback."})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>j(!1),className:"px-6 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95",children:"Close"})})]})})]})}const Ce=Object.freeze(Object.defineProperty({__proto__:null,default:fe},Symbol.toStringTag,{value:"Module"}));function je({articles:t,progress:n,nextUnlock:r,currentArticle:s}){const{flash:l,auth:c}=F().props,[a,u]=x.useState(null);x.useEffect(()=>{if(!r?.time_remaining?.total_seconds)return;const o=()=>{const v=new Date(r.available_at)-new Date;if(v<=0){u(null),window.location.reload();return}const k=Math.floor(v/(1e3*60*60*24)),w=Math.floor(v%(1e3*60*60*24)/(1e3*60*60)),_=Math.floor(v%(1e3*60*60)/(1e3*60)),A=Math.floor(v%(1e3*60)/1e3);u({days:k,hours:w,minutes:_,seconds:A})};o();const b=setInterval(o,1e3);return()=>clearInterval(b)},[r]);const f=o=>o.is_passed?e.jsx(H,{className:"w-6 h-6 text-green-500"}):o.is_completed?e.jsx(H,{className:"w-6 h-6 text-blue-500"}):o.is_available?e.jsx(se,{className:"w-6 h-6 text-blue-600"}):o.available_at?e.jsx(U,{className:"w-6 h-6 text-orange-500"}):e.jsx(re,{className:"w-6 h-6 text-gray-400"}),j=o=>o.is_passed?"Passed":o.is_completed?"Completed":o.is_available?"Available":o.availability_reason,p=o=>o.is_passed?"border-green-200 bg-green-50":o.is_completed?"border-blue-200 bg-blue-50":o.is_available?"border-blue-300 bg-white hover:shadow-lg cursor-pointer":"border-gray-200 bg-gray-50 opacity-75";return e.jsxs(D,{breadcrumb:e.jsx(B,{header:"Article Settings",links:[{title:"Home",url:"/"},{title:"Article Settings",url:""}]}),children:[e.jsx(R,{title:"Article Settings"}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[l?.error&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center gap-2 text-red-700",children:[e.jsx(J,{className:"w-5 h-5"}),l.error]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(K,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Progress"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[n.completion_percentage,"%"]})]})]}),e.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${n.completion_percentage}%`}})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(H,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[n.completed_count," / ",n.total_articles]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:e.jsx(X,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.in_progress_count})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:e.jsx(ee,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Passed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.passed_count})]})]})})]}),s&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5 text-yellow-500"}),"Continue Learning"]}),e.jsx(N,{href:route("learn.articles.show",s.article.id),className:"block bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl shadow-lg p-6 text-white hover:from-blue-700 hover:to-blue-800 transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-1",children:s.article.title}),e.jsx("p",{className:"text-blue-100 text-sm",children:s.setting?.description||"Continue where you left off"}),s.setting?.typing_mode==="nlp_la"&&e.jsxs("span",{className:"inline-flex items-center gap-1 mt-2 px-2 py-1 bg-white/20 rounded-full text-xs",children:[e.jsx(I,{className:"w-3 h-3"}),"Full Analytics Enabled"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:"Start Now"}),e.jsx(q,{className:"w-6 h-6"})]})]})})]}),r&&a&&e.jsxs("div",{className:"mb-8 bg-orange-50 border border-orange-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(U,{className:"w-6 h-6 text-orange-600"}),e.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"Next Article Unlocks In"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex gap-3",children:[a.days>0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-700",children:a.days}),e.jsx("div",{className:"text-xs text-orange-600",children:"days"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-700",children:String(a.hours).padStart(2,"0")}),e.jsx("div",{className:"text-xs text-orange-600",children:"hours"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-700",children:String(a.minutes).padStart(2,"0")}),e.jsx("div",{className:"text-xs text-orange-600",children:"min"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-700",children:String(a.seconds).padStart(2,"0")}),e.jsx("div",{className:"text-xs text-orange-600",children:"sec"})]})]}),e.jsxs("div",{className:"ml-6 text-orange-700",children:[e.jsx("p",{className:"font-medium",children:r.article.title}),e.jsx("p",{className:"text-sm",children:"will be available soon"})]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Articles"})}),e.jsx("div",{className:"space-y-3",children:t.map((o,b)=>e.jsx("div",{children:o.is_available&&!o.is_completed?e.jsx(N,{href:route("learn.articles.show",o.article.id),className:`block rounded-xl border-2 p-5 transition-all ${p(o)}`,children:e.jsx(V,{item:o,index:b,getArticleStatusIcon:f,getArticleStatusText:j})}):e.jsx("div",{className:`rounded-xl border-2 p-5 ${p(o)}`,children:e.jsx(V,{item:o,index:b,getArticleStatusIcon:f,getArticleStatusText:j})})},o.article.id))})]})})]})}function V({item:t,index:n,getArticleStatusIcon:r,getArticleStatusText:s}){return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center font-bold ${t.is_completed?"bg-green-200 text-green-700":t.is_available?"bg-blue-200 text-blue-700":"bg-gray-200 text-gray-500"}`,children:n+1}),e.jsxs("div",{className:"flex-grow min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:`font-semibold truncate ${t.is_available?"text-gray-900":"text-gray-500"}`,children:t.article.title}),t.setting?.typing_mode==="nlp_la"&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full text-xs transition-all duration-200 ease-in-out hover:scale-105",children:[e.jsx(I,{className:"w-3 h-3"}),"Full"]})]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.setting?.description||"Transcription practice"}),t.best_accuracy!==null&&e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Best score: ",t.best_accuracy,"% (",t.attempt_count," attempts)"]})]}),e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[r(t),e.jsx("span",{className:`text-sm font-medium ${t.is_passed?"text-green-600":t.is_completed||t.is_available?"text-blue-600":"text-gray-500"}`,children:s(t)})]}),t.available_at&&!t.is_available&&e.jsx("p",{className:"text-xs text-orange-600 mt-1",children:new Date(t.available_at).toLocaleDateString()})]}),t.is_available&&!t.is_completed&&e.jsx(q,{className:"w-5 h-5 text-gray-400"})]})]})}const ke=Object.freeze(Object.defineProperty({__proto__:null,default:je},Symbol.toStringTag,{value:"Module"}));export{D as A,Ne as C,Ce as I,ke as P,we as a,ye as b,me as u};
