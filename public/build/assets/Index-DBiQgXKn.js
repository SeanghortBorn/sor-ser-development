import{X as m,r as i,j as e,S as x,A as u}from"./app-CktOwjHW.js";import{A as h}from"./AuthenticatedLayout-zAiNrtmy.js";import{S as g}from"./settings-CwZX09L9.js";import{S as b}from"./save-DOROTB6U.js";import"./Dropdown-BPWDajvD.js";import"./transition-BXjfuQx7.js";import"./createLucideIcon-DNy0YAAQ.js";function S({roles:l,settings:d}){const{auth:n}=m().props,[t,o]=i.useState(d.default_role_id||""),[a,r]=i.useState(!1),c=s=>{s.preventDefault(),r(!0),u.post(route("settings.update"),{default_role_id:t},{onSuccess:()=>{r(!1)},onError:()=>{r(!1)}})};return e.jsxs(h,{user:n.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"System Settings"}),children:[e.jsx(x,{title:"System Settings"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(g,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Registration Settings"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure default role for new user signups"})]})]})}),e.jsxs("form",{onSubmit:c,className:"p-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Role for New Users"}),e.jsxs("select",{value:t,onChange:s=>o(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select a role..."}),l.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"When users register on the platform, they will automatically be assigned this role."})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"ðŸ“Œ Important Notes:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"The first user to register will always become an Admin"}),e.jsx("li",{children:"This setting only affects subsequent user registrations"}),e.jsx("li",{children:"Admins can manually change user roles later"}),e.jsx("li",{children:"Create roles at /roles/create before setting default"})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Available Roles (",l.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:l.map(s=>e.jsx("div",{className:`px-3 py-2 rounded-lg border ${s.id==t?"bg-blue-50 border-blue-300 text-blue-900":"bg-gray-50 border-gray-200 text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:s.name}),s.id==t&&e.jsx("span",{className:"text-xs bg-blue-200 text-blue-800 px-2 py-0.5 rounded",children:"Default"})]})},s.id))})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("button",{type:"submit",disabled:a||!t,className:"inline-flex items-center px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),a?"Saving...":"Save Settings"]})})]})]}),e.jsxs("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-yellow-900 mb-2",children:"ðŸ’¡ How to Create New Roles"}),e.jsxs("p",{className:"text-sm text-yellow-800",children:["Go to ",e.jsx("a",{href:route("roles.create"),className:"underline font-medium",children:"Roles â†’ Create Role"})," to create custom roles with specific permissions. Then return here to set which role new users should receive."]})]})]})})]})}export{S as default};
